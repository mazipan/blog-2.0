<!doctype html>
<html ⚡>
  <head>
    <title>Membuat button Like sederhana menggunakan Firebase Realtime Database</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="Irfan Maulana - @mazipan"><meta name="robots" content="index,follow"><meta name="keywords" content="mazipan, mazipanneh, irfan maulana, irfan vue, irfan blibli, irfan bizzy, irfan tokopedia"><meta name="theme-color" content="#bd93f9"><meta name="mobile-web-app-capable" content="yes"><meta property="og:image:width" content="512"><meta property="og:image:height" content="512"><meta property="og:site_name" content="@mazipan"><meta property="profile:username" content="mazipanneh"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@maz_ipan"><meta name="twitter:site" content="@maz_ipan"><meta name="description" content="Berbagi pengalaman dalam menggunakan Firebase RTDB untuk membuat button Like sederhana seperti yang terlihat pada Blog 2.0 ini"><meta name="apple-mobile-web-app-title" content="Membuat button Like sederhana menggunakan Firebase Realtime Database"><meta property="og:title" content="Membuat button Like sederhana menggunakan Firebase Realtime Database"><meta property="og:description" content="Berbagi pengalaman dalam menggunakan Firebase RTDB untuk membuat button Like sederhana seperti yang terlihat pada Blog 2.0 ini"><meta property="og:url" content="https://www.mazipan.xyz/create-simple-like-button-using-firebase-rtdb/"><meta name="twitter:title" content="Membuat button Like sederhana menggunakan Firebase Realtime Database"><meta name="twitter:description" content="Berbagi pengalaman dalam menggunakan Firebase RTDB untuk membuat button Like sederhana seperti yang terlihat pada Blog 2.0 ini"><meta name="twitter:url" content="https://www.mazipan.xyz/create-simple-like-button-using-firebase-rtdb/"><meta property="og:image" content="https://www.mazipan.xyz/content-images/create-simple-like-button-using-firebase-rtdb/button-like-firebase.png"><meta property="og:image:secure_url" content="https://www.mazipan.xyz/content-images/create-simple-like-button-using-firebase-rtdb/button-like-firebase.png"><meta name="twitter:image:src" content="https://www.mazipan.xyz/content-images/create-simple-like-button-using-firebase-rtdb/button-like-firebase.png"><meta property="og:type" content="article"><meta property="article:published_time" content="2019-10-08T21:58:24.394Z"><meta property="article:section" content="Technology"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"><link rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png"><link rel="manifest" href="/_nuxt/manifest.2abfda24.json"><link rel="shortcut icon" href="/_nuxt/icons/icon_64.b338d5.png"><link rel="apple-touch-icon" href="/_nuxt/icons/icon_512.b338d5.png" sizes="512x512"><link rel="canonical" href="https://www.mazipan.xyz/create-simple-like-button-using-firebase-rtdb/">
    <link rel="preconnect" href="https://polyfill.io" crossorigin><link rel="dns-prefetch" href="https://polyfill.io">
    
  <style amp-custom>/*! modern-normalize | MIT License | https://github.com/sindresorhus/modern-normalize */html{-webkit-box-sizing:border-box;box-sizing:border-box}*,::after,::before{-webkit-box-sizing:inherit;box-sizing:inherit}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol'}hr{height:0}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:SFMono-Regular,Consolas,'Liberation Mono',Menlo,Courier,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{padding:0}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}:root{--bg:#282a36;--bgLighter:#44475a;--textNormal:#f8f8f2;--textTitle:#50fa7b;--textSubtitle:#8be9fd;--textLink:#bd93f9;--textHighlight:#ff79c6;--textWarning:#f1fa8c;--textDanger:#ff5555;--textSecondary:#6272a4}body{font-family:Montserrat,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-size:16px;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-box-sizing:border-box;box-sizing:border-box;color:var(--textNormal);background-color:var(--bg)}.container{margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem}.clearfix::after{content:"";clear:both;display:table}a{color:var(--textLink);text-decoration:none}a:hover{text-decoration:underline}blockquote{font-style:italic;border-left:4px solid var(--textSecondary);color:var(--textSecondary);margin:0;padding:.25em 1em;font-size:110%}small{font-size:80%}table{display:block;overflow:auto;width:100%;border-collapse:collapse;border-spacing:0}table th{border:1px solid #dfe2e5;padding:13px;font-weight:700}table tr td{border:1px solid #c6cbd1;padding:8px 13px;text-align:left}table tr:nth-child(2n){background-color:#3c3e50}:not(pre)>code[class*=language-],pre[class*=language-]{border-radius:10px;-webkit-box-shadow:0 0 8px 4px rgba(0,0,0,.2);box-shadow:0 0 8px 4px rgba(0,0,0,.2);background-color:var(--bgLighter)}code:not([class*=language-]){background-color:var(--bgLighter);color:var(--textLink);padding:.1em .5em;border-radius:.25em}pre{max-width:100%;overflow:auto}.flex{display:-webkit-box;display:-ms-flexbox;display:flex}.flex--center{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.dot{padding:0 .5em}.wrapper{margin:1em 0 0 0;min-height:60vh}.meta{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.meta__date{color:var(--textSubtitle)}@media screen and (max-width:640px){.meta--desktop{display:none}}.meta--mobile{display:none}@media screen and (max-width:640px){.meta--mobile{display:block}}.space-bottom{margin-bottom:1em}.footer{width:100%;margin:0 auto;text-align:center}@-webkit-keyframes zoomIn{from{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes zoomIn{from{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}.zoomIn{-webkit-animation-name:zoomIn;animation-name:zoomIn;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.text-normal{color:var(--textNormal)}.text-title{color:var(--textTitle)}.text-subtitle{color:var(--textSubtitle)}.text-link{color:var(--textLink)}.text-highlight{color:var(--textHighlight)}.text-warning{color:var(--textWarning)}.text-danger{color:var(--textDanger)}.text-secondary{color:var(--textSecondary)}.header{margin-bottom:3.5rem}.header--simplify{margin-bottom:1rem}.profile{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.profile--left{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.profile__img{height:76px;width:76px;margin-right:1em}.profile__text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-right:1em}.profile__title{font-weight:700;font-size:1.5em;margin-top:0}.profile__social a{margin-right:.5em}.nav{margin-top:1em}.pages__title{margin-bottom:.25em;font-weight:700}.pages__title--small{font-size:2em}.pages__cover{margin:2em 0 0 0;width:100%;height:200px;-o-object-fit:cover;object-fit:cover;border-radius:10px;-webkit-box-shadow:1px 1px 8px 5px rgba(0,0,0,.2);box-shadow:1px 1px 8px 5px rgba(0,0,0,.2)}.pages__content{width:100%;word-break:break-word;margin:2em 0}.pages__date{color:var(--textSubtitle)}.pages__item{margin-bottom:3.5em}.pages__lang{padding:.25em 1em;border-radius:.25em;background-color:var(--bgLighter);margin-bottom:1em;display:table;cursor:pointer}.pages__tags{display:-webkit-box;display:-ms-flexbox;display:flex}.pages__tags--spacetop{margin-top:.5em}.pages__tag{margin-right:.5em;padding:0 .5em;line-height:1.5;border-radius:.25em}.pages__tag a{color:var(--bgLighter)}.pages__tag:first-child{background-color:var(--textHighlight)}.pages__tag:nth-child(2){background-color:var(--textTitle)}.pages__tag:nth-child(3){background-color:var(--textSubtitle)}.pages__sponsored{padding:.25em 1em;border-radius:.25em;background-color:var(--bgLighter)}.pages__footer{margin:1em 0}.block-wrap{margin:1em 0;display:-webkit-box;display:-ms-flexbox;display:flex;justify-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.like,.share{display:-webkit-box;display:-ms-flexbox;display:flex}.like-btn,.share-btn{color:var(--textNormal);background:var(--textLink);padding:.25em 1em;border-radius:.25em;border:0;outline:0;cursor:pointer;margin-right:1em;text-decoration:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pages__content h2{color:var(--textSubtitle)}.pages__content h3{color:var(--textWarning)}.pages__content a{color:var(--textHighlight);text-decoration:underline}.pages__content p{line-height:1.5}.pages__content img{width:90%;height:auto;border-radius:10px;-webkit-box-shadow:1px 1px 8px 5px rgba(0,0,0,.2);box-shadow:1px 1px 8px 5px rgba(0,0,0,.2);-o-object-fit:cover;object-fit:cover}.pages__content ol>li,.pages__content ul{line-height:2}.VueAdsense{max-width:42rem;width:90%;padding-top:2.625rem;display:block}.ion{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.ion__svg{fill:currentColor}@-webkit-keyframes ionShake{10%,90%{-webkit-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-webkit-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-webkit-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-webkit-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}@keyframes ionShake{10%,90%{-webkit-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-webkit-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-webkit-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-webkit-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}@-webkit-keyframes ionRotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ionRotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes ionBeat{0%{-webkit-transform:scale(.75);transform:scale(.75)}20%{-webkit-transform:scale(1);transform:scale(1)}40%{-webkit-transform:scale(.75);transform:scale(.75)}60%{-webkit-transform:scale(1);transform:scale(1)}80%{-webkit-transform:scale(.75);transform:scale(.75)}100%{-webkit-transform:scale(.75);transform:scale(.75)}}@keyframes ionBeat{0%{-webkit-transform:scale(.75);transform:scale(.75)}20%{-webkit-transform:scale(1);transform:scale(1)}40%{-webkit-transform:scale(.75);transform:scale(.75)}60%{-webkit-transform:scale(1);transform:scale(1)}80%{-webkit-transform:scale(.75);transform:scale(.75)}100%{-webkit-transform:scale(.75);transform:scale(.75)}}.ion-beat{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:ionBeat;animation-name:ionBeat;-webkit-animation-duration:.82s;animation-duration:.82s}.ion-shake{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:ionShake;animation-name:ionShake;-webkit-animation-duration:.82s;animation-duration:.82s}.ion-rotate{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:ionRotate;animation-name:ionRotate;-webkit-animation-duration:2s;animation-duration:2s}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:4px;width:0%;opacity:1;-webkit-transition:width .1s,opacity .4s;transition:width .1s,opacity .4s;background-color:#bd93f9;z-index:999999}.nuxt-progress.nuxt-progress-notransition{-webkit-transition:none;transition:none}.nuxt-progress-failed{background-color:red}</style><script async src="https://cdn.ampproject.org/v0.js"></script>
<script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
<script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js"></script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript></head>
  <body>
    <div id="__nuxt"><!----><div id="__layout"><div class="container app"><header class="header header--simplify clearfix"><div class="header__block"><div class="header__child"><a href="/amp/" class="nuxt-link-active"><h1 class="h1">
          mazipan.xyz
        </h1></a> <div class="nav--wrapper navigation"><div class="nav">
    😎
    <a href="/amp/about">
      About
    </a> <span class="dot"> • </span>
    ⏰
    <a href="/amp/now">
      Now
    </a></div> <div class="nav">
    📦
    <a href="/amp/archives">
      Archives
    </a> <span class="dot"> • </span>
    😈
    <a href="/amp/ghibahprogrammer">
      Ghibah
    </a></div></div></div></div></header> <section class="postdetail-ID wrapper clearfix"><section class="pages"><h1 class="pages__title pages__title--small text-title">
    Membuat button Like sederhana menggunakan Firebase Realtime Database
  </h1> <div class="pages__lang"><a href="/amp/create-simple-like-button-using-firebase-rtdb/en?utm_source=lang">
      Switch to  🇬🇧 language
    </a></div> <!----> <div><div class="meta meta--desktop"><small class="meta__date">
      📆 February 21, 2019
    </small> <small class="dot"> • </small> <small class="meta__read">☕️ 10 min read</small> <!----> <!----> <!----> <!----></div> <div class="meta meta--mobile"><div><small class="meta__date">
        📆 February 21, 2019
      </small> <small class="dot"> • </small> <small class="meta__read">☕️ 10 min read</small></div> <div style="margin-top:.5em"><!----> <!----> <!----></div></div></div> <div class="pages__tags pages__tags--spacetop"><div class="pages__tag"><a href="/category/javascript?utm_source=home" title="javascript">
        #javascript
      </a></div><div class="pages__tag"><a href="/category/nuxt?utm_source=home" title="nuxt">
        #nuxt
      </a></div><div class="pages__tag"><a href="/category/firebase?utm_source=home" title="firebase">
        #firebase
      </a></div></div> <div class="pages__content"><div class="content-markdown"><h2>Latar Belakang</h2> <p>Seperti sudah saya jelaskan pada tulisan sebelumnya bahwa Blog 2.0 ini hanyalah sebuah static Blog tanpa Backend, pun saya hanya menggunakan jasa static hosting dari Netlify untuk meletakan dan meyajikan file hasil build. Karena saya tidak menggunakan Backend dan tidak ingin menggunakannya, maka saya kesulitan ketika ingin menambahkan fitur yang mengharuskan saya menyimpan data di basis data (<em>database</em> -DB) seperti jumlah orang yang <em>like</em> suatu artikel. Data seperti itu jelas bukan data yang bisa disimpan di <em>browser</em> masing-masing. Datanya harus terpusat dan semua pengunjung melihat jumlah yang sama. Data seperti ini paling ideal ada di DB, apapun jenis DB yang digunakan.</p> <p>Dewasa ini untunglah ada platform seperti <a href="https://firebase.google.com/">Firebase ↗️</a> yang membantu orang-orang yang males bikin Backend namun tetap bisa menyimpan data secara terpusat. Firebase bukan cuma menyediakan DB untuk kita tapi juga jasa lainnya seperti hosting, otentikasi, cloud storage, analytics, A/B testing, remote config, dynamic link dan berbagai hal keren lainnya. Firebase ini ibarat paket komplit kalau kita mau beli makan siang.</p> <p>Kali ini kita hanya akan menggunakan fitur real-time databasenya saja.</p> <amp-img  src="/content-images/create-simple-like-button-using-firebase-rtdb/button-like-firebase.png" alt="Button Like Firebase" height="200px" width="200px" layout=responsive></amp-img> <h2>Membuat Projek di Firebase</h2> <p>Pertama kalian harus membuat projek di <a href="https://console.firebase.google.com/">Firebase Console ↗️</a>, kalian bisa memberi nama apapun pada projek kalian tapi nama ini memang harus unik dan belum pernah digunakan oleh orang lain.</p> <p>Berikutnya kalian akan disuguhi pilihan untuk melakukan setup pada Firebase yang berbeda-beda tergantung jenis projek kalian, kita bisa memilih untuk web dan akan diberikan kode untuk memasang Firebase seperti berikut:</p> <pre><code class="language-html">&lt;script src="https://www.gstatic.com/firebasejs/5.8.3/firebase.js">&lt;/script>
&lt;script>
  // Initialize Firebase
  var config = {
    apiKey: "QWERTY-YTREWQ",
    authDomain: "contoh-aja.firebaseapp.com",
    databaseURL: "https://contoh-aja.firebaseio.com",
    projectId: "contoh-aja",
    storageBucket: "contoh-aja.appspot.com",
    messagingSenderId: "1234567890"
  };
  firebase.initializeApp(config);
&lt;/script>
</code></pre> <p>Kita tidak bisa <em>copy-paste</em> kode ini mentah-mentah, karena projek Blog 2.0 menggunakan Nuxt sebagai framework dan tentu berbeda sedikit cara menggunakannya.</p> <p>Sebelum mulai menyiapkan konfigurasi, saya memilih untuk meletakan nilai-nilai konfigurasi ini kedalam file <code>.env</code> agar mudah diubah-ubah nantinya.</p> <p>Saya membuat file <code>.env</code> dengan isi berdasarkan konfigurasi yang didapat dari Firebase seperti berikut:</p> <pre><code class="language-bash">FIREBASE_API_KEY= your firebase `apiKey` config
FIREBASE_AUTH_DOMAIN= your firebase `authDomain` config
FIREBASE_DATABASE_URL= your firebase `databaseURL` config
FIREBASE_PROJECT_ID= your firebase `projectId` config
FIREBASE_STORAGE_BUCKET= your firebase `storageBucket` config
FIREBASE_MESSAGING_SENDER_ID= your firebase `messagingSenderId` config
</code></pre> <p>Di Nuxt.js saya menambahkan module <code>@nuxtjs/dotenv</code> di file <code>nuxt.config.js</code> agar bisa membaca nilai dari <code>.env</code> ini, namun belakangan saya mendapati kalau nilai ini tidak diganti ketika proses generate file static dilakukan oleh Nuxt. Saya perlu menambahkan kode berikut pada file <code>nuxt.config.js</code> saya:</p> <pre><code class="language-javascript">module.exports = {
  env: {
    FIREBASE_API_KEY: process.env.FIREBASE_API_KEY,
    FIREBASE_AUTH_DOMAIN: process.env.FIREBASE_AUTH_DOMAIN,
    FIREBASE_DATABASE_URL: process.env.FIREBASE_DATABASE_URL,
    FIREBASE_PROJECT_ID: process.env.FIREBASE_PROJECT_ID,
    FIREBASE_STORAGE_BUCKET: process.env.FIREBASE_STORAGE_BUCKET,
    FIREBASE_MESSAGING_SENDER_ID: process.env.FIREBASE_MESSAGING_SENDER_ID
  },
}
</code></pre> <h2>Menyiapkan Kode Konfigurasi</h2> <p>Untuk membuka koneksi ke Firebase, saya membutuhkan dependency <code>firebase</code> yang bisa dipasang lewat perintah</p> <pre><code class="language-bash">$ yarn add firebase
# atau
$ npm i firebase
</code></pre> <p>Saya memilih untuk meletakan koneksi firebase ini ke dalam folder <code>plugins</code> di struktur Nuxt, ini artinya akan ditambahkan di semua halaman yang ada di dalam projek ini.</p> <p>Saya membuat file <code>plugins/firebase.js</code> dan membuat koneksi ke Firebase dengan kode berikut:</p> <pre><code class="language-javascript">import Vue from 'vue'
const firebase = require('firebase/app')
require('firebase/database')

var config = {
  apiKey: process.env.FIREBASE_API_KEY || '',
  authDomain: process.env.FIREBASE_AUTH_DOMAIN || '',
  databaseURL: process.env.FIREBASE_DATABASE_URL || '',
  projectId: process.env.FIREBASE_PROJECT_ID || '',
  storageBucket: process.env.FIREBASE_STORAGE_BUCKET || '',
  messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID || ''
}

firebase.initializeApp(config)
Vue.prototype.$firebase = firebase
</code></pre> <p>Selain membuka koneksi ke Firebase saya juga melakukan injeksi objek firebase yang telah disiapkan kedalam <em>instance</em> dari Vue agar mudah dipakai di Vue Component nantinya.</p> <p>Saya perlu menambahkan plugins ini di file <code>nuxt.config.js</code> agar terbaca di projek ini dengan kode seperti berikut:</p> <pre><code class="language-javascript">module.exports = {
  plugins: [
    { src: '~/plugins/firebase', ssr: false }
   ↗️]
}
</code></pre> <p>Selain harus diinisialisasi, Firebase juga membutuhkan beberapa file seperti <code>firebase.json</code>, <code>.firebaserc</code> dan <code>database.rules.json</code>. File-file ini bisa didapatkan dengan perintah <code>firebase init</code> pada folder root projek kita. Namun sebelum itu kalian harus login ke dalam firebase terlebih dahulu dengan perintah <code>firebase login</code>.</p> <p>Berikut contoh file <code>firebase.json</code> yang bisa kalian temui juga di projek ini:</p> <pre><code class="language-javascript">{
  "database": {
    "rules": "database.rules.json"
  }
}
</code></pre> <p>Dan file <code>database.rules.json</code> seperti berikut yang artinya saya membiarkan pengguna mengakses database saya tanpa perlu login terlebih dahulu.</p> <pre><code class="language-javascript">{
  "rules": {
    ".read": "auth == null",
    ".write": "auth == null"
  }
}
</code></pre> <h2>Menyiapkan Struktur Data</h2> <p>Struktur data dari Firebase DB ini tidak seperti basis data relasional, Firebase DB lebih seperti file JSON file biasa.</p> <p>Saya membuat struktur data untuk menyimpan jumlah like pada setiap artikel seperti berikut:</p> <pre><code class="language-javascript">{
  "claps": {
    "create-simple-like-button-using-firebase-rtdb":0,"eslint-formatter-html-extended":0,
    "blog-2-0-in-nuxtjs":0
  }
}
</code></pre> <p>Jika kalian malas, kalian juga bisa melakukan import dari data JSON yang sudah saya siapkan di file <code>firebase-db-export.json</code> pada projek Blog 2.0.</p> <p>Jangan lupa untuk membuka akses untuk <em>read</em> dan <em>write</em> pada tab <code>Rules</code>:</p> <pre><code class="language-javascript">{
  "rules": {
    ".read": true,
    ".write": true
  }
}
</code></pre> <h2>Membaca dan Memperbarui Data</h2> <p>Firebase terbilang cukup mudah untuk digunakan dengan Vue ataupun Nuxt, kita akan mencoba membaca data yang telah kita buat di Firebase DB di dalam Vue Component kita.</p> <p>Saya meletakan di <em>life cycle</em> <code>mounted</code> di Vue Component kode berikut:</p> <pre><code class="language-javascript">// this is vue component instance
const __self = this
const REF_URL = 'claps/' + __self.meta.slug
__self.clapsRefs = __self.$firebase.database().ref(REF_URL)
__self.clapsRefs.once('value').then(function (snapshot) {
  __self.claps = snapshot.val()
})
</code></pre> <p>Sebelumnya tentu saya harus menyiapkan state <code>clapsRefs</code> dan <code>claps</code> di bagian <code>data ()</code> sebagai penampung nilai tersebut.</p> <p>Kode diatas digunakan untuk menginisialisai nilai berdasarkan data yang ada di Firebase DB, bagaimana kalau ada perubahan nilai pada Firebase DB kita? karena kita menggunakan Firebase Realtime-DB maka akan sangat mudah bagi kita untuk mendengarkan setiap perubahan yang terjadi dan saar itu pula langsung bereaksi dengan memperbarui tampilan jumlah <em>like</em> yang ditampilkan. Kode untuk mendengarkan perubahan secara realtime kurang lebih sebagai berikut:</p> <pre><code class="language-javascript">// this is vue component instance
const __self = this
__self.clapsRefs.on('value', function (snapshot) {
  __self.claps = snapshot.val()
})
</code></pre> <p>Sementara untuk memperbarui nilai di DB kita juga tidak kalah mudahnya, cukup dengan kode <code>set</code> pada referensi yang telah kita dapatkan, seperti contoh berikut:</p> <pre><code class="language-javascript">// this is vue component instance
if (this.clapsRefs) {
  this.clapsRefs.set(this.claps + 1)
}
</code></pre> <h2>Travis CI Konfigurasi</h2> <p>Sentuhan terkhir adalah memastikan ketika proses build kita menyetel nilai <em>environment variable</em> dengan nilai asli sesuai dengan apa yang kita gunakan di prodcution. Bila pada saat di lokal kita bisa menggunakan file <code>.env</code> yang tidak mungkin kita push ke repository.</p> <p>Di <a href="https://travis-ci.org">Travis CI ↗️</a> kita juga bisa menyetel berbagai variabel dengan mudah. Cukup masuk ke bagian <code>settings</code> dan kita bisa menambahkan <em>key-value</em> sebagai variabel yang akan diikutkan saat proses <em>build</em>.</p> <amp-img  src="/content-images/create-simple-like-button-using-firebase-rtdb/travis-ci-env.png" alt="Travis CI Environment Variable" height="200px" width="200px" layout=responsive></amp-img> <h3>Demikian artikel kali ini, semoga bermanfaat...</h3></div> <div><a href="/" class="nuxt-link-active">
    🏠 Back to Home
  </a> <span class="dot"> • </span> <a target="_blank" rel="noopener" title="Edit in Github" href="https://github.com/mazipan/blog-2.0/edit/master/contents/published/create-simple-like-button-using-firebase-rtdb/index.md">
    📝 Edit in Github
  </a></div></div> <hr> <div class="pages__footer">
    🚨Do you like this article? help me to share to your followers.
  </div> <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://www.mazipan.xyz"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "javascript",
      "item": "https://www.mazipan.xyz/category/javascript"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Membuat button Like sederhana menggunakan Firebase Realtime Database",
      "item": "https://www.mazipan.xyz/create-simple-like-button-using-firebase-rtdb"
    }
  ]
}</script> <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.mazipan.xyz/create-simple-like-button-using-firebase-rtdb"
  },
  "headline": "Membuat button Like sederhana menggunakan Firebase Realtime Database",
  "image": [
    "https://www.mazipan.xyz/content-images/create-simple-like-button-using-firebase-rtdb/button-like-firebase.png"
  ],
  "datePublished": "2019-02-21T00:00:00.000Z",
  "dateModified": "2019-02-21T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "Irfan Maulana"
  },
  "publisher": {
    "@type": "Organization",
    "name": "mazipan",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.mazipan.xyz/favicon-192x192.png"
    }
  },
  "description": "Berbagi pengalaman dalam menggunakan Firebase RTDB untuk membuat button Like sederhana seperti yang terlihat pada Blog 2.0 ini"
}</script></section></section> <hr> <footer class="footer clearfix"><span>Copyright © 2019 by</span> <a href="http://github.com/mazipan" title="Github" target="_blank" rel="noopener">Irfan Maulana</a> <br> <br> <div class="profile__social"><a href="https://github.com/mazipan" title="Github" target="_blank" rel="noopener"><svg viewBox="0 0 512 512" width="24px" height="24px" class="ion__svg"><path d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9 1.4.3 2.6.4 3.8.4 8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1-8.4 1.9-15.9 2.7-22.6 2.7-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1 10.5 0 20-3.4 25.6-6 2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8 0 0 1.6-.5 5-.5 8.1 0 26.4 3.1 56.6 24.1 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 30.2-21 48.5-24.1 56.6-24.1 3.4 0 5 .5 5 .5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5 1.2 0 2.6-.1 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"></path></svg></a> <a href="https://twitter.com/Maz_Ipan" title="Twitter" target="_blank" rel="noopener"><svg viewBox="0 0 512 512" width="24px" height="24px" class="ion__svg"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z"></path></svg></a> <a href="https://www.facebook.com/mazipanneh" title="Facebook" target="_blank" rel="noopener"><svg width="24px" height="24px" viewBox="0 0 512 512" class="ion__svg"><path d="M426.8 64H85.2C73.5 64 64 73.5 64 85.2v341.6c0 11.7 9.5 21.2 21.2 21.2H256V296h-45.9v-56H256v-41.4c0-49.6 34.4-76.6 78.7-76.6 21.2 0 44 1.6 49.3 2.3v51.8h-35.3c-24.1 0-28.7 11.4-28.7 28.2V240h57.4l-7.5 56H320v152h106.8c11.7 0 21.2-9.5 21.2-21.2V85.2c0-11.7-9.5-21.2-21.2-21.2z"></path></svg></a></div></footer></div></div></div><noscript>This website requires JavaScript.</noscript>
    <script type="application/ld+json">{"@context": "http://schema.org","@type": "WebSite","url": "https://www.mazipan.xyz", "name": "Irfan Maulana", "author": "Irfan Maulana", "image": "https://www.mazipan.xyz/icon.png", "description": "@mazipan | A personal blog by Irfan Maulana", "sameAs": [ "https://www.facebook.com/mazipanneh", "https://instagram.com/maz_ipan", "https://twitter.com/Maz_Ipan", "https://id.linkedin.com/in/mazipan", "https://www.slideshare.net/IrfanMaulana21", "https://github.com/mazipan"]}</script>
  
    <amp-auto-ads type="adsense" data-ad-client="ca-pub-5442972248172818"></amp-auto-ads>
    <amp-analytics type='googleanalytics'>
    <script type='application/json'>
      {
        "vars": {
          "account": "UA-25065548-6"
        },
        "triggers": {
          "trackPageview": {
            "on": "visible",
            "request": "pageview"
          }
        }
      }
    </script>
  </amp-analytics>
</body>
</html>
