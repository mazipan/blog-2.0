(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{199:function(e,t){e.exports={body:'## Background Story\n\nAs I explained in the previous article that Blog 2.0 is just a static Blog without Backend, I only use static hosting services from Netlify to place and present the build files. Because I do not use Backend and do not want to use it, I have difficulty when adding features that require me to store data in the database like the number of people who like an article. Such data is clearly not data that can be stored in each browser. The data must be centered and all visitors see the same amount. Data like this is most ideal in the DB, whatever type of DB is used.\n\nToday fortunately there is a platform like [Firebase ↗️](https://firebase.google.com/) that helps lazy people make Backends but still can store data centrally. Firebase not only provides DB for us but also other services such as hosting, authentication, cloud storage, analytics, A / B testing, remote config, dynamic links and various other cool things. Firebase is like a complete package if we want to buy lunch.\n\nThis time we will only use the real-time database feature.\n\n<img v-lazyload src="/images/placeholder-1x1.png" data-src="/content-images/create-simple-like-button-using-firebase-rtdb/button-like-firebase.png" alt="Button Like Firebase" height="200px" width="200px">\n\n## Creating project in Firebase\n\nFirst you have to make a project in [Firebase Console ↗️](https://console.firebase.google.com/), you can give any name to your project but this name must be unique and has never been used by anyone else.\n\nNext you will be offered the option to setup Firebase that varies depending on the type of your project, we can choose for the web and will be given a code to install Firebase like this:\n\n```html\n<script src="https://www.gstatic.com/firebasejs/5.8.3/firebase.js"><\/script>\n<script>\n  // Initialize Firebase\n  var config = {\n    apiKey: "QWERTY-YTREWQ",\n    authDomain: "contoh-aja.firebaseapp.com",\n    databaseURL: "https://contoh-aja.firebaseio.com",\n    projectId: "contoh-aja",\n    storageBucket: "contoh-aja.appspot.com",\n    messagingSenderId: "1234567890"\n  };\n  firebase.initializeApp(config);\n<\/script>\n```\n\nWe can\'t do a copy-paste this code completely, because the Blog 2.0 project uses Nuxt as a framework and of course there are a few different ways to use it.\n\nBefore starting to set up the configuration, I chose to put these configuration values into the `.env` file so that it can be easily changed later.\n\nI created the `.env` file with the contents based on the configuration obtained from Firebase as follows:\n\n```bash\nFIREBASE_API_KEY= your firebase `apiKey` config\nFIREBASE_AUTH_DOMAIN= your firebase `authDomain` config\nFIREBASE_DATABASE_URL= your firebase `databaseURL` config\nFIREBASE_PROJECT_ID= your firebase `projectId` config\nFIREBASE_STORAGE_BUCKET= your firebase `storageBucket` config\nFIREBASE_MESSAGING_SENDER_ID= your firebase `messagingSenderId` config\n```\n\nOn Nuxt.js I added the `@nuxtjs/dotenv` module in the` nuxt.config.js` file to be able to read the value of this `.env`, but later I found that this value was not replaced when the process of generating static files was done by Nuxt . I need to add the following code to my `nuxt.config.js` file:\n\n```javascript\nmodule.exports = {\n  env: {\n    FIREBASE_API_KEY: process.env.FIREBASE_API_KEY,\n    FIREBASE_AUTH_DOMAIN: process.env.FIREBASE_AUTH_DOMAIN,\n    FIREBASE_DATABASE_URL: process.env.FIREBASE_DATABASE_URL,\n    FIREBASE_PROJECT_ID: process.env.FIREBASE_PROJECT_ID,\n    FIREBASE_STORAGE_BUCKET: process.env.FIREBASE_STORAGE_BUCKET,\n    FIREBASE_MESSAGING_SENDER_ID: process.env.FIREBASE_MESSAGING_SENDER_ID\n  },\n}\n```\n\n## Setup the Configuration Code\n\nTo open a connection to Firebase, I need the `firebase` dependency that can be installed via the command\n\n```bash\n$ yarn add firebase\n# atau\n$ npm i firebase\n```\n\nI chose to put this firebase connection into the `plugins` folder in the Nuxt structure, this means that it will be added to all pages in this project.\n\nI created the `plugins/firebase.js` file and made a connection to Firebase with the following code:\n\n```javascript\nimport Vue from \'vue\'\nconst firebase = require(\'firebase/app\')\nrequire(\'firebase/database\')\n\nvar config = {\n  apiKey: process.env.FIREBASE_API_KEY || \'\',\n  authDomain: process.env.FIREBASE_AUTH_DOMAIN || \'\',\n  databaseURL: process.env.FIREBASE_DATABASE_URL || \'\',\n  projectId: process.env.FIREBASE_PROJECT_ID || \'\',\n  storageBucket: process.env.FIREBASE_STORAGE_BUCKET || \'\',\n  messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID || \'\'\n}\n\nfirebase.initializeApp(config)\nVue.prototype.$firebase = firebase\n```\n\nIn addition to opening a connection to Firebase I also injected the prepared firebase object into the instance of Vue so that it can be easily used in the later Vue Component.\n\nI need to add these plugins in the `nuxt.config.js` file so that they are read in this project with the code like this:\n\n```javascript\nmodule.exports = {\n  plugins: [\n    { src: \'~/plugins/firebase\', ssr: false }\n   ↗️]\n}\n```\n\nBesides having to be initialized, Firebase also requires several files such as `firebase.json`,` .firebaserc` and `database.rules.json`. These files can be obtained with the `firebase init` command in our project root folder. But before that you have to log in to Firebase first with the `firebase login` command.\n\nThe following is an example of the `firebase.json` file that you can also find in this project:\n\n```javascript\n{\n  "database": {\n    "rules": "database.rules.json"\n  }\n}\n```\n\nAnd the `database.rules.json` file as follows, which means I let users access my database without having to login first.\n\n```javascript\n{\n  "rules": {\n    ".read": "auth == null",\n    ".write": "auth == null"\n  }\n}\n```\n\n## Setup a Data Structure\n\nThis data structure from Firebase DB is not like a relational database, Firebase DB is more like an ordinary JSON file.\n\nI structure the data to store the number of likes in each article as follows:\n\n```javascript\n{\n  "claps": {\n    "create-simple-like-button-using-firebase-rtdb":0,"eslint-formatter-html-extended":0,\n    "blog-2-0-in-nuxtjs":0\n  }\n}\n```\n\nIf you are lazy, you can also import from JSON data that I have prepared in the `firebase-db-export.json` file on the Blog 2.0 project.\n\nDon\'t forget to open access for read and write on the `Rules` tab:\n\n```javascript\n{\n  "rules": {\n    ".read": true,\n    ".write": true\n  }\n}\n```\n\n## Read and Update Data\n\nFirebase is fairly easy to use with Vue or Nuxt, we will try to read the data that we have created in Firebase DB in our Vue Component.\n\nI put it in the `mounted` life cycle in the following Vue Component code:\n\n```javascript\n// this is vue component instance\nconst __self = this\nconst REF_URL = \'claps/\' + __self.meta.slug\n__self.clapsRefs = __self.$firebase.database().ref(REF_URL)\n__self.clapsRefs.once(\'value\').then(function (snapshot) {\n  __self.claps = snapshot.val()\n})\n```\n\nPreviously, of course I had to set up `clapsRefs` and `claps` states in the `data ()` section as a placeholder for that value.\n\nThe above code is used to initialize values based on data that is in Firebase DB, what if there is a change in value in our Firebase DB? because we use Firebase Realtime-DB, it will be very easy for us to listen to any changes that occur and so it immediately reacts by updating the display of the likes displayed. The code for listening to changes in realtime is more or less as follows:\n\n```javascript\n// this is vue component instance\nconst __self = this\n__self.clapsRefs.on(\'value\', function (snapshot) {\n  __self.claps = snapshot.val()\n})\n```\n\nWhile to update the value in our DB it is also no less easy, just by the `set` code in the reference we have got, like the following example:\n\n```javascript\n// this is vue component instance\nif (this.clapsRefs) {\n  this.clapsRefs.set(this.claps + 1)\n}\n```\n\n## Travis CI Configs\n\nThe last touch is making sure when the build process we set the value of *environment variable* with the original value according to what we use in the prodcution. If at local time we can use the `.env` file which we cannot push into the repository.\n\nIn [Travis CI ↗️](https://travis-ci.org) we can also adjust various variables easily. Just enter the `settings\' section and we can add * key-value * as a variable that will be included during the * build * process.\n\n<img v-lazyload src="/images/placeholder-1x1.png" data-src="/content-images/create-simple-like-button-using-firebase-rtdb/travis-ci-env.png" alt="Travis CI Environment Variable" height="200px" width="200px">\n\n### Hopefully useful...\n\n',html:'<h2>Background Story</h2>\n<p>As I explained in the previous article that Blog 2.0 is just a static Blog without Backend, I only use static hosting services from Netlify to place and present the build files. Because I do not use Backend and do not want to use it, I have difficulty when adding features that require me to store data in the database like the number of people who like an article. Such data is clearly not data that can be stored in each browser. The data must be centered and all visitors see the same amount. Data like this is most ideal in the DB, whatever type of DB is used.</p>\n<p>Today fortunately there is a platform like <a href="https://firebase.google.com/">Firebase ↗️</a> that helps lazy people make Backends but still can store data centrally. Firebase not only provides DB for us but also other services such as hosting, authentication, cloud storage, analytics, A / B testing, remote config, dynamic links and various other cool things. Firebase is like a complete package if we want to buy lunch.</p>\n<p>This time we will only use the real-time database feature.</p>\n<img v-lazyload src="/images/placeholder-1x1.png" data-src="/content-images/create-simple-like-button-using-firebase-rtdb/button-like-firebase.png" alt="Button Like Firebase" height="200px" width="200px">\n<h2>Creating project in Firebase</h2>\n<p>First you have to make a project in <a href="https://console.firebase.google.com/">Firebase Console ↗️</a>, you can give any name to your project but this name must be unique and has never been used by anyone else.</p>\n<p>Next you will be offered the option to setup Firebase that varies depending on the type of your project, we can choose for the web and will be given a code to install Firebase like this:</p>\n<pre><code class="language-html">&lt;script src=&quot;https://www.gstatic.com/firebasejs/5.8.3/firebase.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;\n  // Initialize Firebase\n  var config = {\n    apiKey: &quot;QWERTY-YTREWQ&quot;,\n    authDomain: &quot;contoh-aja.firebaseapp.com&quot;,\n    databaseURL: &quot;https://contoh-aja.firebaseio.com&quot;,\n    projectId: &quot;contoh-aja&quot;,\n    storageBucket: &quot;contoh-aja.appspot.com&quot;,\n    messagingSenderId: &quot;1234567890&quot;\n  };\n  firebase.initializeApp(config);\n&lt;/script&gt;\n</code></pre>\n<p>We can\'t do a copy-paste this code completely, because the Blog 2.0 project uses Nuxt as a framework and of course there are a few different ways to use it.</p>\n<p>Before starting to set up the configuration, I chose to put these configuration values into the <code>.env</code> file so that it can be easily changed later.</p>\n<p>I created the <code>.env</code> file with the contents based on the configuration obtained from Firebase as follows:</p>\n<pre><code class="language-bash">FIREBASE_API_KEY= your firebase `apiKey` config\nFIREBASE_AUTH_DOMAIN= your firebase `authDomain` config\nFIREBASE_DATABASE_URL= your firebase `databaseURL` config\nFIREBASE_PROJECT_ID= your firebase `projectId` config\nFIREBASE_STORAGE_BUCKET= your firebase `storageBucket` config\nFIREBASE_MESSAGING_SENDER_ID= your firebase `messagingSenderId` config\n</code></pre>\n<p>On Nuxt.js I added the <code>@nuxtjs/dotenv</code> module in the<code> nuxt.config.js</code> file to be able to read the value of this <code>.env</code>, but later I found that this value was not replaced when the process of generating static files was done by Nuxt . I need to add the following code to my <code>nuxt.config.js</code> file:</p>\n<pre><code class="language-javascript">module.exports = {\n  env: {\n    FIREBASE_API_KEY: process.env.FIREBASE_API_KEY,\n    FIREBASE_AUTH_DOMAIN: process.env.FIREBASE_AUTH_DOMAIN,\n    FIREBASE_DATABASE_URL: process.env.FIREBASE_DATABASE_URL,\n    FIREBASE_PROJECT_ID: process.env.FIREBASE_PROJECT_ID,\n    FIREBASE_STORAGE_BUCKET: process.env.FIREBASE_STORAGE_BUCKET,\n    FIREBASE_MESSAGING_SENDER_ID: process.env.FIREBASE_MESSAGING_SENDER_ID\n  },\n}\n</code></pre>\n<h2>Setup the Configuration Code</h2>\n<p>To open a connection to Firebase, I need the <code>firebase</code> dependency that can be installed via the command</p>\n<pre><code class="language-bash">$ yarn add firebase\n# atau\n$ npm i firebase\n</code></pre>\n<p>I chose to put this firebase connection into the <code>plugins</code> folder in the Nuxt structure, this means that it will be added to all pages in this project.</p>\n<p>I created the <code>plugins/firebase.js</code> file and made a connection to Firebase with the following code:</p>\n<pre><code class="language-javascript">import Vue from \'vue\'\nconst firebase = require(\'firebase/app\')\nrequire(\'firebase/database\')\n\nvar config = {\n  apiKey: process.env.FIREBASE_API_KEY || \'\',\n  authDomain: process.env.FIREBASE_AUTH_DOMAIN || \'\',\n  databaseURL: process.env.FIREBASE_DATABASE_URL || \'\',\n  projectId: process.env.FIREBASE_PROJECT_ID || \'\',\n  storageBucket: process.env.FIREBASE_STORAGE_BUCKET || \'\',\n  messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID || \'\'\n}\n\nfirebase.initializeApp(config)\nVue.prototype.$firebase = firebase\n</code></pre>\n<p>In addition to opening a connection to Firebase I also injected the prepared firebase object into the instance of Vue so that it can be easily used in the later Vue Component.</p>\n<p>I need to add these plugins in the <code>nuxt.config.js</code> file so that they are read in this project with the code like this:</p>\n<pre><code class="language-javascript">module.exports = {\n  plugins: [\n    { src: \'~/plugins/firebase\', ssr: false }\n   ↗️]\n}\n</code></pre>\n<p>Besides having to be initialized, Firebase also requires several files such as <code>firebase.json</code>,<code> .firebaserc</code> and <code>database.rules.json</code>. These files can be obtained with the <code>firebase init</code> command in our project root folder. But before that you have to log in to Firebase first with the <code>firebase login</code> command.</p>\n<p>The following is an example of the <code>firebase.json</code> file that you can also find in this project:</p>\n<pre><code class="language-javascript">{\n  &quot;database&quot;: {\n    &quot;rules&quot;: &quot;database.rules.json&quot;\n  }\n}\n</code></pre>\n<p>And the <code>database.rules.json</code> file as follows, which means I let users access my database without having to login first.</p>\n<pre><code class="language-javascript">{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: &quot;auth == null&quot;,\n    &quot;.write&quot;: &quot;auth == null&quot;\n  }\n}\n</code></pre>\n<h2>Setup a Data Structure</h2>\n<p>This data structure from Firebase DB is not like a relational database, Firebase DB is more like an ordinary JSON file.</p>\n<p>I structure the data to store the number of likes in each article as follows:</p>\n<pre><code class="language-javascript">{\n  &quot;claps&quot;: {\n    &quot;create-simple-like-button-using-firebase-rtdb&quot;:0,&quot;eslint-formatter-html-extended&quot;:0,\n    &quot;blog-2-0-in-nuxtjs&quot;:0\n  }\n}\n</code></pre>\n<p>If you are lazy, you can also import from JSON data that I have prepared in the <code>firebase-db-export.json</code> file on the Blog 2.0 project.</p>\n<p>Don\'t forget to open access for read and write on the <code>Rules</code> tab:</p>\n<pre><code class="language-javascript">{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n  }\n}\n</code></pre>\n<h2>Read and Update Data</h2>\n<p>Firebase is fairly easy to use with Vue or Nuxt, we will try to read the data that we have created in Firebase DB in our Vue Component.</p>\n<p>I put it in the <code>mounted</code> life cycle in the following Vue Component code:</p>\n<pre><code class="language-javascript">// this is vue component instance\nconst __self = this\nconst REF_URL = \'claps/\' + __self.meta.slug\n__self.clapsRefs = __self.$firebase.database().ref(REF_URL)\n__self.clapsRefs.once(\'value\').then(function (snapshot) {\n  __self.claps = snapshot.val()\n})\n</code></pre>\n<p>Previously, of course I had to set up <code>clapsRefs</code> and <code>claps</code> states in the <code>data ()</code> section as a placeholder for that value.</p>\n<p>The above code is used to initialize values based on data that is in Firebase DB, what if there is a change in value in our Firebase DB? because we use Firebase Realtime-DB, it will be very easy for us to listen to any changes that occur and so it immediately reacts by updating the display of the likes displayed. The code for listening to changes in realtime is more or less as follows:</p>\n<pre><code class="language-javascript">// this is vue component instance\nconst __self = this\n__self.clapsRefs.on(\'value\', function (snapshot) {\n  __self.claps = snapshot.val()\n})\n</code></pre>\n<p>While to update the value in our DB it is also no less easy, just by the <code>set</code> code in the reference we have got, like the following example:</p>\n<pre><code class="language-javascript">// this is vue component instance\nif (this.clapsRefs) {\n  this.clapsRefs.set(this.claps + 1)\n}\n</code></pre>\n<h2>Travis CI Configs</h2>\n<p>The last touch is making sure when the build process we set the value of <em>environment variable</em> with the original value according to what we use in the prodcution. If at local time we can use the <code>.env</code> file which we cannot push into the repository.</p>\n<p>In <a href="https://travis-ci.org">Travis CI ↗️</a> we can also adjust various variables easily. Just enter the `settings\' section and we can add * key-value * as a variable that will be included during the * build * process.</p>\n<img v-lazyload src="/images/placeholder-1x1.png" data-src="/content-images/create-simple-like-button-using-firebase-rtdb/travis-ci-env.png" alt="Travis CI Environment Variable" height="200px" width="200px">\n<h3>Hopefully useful...</h3>\n',attributes:{title:"Create simple like button using Firebase Realtime Database",slug:"create-simple-like-button-using-firebase-rtdb",date:"2019-02-21",minute2read:10,description:"Sharing experiences using Firebase Realtime Database to make simple button likes as seen in Blog 2.0",categories:["javascript","nuxt","firebase"],cover:"https://www.mazipan.xyz/content-images/create-simple-like-button-using-firebase-rtdb/button-like-firebase.png",_meta:{resourcePath:"/home/travis/build/mazipan/blog-2.0/contents/published/create-simple-like-button-using-firebase-rtdb/en.md"}},vue:{render:'return function render() { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"content-markdown"},[_c(\'h2\',[_vm._v("Background Story")]),_vm._v(" "),_c(\'p\',[_vm._v("As I explained in the previous article that Blog 2.0 is just a static Blog without Backend, I only use static hosting services from Netlify to place and present the build files. Because I do not use Backend and do not want to use it, I have difficulty when adding features that require me to store data in the database like the number of people who like an article. Such data is clearly not data that can be stored in each browser. The data must be centered and all visitors see the same amount. Data like this is most ideal in the DB, whatever type of DB is used.")]),_vm._v(" "),_vm._m(0),_vm._v(" "),_c(\'p\',[_vm._v("This time we will only use the real-time database feature.")]),_vm._v(" "),_c(\'img\',{directives:[{name:"lazyload",rawName:"v-lazyload"}],attrs:{"src":"/images/placeholder-1x1.png","data-src":"/content-images/create-simple-like-button-using-firebase-rtdb/button-like-firebase.png","alt":"Button Like Firebase","height":"200px","width":"200px"}}),_vm._v(" "),_c(\'h2\',[_vm._v("Creating project in Firebase")]),_vm._v(" "),_vm._m(1),_vm._v(" "),_c(\'p\',[_vm._v("Next you will be offered the option to setup Firebase that varies depending on the type of your project, we can choose for the web and will be given a code to install Firebase like this:")]),_vm._v(" "),_vm._m(2),_vm._v(" "),_c(\'p\',[_vm._v("We can\'t do a copy-paste this code completely, because the Blog 2.0 project uses Nuxt as a framework and of course there are a few different ways to use it.")]),_vm._v(" "),_vm._m(3),_vm._v(" "),_vm._m(4),_vm._v(" "),_vm._m(5),_vm._v(" "),_vm._m(6),_vm._v(" "),_vm._m(7),_vm._v(" "),_c(\'h2\',[_vm._v("Setup the Configuration Code")]),_vm._v(" "),_vm._m(8),_vm._v(" "),_vm._m(9),_vm._v(" "),_vm._m(10),_vm._v(" "),_vm._m(11),_vm._v(" "),_vm._m(12),_vm._v(" "),_c(\'p\',[_vm._v("In addition to opening a connection to Firebase I also injected the prepared firebase object into the instance of Vue so that it can be easily used in the later Vue Component.")]),_vm._v(" "),_vm._m(13),_vm._v(" "),_vm._m(14),_vm._v(" "),_vm._m(15),_vm._v(" "),_vm._m(16),_vm._v(" "),_vm._m(17),_vm._v(" "),_vm._m(18),_vm._v(" "),_vm._m(19),_vm._v(" "),_c(\'h2\',[_vm._v("Setup a Data Structure")]),_vm._v(" "),_c(\'p\',[_vm._v("This data structure from Firebase DB is not like a relational database, Firebase DB is more like an ordinary JSON file.")]),_vm._v(" "),_c(\'p\',[_vm._v("I structure the data to store the number of likes in each article as follows:")]),_vm._v(" "),_vm._m(20),_vm._v(" "),_vm._m(21),_vm._v(" "),_vm._m(22),_vm._v(" "),_vm._m(23),_vm._v(" "),_c(\'h2\',[_vm._v("Read and Update Data")]),_vm._v(" "),_c(\'p\',[_vm._v("Firebase is fairly easy to use with Vue or Nuxt, we will try to read the data that we have created in Firebase DB in our Vue Component.")]),_vm._v(" "),_vm._m(24),_vm._v(" "),_vm._m(25),_vm._v(" "),_vm._m(26),_vm._v(" "),_c(\'p\',[_vm._v("The above code is used to initialize values based on data that is in Firebase DB, what if there is a change in value in our Firebase DB? because we use Firebase Realtime-DB, it will be very easy for us to listen to any changes that occur and so it immediately reacts by updating the display of the likes displayed. The code for listening to changes in realtime is more or less as follows:")]),_vm._v(" "),_vm._m(27),_vm._v(" "),_vm._m(28),_vm._v(" "),_vm._m(29),_vm._v(" "),_c(\'h2\',[_vm._v("Travis CI Configs")]),_vm._v(" "),_vm._m(30),_vm._v(" "),_vm._m(31),_vm._v(" "),_c(\'img\',{directives:[{name:"lazyload",rawName:"v-lazyload"}],attrs:{"src":"/images/placeholder-1x1.png","data-src":"/content-images/create-simple-like-button-using-firebase-rtdb/travis-ci-env.png","alt":"Travis CI Environment Variable","height":"200px","width":"200px"}}),_vm._v(" "),_c(\'h3\',[_vm._v("Hopefully useful...")])]) }',staticRenderFns:'return [function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Today fortunately there is a platform like "),_c(\'a\',{attrs:{"href":"https://firebase.google.com/"}},[_vm._v("Firebase ↗️")]),_vm._v(" that helps lazy people make Backends but still can store data centrally. Firebase not only provides DB for us but also other services such as hosting, authentication, cloud storage, analytics, A / B testing, remote config, dynamic links and various other cool things. Firebase is like a complete package if we want to buy lunch.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("First you have to make a project in "),_c(\'a\',{attrs:{"href":"https://console.firebase.google.com/"}},[_vm._v("Firebase Console ↗️")]),_vm._v(", you can give any name to your project but this name must be unique and has never been used by anyone else.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<script src=\\"https://www.gstatic.com/firebasejs/5.8.3/firebase.js\\"><\/script>\\n<script>\\n  // Initialize Firebase\\n  var config = {\\n    apiKey: \\"QWERTY-YTREWQ\\",\\n    authDomain: \\"contoh-aja.firebaseapp.com\\",\\n    databaseURL: \\"https://contoh-aja.firebaseio.com\\",\\n    projectId: \\"contoh-aja\\",\\n    storageBucket: \\"contoh-aja.appspot.com\\",\\n    messagingSenderId: \\"1234567890\\"\\n  };\\n  firebase.initializeApp(config);\\n<\/script>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Before starting to set up the configuration, I chose to put these configuration values into the "),_c(\'code\',{pre:true},[_vm._v(".env")]),_vm._v(" file so that it can be easily changed later.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("I created the "),_c(\'code\',{pre:true},[_vm._v(".env")]),_vm._v(" file with the contents based on the configuration obtained from Firebase as follows:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-bash"}},[_vm._v("FIREBASE_API_KEY= your firebase `apiKey` config\\nFIREBASE_AUTH_DOMAIN= your firebase `authDomain` config\\nFIREBASE_DATABASE_URL= your firebase `databaseURL` config\\nFIREBASE_PROJECT_ID= your firebase `projectId` config\\nFIREBASE_STORAGE_BUCKET= your firebase `storageBucket` config\\nFIREBASE_MESSAGING_SENDER_ID= your firebase `messagingSenderId` config\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("On Nuxt.js I added the "),_c(\'code\',{pre:true},[_vm._v("@nuxtjs/dotenv")]),_vm._v(" module in the"),_c(\'code\',{pre:true},[_vm._v(" nuxt.config.js")]),_vm._v(" file to be able to read the value of this "),_c(\'code\',{pre:true},[_vm._v(".env")]),_vm._v(", but later I found that this value was not replaced when the process of generating static files was done by Nuxt . I need to add the following code to my "),_c(\'code\',{pre:true},[_vm._v("nuxt.config.js")]),_vm._v(" file:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("module.exports = {\\n  env: {\\n    FIREBASE_API_KEY: process.env.FIREBASE_API_KEY,\\n    FIREBASE_AUTH_DOMAIN: process.env.FIREBASE_AUTH_DOMAIN,\\n    FIREBASE_DATABASE_URL: process.env.FIREBASE_DATABASE_URL,\\n    FIREBASE_PROJECT_ID: process.env.FIREBASE_PROJECT_ID,\\n    FIREBASE_STORAGE_BUCKET: process.env.FIREBASE_STORAGE_BUCKET,\\n    FIREBASE_MESSAGING_SENDER_ID: process.env.FIREBASE_MESSAGING_SENDER_ID\\n  },\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("To open a connection to Firebase, I need the "),_c(\'code\',{pre:true},[_vm._v("firebase")]),_vm._v(" dependency that can be installed via the command")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-bash"}},[_vm._v("$ yarn add firebase\\n# atau\\n$ npm i firebase\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("I chose to put this firebase connection into the "),_c(\'code\',{pre:true},[_vm._v("plugins")]),_vm._v(" folder in the Nuxt structure, this means that it will be added to all pages in this project.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("I created the "),_c(\'code\',{pre:true},[_vm._v("plugins/firebase.js")]),_vm._v(" file and made a connection to Firebase with the following code:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import Vue from \'vue\'\\nconst firebase = require(\'firebase/app\')\\nrequire(\'firebase/database\')\\n\\nvar config = {\\n  apiKey: process.env.FIREBASE_API_KEY || \'\',\\n  authDomain: process.env.FIREBASE_AUTH_DOMAIN || \'\',\\n  databaseURL: process.env.FIREBASE_DATABASE_URL || \'\',\\n  projectId: process.env.FIREBASE_PROJECT_ID || \'\',\\n  storageBucket: process.env.FIREBASE_STORAGE_BUCKET || \'\',\\n  messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID || \'\'\\n}\\n\\nfirebase.initializeApp(config)\\nVue.prototype.$firebase = firebase\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("I need to add these plugins in the "),_c(\'code\',{pre:true},[_vm._v("nuxt.config.js")]),_vm._v(" file so that they are read in this project with the code like this:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("module.exports = {\\n  plugins: [\\n    { src: \'~/plugins/firebase\', ssr: false }\\n   ↗️]\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Besides having to be initialized, Firebase also requires several files such as "),_c(\'code\',{pre:true},[_vm._v("firebase.json")]),_vm._v(","),_c(\'code\',{pre:true},[_vm._v(" .firebaserc")]),_vm._v(" and "),_c(\'code\',{pre:true},[_vm._v("database.rules.json")]),_vm._v(". These files can be obtained with the "),_c(\'code\',{pre:true},[_vm._v("firebase init")]),_vm._v(" command in our project root folder. But before that you have to log in to Firebase first with the "),_c(\'code\',{pre:true},[_vm._v("firebase login")]),_vm._v(" command.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("The following is an example of the "),_c(\'code\',{pre:true},[_vm._v("firebase.json")]),_vm._v(" file that you can also find in this project:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("{\\n  \\"database\\": {\\n    \\"rules\\": \\"database.rules.json\\"\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("And the "),_c(\'code\',{pre:true},[_vm._v("database.rules.json")]),_vm._v(" file as follows, which means I let users access my database without having to login first.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("{\\n  \\"rules\\": {\\n    \\".read\\": \\"auth == null\\",\\n    \\".write\\": \\"auth == null\\"\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("{\\n  \\"claps\\": {\\n    \\"create-simple-like-button-using-firebase-rtdb\\":0,\\"eslint-formatter-html-extended\\":0,\\n    \\"blog-2-0-in-nuxtjs\\":0\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("If you are lazy, you can also import from JSON data that I have prepared in the "),_c(\'code\',{pre:true},[_vm._v("firebase-db-export.json")]),_vm._v(" file on the Blog 2.0 project.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Don\'t forget to open access for read and write on the "),_c(\'code\',{pre:true},[_vm._v("Rules")]),_vm._v(" tab:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("{\\n  \\"rules\\": {\\n    \\".read\\": true,\\n    \\".write\\": true\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("I put it in the "),_c(\'code\',{pre:true},[_vm._v("mounted")]),_vm._v(" life cycle in the following Vue Component code:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("// this is vue component instance\\nconst __self = this\\nconst REF_URL = \'claps/\' + __self.meta.slug\\n__self.clapsRefs = __self.$firebase.database().ref(REF_URL)\\n__self.clapsRefs.once(\'value\').then(function (snapshot) {\\n  __self.claps = snapshot.val()\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Previously, of course I had to set up "),_c(\'code\',{pre:true},[_vm._v("clapsRefs")]),_vm._v(" and "),_c(\'code\',{pre:true},[_vm._v("claps")]),_vm._v(" states in the "),_c(\'code\',{pre:true},[_vm._v("data ()")]),_vm._v(" section as a placeholder for that value.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("// this is vue component instance\\nconst __self = this\\n__self.clapsRefs.on(\'value\', function (snapshot) {\\n  __self.claps = snapshot.val()\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("While to update the value in our DB it is also no less easy, just by the "),_c(\'code\',{pre:true},[_vm._v("set")]),_vm._v(" code in the reference we have got, like the following example:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("// this is vue component instance\\nif (this.clapsRefs) {\\n  this.clapsRefs.set(this.claps + 1)\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("The last touch is making sure when the build process we set the value of "),_c(\'em\',[_vm._v("environment variable")]),_vm._v(" with the original value according to what we use in the prodcution. If at local time we can use the "),_c(\'code\',{pre:true},[_vm._v(".env")]),_vm._v(" file which we cannot push into the repository.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("In "),_c(\'a\',{attrs:{"href":"https://travis-ci.org"}},[_vm._v("Travis CI ↗️")]),_vm._v(" we can also adjust various variables easily. Just enter the `settings\' section and we can add * key-value * as a variable that will be included during the * build * process.")]) }]',component:{data:function(){return{templateRender:null}},render:function(e){return this.templateRender?this.templateRender():e("div","Rendering")},created:function(){this.templateRender=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-markdown"},[n("h2",[e._v("Background Story")]),e._v(" "),n("p",[e._v("As I explained in the previous article that Blog 2.0 is just a static Blog without Backend, I only use static hosting services from Netlify to place and present the build files. Because I do not use Backend and do not want to use it, I have difficulty when adding features that require me to store data in the database like the number of people who like an article. Such data is clearly not data that can be stored in each browser. The data must be centered and all visitors see the same amount. Data like this is most ideal in the DB, whatever type of DB is used.")]),e._v(" "),e._m(0),e._v(" "),n("p",[e._v("This time we will only use the real-time database feature.")]),e._v(" "),n("img",{directives:[{name:"lazyload",rawName:"v-lazyload"}],attrs:{src:"/images/placeholder-1x1.png","data-src":"/content-images/create-simple-like-button-using-firebase-rtdb/button-like-firebase.png",alt:"Button Like Firebase",height:"200px",width:"200px"}}),e._v(" "),n("h2",[e._v("Creating project in Firebase")]),e._v(" "),e._m(1),e._v(" "),n("p",[e._v("Next you will be offered the option to setup Firebase that varies depending on the type of your project, we can choose for the web and will be given a code to install Firebase like this:")]),e._v(" "),e._m(2),e._v(" "),n("p",[e._v("We can't do a copy-paste this code completely, because the Blog 2.0 project uses Nuxt as a framework and of course there are a few different ways to use it.")]),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),n("h2",[e._v("Setup the Configuration Code")]),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),n("p",[e._v("In addition to opening a connection to Firebase I also injected the prepared firebase object into the instance of Vue so that it can be easily used in the later Vue Component.")]),e._v(" "),e._m(13),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),n("h2",[e._v("Setup a Data Structure")]),e._v(" "),n("p",[e._v("This data structure from Firebase DB is not like a relational database, Firebase DB is more like an ordinary JSON file.")]),e._v(" "),n("p",[e._v("I structure the data to store the number of likes in each article as follows:")]),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),e._v(" "),e._m(23),e._v(" "),n("h2",[e._v("Read and Update Data")]),e._v(" "),n("p",[e._v("Firebase is fairly easy to use with Vue or Nuxt, we will try to read the data that we have created in Firebase DB in our Vue Component.")]),e._v(" "),e._m(24),e._v(" "),e._m(25),e._v(" "),e._m(26),e._v(" "),n("p",[e._v("The above code is used to initialize values based on data that is in Firebase DB, what if there is a change in value in our Firebase DB? because we use Firebase Realtime-DB, it will be very easy for us to listen to any changes that occur and so it immediately reacts by updating the display of the likes displayed. The code for listening to changes in realtime is more or less as follows:")]),e._v(" "),e._m(27),e._v(" "),e._m(28),e._v(" "),e._m(29),e._v(" "),n("h2",[e._v("Travis CI Configs")]),e._v(" "),e._m(30),e._v(" "),e._m(31),e._v(" "),n("img",{directives:[{name:"lazyload",rawName:"v-lazyload"}],attrs:{src:"/images/placeholder-1x1.png","data-src":"/content-images/create-simple-like-button-using-firebase-rtdb/travis-ci-env.png",alt:"Travis CI Environment Variable",height:"200px",width:"200px"}}),e._v(" "),n("h3",[e._v("Hopefully useful...")])])},this.$options.staticRenderFns=[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Today fortunately there is a platform like "),t("a",{attrs:{href:"https://firebase.google.com/"}},[this._v("Firebase ↗️")]),this._v(" that helps lazy people make Backends but still can store data centrally. Firebase not only provides DB for us but also other services such as hosting, authentication, cloud storage, analytics, A / B testing, remote config, dynamic links and various other cool things. Firebase is like a complete package if we want to buy lunch.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("First you have to make a project in "),t("a",{attrs:{href:"https://console.firebase.google.com/"}},[this._v("Firebase Console ↗️")]),this._v(", you can give any name to your project but this name must be unique and has never been used by anyone else.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-html"}},[this._v('<script src="https://www.gstatic.com/firebasejs/5.8.3/firebase.js"><\/script>\n<script>\n  // Initialize Firebase\n  var config = {\n    apiKey: "QWERTY-YTREWQ",\n    authDomain: "contoh-aja.firebaseapp.com",\n    databaseURL: "https://contoh-aja.firebaseio.com",\n    projectId: "contoh-aja",\n    storageBucket: "contoh-aja.appspot.com",\n    messagingSenderId: "1234567890"\n  };\n  firebase.initializeApp(config);\n<\/script>\n')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Before starting to set up the configuration, I chose to put these configuration values into the "),t("code",{pre:!0},[this._v(".env")]),this._v(" file so that it can be easily changed later.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("I created the "),t("code",{pre:!0},[this._v(".env")]),this._v(" file with the contents based on the configuration obtained from Firebase as follows:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-bash"}},[this._v("FIREBASE_API_KEY= your firebase `apiKey` config\nFIREBASE_AUTH_DOMAIN= your firebase `authDomain` config\nFIREBASE_DATABASE_URL= your firebase `databaseURL` config\nFIREBASE_PROJECT_ID= your firebase `projectId` config\nFIREBASE_STORAGE_BUCKET= your firebase `storageBucket` config\nFIREBASE_MESSAGING_SENDER_ID= your firebase `messagingSenderId` config\n")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("On Nuxt.js I added the "),n("code",{pre:!0},[e._v("@nuxtjs/dotenv")]),e._v(" module in the"),n("code",{pre:!0},[e._v(" nuxt.config.js")]),e._v(" file to be able to read the value of this "),n("code",{pre:!0},[e._v(".env")]),e._v(", but later I found that this value was not replaced when the process of generating static files was done by Nuxt . I need to add the following code to my "),n("code",{pre:!0},[e._v("nuxt.config.js")]),e._v(" file:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v("module.exports = {\n  env: {\n    FIREBASE_API_KEY: process.env.FIREBASE_API_KEY,\n    FIREBASE_AUTH_DOMAIN: process.env.FIREBASE_AUTH_DOMAIN,\n    FIREBASE_DATABASE_URL: process.env.FIREBASE_DATABASE_URL,\n    FIREBASE_PROJECT_ID: process.env.FIREBASE_PROJECT_ID,\n    FIREBASE_STORAGE_BUCKET: process.env.FIREBASE_STORAGE_BUCKET,\n    FIREBASE_MESSAGING_SENDER_ID: process.env.FIREBASE_MESSAGING_SENDER_ID\n  },\n}\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("To open a connection to Firebase, I need the "),t("code",{pre:!0},[this._v("firebase")]),this._v(" dependency that can be installed via the command")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-bash"}},[this._v("$ yarn add firebase\n# atau\n$ npm i firebase\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("I chose to put this firebase connection into the "),t("code",{pre:!0},[this._v("plugins")]),this._v(" folder in the Nuxt structure, this means that it will be added to all pages in this project.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("I created the "),t("code",{pre:!0},[this._v("plugins/firebase.js")]),this._v(" file and made a connection to Firebase with the following code:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v("import Vue from 'vue'\nconst firebase = require('firebase/app')\nrequire('firebase/database')\n\nvar config = {\n  apiKey: process.env.FIREBASE_API_KEY || '',\n  authDomain: process.env.FIREBASE_AUTH_DOMAIN || '',\n  databaseURL: process.env.FIREBASE_DATABASE_URL || '',\n  projectId: process.env.FIREBASE_PROJECT_ID || '',\n  storageBucket: process.env.FIREBASE_STORAGE_BUCKET || '',\n  messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID || ''\n}\n\nfirebase.initializeApp(config)\nVue.prototype.$firebase = firebase\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("I need to add these plugins in the "),t("code",{pre:!0},[this._v("nuxt.config.js")]),this._v(" file so that they are read in this project with the code like this:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v("module.exports = {\n  plugins: [\n    { src: '~/plugins/firebase', ssr: false }\n   ↗️]\n}\n")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Besides having to be initialized, Firebase also requires several files such as "),n("code",{pre:!0},[e._v("firebase.json")]),e._v(","),n("code",{pre:!0},[e._v(" .firebaserc")]),e._v(" and "),n("code",{pre:!0},[e._v("database.rules.json")]),e._v(". These files can be obtained with the "),n("code",{pre:!0},[e._v("firebase init")]),e._v(" command in our project root folder. But before that you have to log in to Firebase first with the "),n("code",{pre:!0},[e._v("firebase login")]),e._v(" command.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The following is an example of the "),t("code",{pre:!0},[this._v("firebase.json")]),this._v(" file that you can also find in this project:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v('{\n  "database": {\n    "rules": "database.rules.json"\n  }\n}\n')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("And the "),t("code",{pre:!0},[this._v("database.rules.json")]),this._v(" file as follows, which means I let users access my database without having to login first.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v('{\n  "rules": {\n    ".read": "auth == null",\n    ".write": "auth == null"\n  }\n}\n')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v('{\n  "claps": {\n    "create-simple-like-button-using-firebase-rtdb":0,"eslint-formatter-html-extended":0,\n    "blog-2-0-in-nuxtjs":0\n  }\n}\n')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("If you are lazy, you can also import from JSON data that I have prepared in the "),t("code",{pre:!0},[this._v("firebase-db-export.json")]),this._v(" file on the Blog 2.0 project.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Don't forget to open access for read and write on the "),t("code",{pre:!0},[this._v("Rules")]),this._v(" tab:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v('{\n  "rules": {\n    ".read": true,\n    ".write": true\n  }\n}\n')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("I put it in the "),t("code",{pre:!0},[this._v("mounted")]),this._v(" life cycle in the following Vue Component code:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v("// this is vue component instance\nconst __self = this\nconst REF_URL = 'claps/' + __self.meta.slug\n__self.clapsRefs = __self.$firebase.database().ref(REF_URL)\n__self.clapsRefs.once('value').then(function (snapshot) {\n  __self.claps = snapshot.val()\n})\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Previously, of course I had to set up "),t("code",{pre:!0},[this._v("clapsRefs")]),this._v(" and "),t("code",{pre:!0},[this._v("claps")]),this._v(" states in the "),t("code",{pre:!0},[this._v("data ()")]),this._v(" section as a placeholder for that value.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v("// this is vue component instance\nconst __self = this\n__self.clapsRefs.on('value', function (snapshot) {\n  __self.claps = snapshot.val()\n})\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("While to update the value in our DB it is also no less easy, just by the "),t("code",{pre:!0},[this._v("set")]),this._v(" code in the reference we have got, like the following example:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v("// this is vue component instance\nif (this.clapsRefs) {\n  this.clapsRefs.set(this.claps + 1)\n}\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The last touch is making sure when the build process we set the value of "),t("em",[this._v("environment variable")]),this._v(" with the original value according to what we use in the prodcution. If at local time we can use the "),t("code",{pre:!0},[this._v(".env")]),this._v(" file which we cannot push into the repository.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In "),t("a",{attrs:{href:"https://travis-ci.org"}},[this._v("Travis CI ↗️")]),this._v(" we can also adjust various variables easily. Just enter the `settings' section and we can add * key-value * as a variable that will be included during the * build * process.")])}]}}}}}}]);