<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Unit Testing Guide in Vue.js</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="author" content="Irfan Maulana - @mazipan"><meta data-n-head="ssr" data-hid="robots" name="robots" content="index,follow"><meta data-n-head="ssr" data-hid="keywords" name="keywords" content="mazipan, mazipanneh, irfan maulana, irfan vue, irfan blibli, irfan bizzy, irfan tokopedia"><meta data-n-head="ssr" name="theme-color" content="#bd93f9"><meta data-n-head="ssr" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="og:image:width" property="og:image:width" content="512"><meta data-n-head="ssr" data-hid="og:image:height" property="og:image:height" content="512"><meta data-n-head="ssr" data-hid="og:site_name" property="og:site_name" content="@mazipan"><meta data-n-head="ssr" data-hid="profile:username" property="profile:username" content="mazipanneh"><meta data-n-head="ssr" name="twitter:card" content="summary"><meta data-n-head="ssr" name="twitter:creator" content="@maz_ipan"><meta data-n-head="ssr" name="twitter:site" content="@maz_ipan"><meta data-n-head="ssr" data-hid="description" name="description" content="Steps to install and test the code Vue.js and Nuxt.js by learning from various cases that occur in real world projects"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="Unit Testing Guide in Vue.js"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="Unit Testing Guide in Vue.js"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="Steps to install and test the code Vue.js and Nuxt.js by learning from various cases that occur in real world projects"><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://www.mazipan.xyz/unit-testing-guide-in-vuejs/en"><meta data-n-head="ssr" data-hid="twitter:title" name="twitter:title" content="Unit Testing Guide in Vue.js"><meta data-n-head="ssr" data-hid="twitter:description" name="twitter:description" content="Steps to install and test the code Vue.js and Nuxt.js by learning from various cases that occur in real world projects"><meta data-n-head="ssr" data-hid="twitter:url" name="twitter:url" content="https://www.mazipan.xyz/unit-testing-guide-in-vuejs/en"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://www.mazipan.xyz/content-images/unit-testing-guide-in-vuejs/commitstrip.jpg"><meta data-n-head="ssr" data-hid="og:image:secure_url" property="og:image:secure_url" content="https://www.mazipan.xyz/content-images/unit-testing-guide-in-vuejs/commitstrip.jpg"><meta data-n-head="ssr" data-hid="twitter:image:src" name="twitter:image:src" content="https://www.mazipan.xyz/content-images/unit-testing-guide-in-vuejs/commitstrip.jpg"><meta data-n-head="ssr" data-hid="og:type" property="og:type" content="article"><meta data-n-head="ssr" data-hid="article:published_time" property="article:published_time" content="2019-10-16T20:45:06.183Z"><meta data-n-head="ssr" data-hid="article:section" property="article:section" content="Technology"><link data-n-head="ssr" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png"><link data-n-head="ssr" rel="manifest" href="/_nuxt/manifest.2abfda24.json"><link data-n-head="ssr" rel="shortcut icon" href="/_nuxt/icons/icon_64.b338d5.png"><link data-n-head="ssr" rel="apple-touch-icon" href="/_nuxt/icons/icon_512.b338d5.png" sizes="512x512"><link data-n-head="ssr" data-hid="amphtml" rel="amphtml" href="https://www.mazipan.xyz/amp/unit-testing-guide-in-vuejs/en"><link rel="preload" href="/_nuxt/e3ec835fcc37fca6ab98.js" as="script"><link rel="preload" href="/_nuxt/56ca50a1cde6cc1a7bb5.js" as="script"><link rel="preload" href="/_nuxt/fc701639c58c8661387d.js" as="script"><link rel="preload" href="/_nuxt/d4b090cfdd68a91f3fb6.js" as="script"><link rel="preload" href="/_nuxt/83083bdec49fbd5ef603.js" as="script"><link rel="preload" href="/_nuxt/ef9105dcb580444c6064.js" as="script"><style data-vue-ssr-id="7372a3d1:0 7b3c8e2c:0 4cdb2c52:0 3191d5ad:0 979756bc:0">/*! modern-normalize | MIT License | https://github.com/sindresorhus/modern-normalize */html{-webkit-box-sizing:border-box;box-sizing:border-box}*,::after,::before{-webkit-box-sizing:inherit;box-sizing:inherit}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol'}hr{height:0}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:SFMono-Regular,Consolas,'Liberation Mono',Menlo,Courier,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{padding:0}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}:root{--bg:#282a36;--bgLighter:#44475a;--textNormal:#f8f8f2;--textTitle:#50fa7b;--textSubtitle:#8be9fd;--textLink:#bd93f9;--textHighlight:#ff79c6;--textWarning:#f1fa8c;--textDanger:#ff5555;--textSecondary:#6272a4}body{font-family:Montserrat,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-size:16px;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-box-sizing:border-box;box-sizing:border-box;color:var(--textNormal);background-color:var(--bg)}.container{margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem}.clearfix::after{content:"";clear:both;display:table}a{color:var(--textLink);text-decoration:none}a:hover{text-decoration:underline}blockquote{font-style:italic;border-left:4px solid var(--textSecondary);color:var(--textSecondary);margin:0;padding:.25em 1em;font-size:110%}small{font-size:80%}table{display:block;overflow:auto;width:100%;border-collapse:collapse;border-spacing:0}table th{border:1px solid #dfe2e5;padding:13px;font-weight:700}table tr td{border:1px solid #c6cbd1;padding:8px 13px;text-align:left}table tr:nth-child(2n){background-color:#3c3e50}:not(pre)>code[class*=language-],pre[class*=language-]{border-radius:10px;-webkit-box-shadow:0 0 8px 4px rgba(0,0,0,.2);box-shadow:0 0 8px 4px rgba(0,0,0,.2);background-color:var(--bgLighter)}code:not([class*=language-]){background-color:var(--bgLighter);color:var(--textLink);padding:.1em .5em;border-radius:.25em}pre{max-width:100%;overflow:auto}.flex{display:-webkit-box;display:-ms-flexbox;display:flex}.flex--center{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.dot{padding:0 .5em}.wrapper{margin:1em 0 0 0;min-height:60vh}.meta{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.meta__date{color:var(--textSubtitle)}@media screen and (max-width:640px){.meta--desktop{display:none}}.meta--mobile{display:none}@media screen and (max-width:640px){.meta--mobile{display:block}}.space-bottom{margin-bottom:1em}.footer{width:100%;margin:0 auto;text-align:center}@-webkit-keyframes zoomIn{from{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes zoomIn{from{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}.zoomIn{-webkit-animation-name:zoomIn;animation-name:zoomIn;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.text-normal{color:var(--textNormal)}.text-title{color:var(--textTitle)}.text-subtitle{color:var(--textSubtitle)}.text-link{color:var(--textLink)}.text-highlight{color:var(--textHighlight)}.text-warning{color:var(--textWarning)}.text-danger{color:var(--textDanger)}.text-secondary{color:var(--textSecondary)}.header{margin-bottom:3.5rem}.header--simplify{margin-bottom:1rem}.profile{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.profile--left{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.profile__img{height:76px;width:76px;margin-right:1em}.profile__text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-right:1em}.profile__title{font-weight:700;font-size:1.5em;margin-top:0}.profile__social a{margin-right:.5em}.nav{margin-top:1em}.pages__title{margin-bottom:.25em;font-weight:700}.pages__title--small{font-size:2em}.pages__cover{margin:2em 0 0 0;width:100%;height:200px;-o-object-fit:cover;object-fit:cover;border-radius:10px;-webkit-box-shadow:1px 1px 8px 5px rgba(0,0,0,.2);box-shadow:1px 1px 8px 5px rgba(0,0,0,.2)}.pages__content{width:100%;word-break:break-word;margin:2em 0}.pages__date{color:var(--textSubtitle)}.pages__item{margin-bottom:3.5em}.pages__lang{padding:.25em 1em;border-radius:.25em;background-color:var(--bgLighter);margin-bottom:1em;display:table;cursor:pointer}.pages__tags{display:-webkit-box;display:-ms-flexbox;display:flex}.pages__tags--spacetop{margin-top:.5em}.pages__tag{margin-right:.5em;padding:0 .5em;line-height:1.5;border-radius:.25em}.pages__tag a{color:var(--bgLighter)}.pages__tag:first-child{background-color:var(--textHighlight)}.pages__tag:nth-child(2){background-color:var(--textTitle)}.pages__tag:nth-child(3){background-color:var(--textSubtitle)}.pages__sponsored{padding:.25em 1em;border-radius:.25em;background-color:var(--bgLighter)}.pages__footer{margin:1em 0}.block-wrap{margin:1em 0;display:-webkit-box;display:-ms-flexbox;display:flex;justify-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.like,.share{display:-webkit-box;display:-ms-flexbox;display:flex}.like-btn,.share-btn{color:var(--textNormal);background:var(--textLink);padding:.25em 1em;border-radius:.25em;border:0;outline:0;cursor:pointer;margin-right:1em;text-decoration:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pages__content h2{color:var(--textSubtitle)}.pages__content h3{color:var(--textWarning)}.pages__content a{color:var(--textHighlight);text-decoration:underline}.pages__content p{line-height:1.5}.pages__content img{width:90%;height:auto;border-radius:10px;-webkit-box-shadow:1px 1px 8px 5px rgba(0,0,0,.2);box-shadow:1px 1px 8px 5px rgba(0,0,0,.2);-o-object-fit:cover;object-fit:cover}.pages__content ol>li,.pages__content ul{line-height:2}.VueAdsense{max-width:42rem;width:90%;padding-top:2.625rem;display:block}.ion{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.ion__svg{fill:currentColor}@-webkit-keyframes ionShake{10%,90%{-webkit-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-webkit-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-webkit-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-webkit-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}@keyframes ionShake{10%,90%{-webkit-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-webkit-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-webkit-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-webkit-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}@-webkit-keyframes ionRotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ionRotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes ionBeat{0%{-webkit-transform:scale(.75);transform:scale(.75)}20%{-webkit-transform:scale(1);transform:scale(1)}40%{-webkit-transform:scale(.75);transform:scale(.75)}60%{-webkit-transform:scale(1);transform:scale(1)}80%{-webkit-transform:scale(.75);transform:scale(.75)}100%{-webkit-transform:scale(.75);transform:scale(.75)}}@keyframes ionBeat{0%{-webkit-transform:scale(.75);transform:scale(.75)}20%{-webkit-transform:scale(1);transform:scale(1)}40%{-webkit-transform:scale(.75);transform:scale(.75)}60%{-webkit-transform:scale(1);transform:scale(1)}80%{-webkit-transform:scale(.75);transform:scale(.75)}100%{-webkit-transform:scale(.75);transform:scale(.75)}}.ion-beat{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:ionBeat;animation-name:ionBeat;-webkit-animation-duration:.82s;animation-duration:.82s}.ion-shake{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:ionShake;animation-name:ionShake;-webkit-animation-duration:.82s;animation-duration:.82s}.ion-rotate{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:ionRotate;animation-name:ionRotate;-webkit-animation-duration:2s;animation-duration:2s}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:4px;width:0%;opacity:1;-webkit-transition:width .1s,opacity .4s;transition:width .1s,opacity .4s;background-color:#bd93f9;z-index:999999}.nuxt-progress.nuxt-progress-notransition{-webkit-transition:none;transition:none}.nuxt-progress-failed{background-color:red}.form .control{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:1em}.form .input{border:0;outline:0;background:#fff;font-size:16px;line-height:18px;height:40px;vertical-align:middle;width:250px;padding:.5em 1em;border-top-left-radius:.25em;border-bottom-left-radius:.25em}.form .btn{height:40px;border:0;outline:0;text-transform:none;font-size:14px;line-height:18px;background:var(--textLink);color:var(--textNormal);width:100px;border-top-right-radius:.25em;border-bottom-right-radius:.25em}</style>
    <link rel="preconnect" href="https://polyfill.io" crossorigin><link rel="dns-prefetch" href="https://polyfill.io">
    <script src="https://polyfill.io/v2/polyfill.min.js?features=IntersectionObserver"></script>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div data-enable-ads="true" data-ads-client="ca-pub-5442972248172818" data-production-url="https://www.mazipan.xyz" class="container app"><header class="header header--simplify clearfix"><div class="header__block"><div class="header__child"><a href="/" class="nuxt-link-active"><h1 class="h1">
          mazipan.xyz
        </h1></a> <div class="nav--wrapper navigation"><div class="nav">
    😎
    <a href="/about">
      About
    </a> <span class="dot"> • </span>
    ⏰
    <a href="/now">
      Now
    </a></div> <div class="nav">
    📦
    <a href="/archives">
      Archives
    </a> <span class="dot"> • </span>
    😈
    <a href="/ghibahprogrammer">
      Ghibah
    </a></div></div></div></div></header> <section class="postdetail-EN wrapper clearfix"><section class="pages"><h1 class="pages__title pages__title--small text-title">
    Unit Testing Guide in Vue.js
  </h1> <!----> <div class="pages__lang"><a href="/unit-testing-guide-in-vuejs/?utm_source=lang">
      Switch to 🇮🇩 language
    </a></div> <div><div class="meta meta--desktop"><small class="meta__date">
      📆 March 19, 2019
    </small> <small class="dot"> • </small> <small class="meta__read">☕️☕️ 20 min read</small> <small class="dot"> • </small> <small>
      ❤️ 0 likes
    </small> <small class="dot"> • </small> <small>
      📓 0 read
    </small></div> <div class="meta meta--mobile"><div><small class="meta__date">
        📆 March 19, 2019
      </small> <small class="dot"> • </small> <small class="meta__read">☕️☕️ 20 min read</small></div> <div style="margin-top:.5em"><small>
        ❤️ 0 likes
      </small> <small class="dot"> • </small> <small>
        📓 0 read
      </small></div></div></div> <div class="pages__tags pages__tags--spacetop"><div class="pages__tag"><a href="/category/javascript?utm_source=home" title="javascript">
        #javascript
      </a></div><div class="pages__tag"><a href="/category/testing?utm_source=home" title="testing">
        #testing
      </a></div></div> <div class="pages__content"><div class="content-markdown"><h2 id="navigasi">Navigasi</h2> <ul><li><a href="#Mengenai-Unit-Testing">Mengenai Unit Testing</a></li> <li><a href="#Prinsip-Utama">Prinsip Utama</a></li> <li><a href="#Beberapa-Siklus-Hidup-Umum-di-Unit-Test">Beberapa Siklus Hidup Umum di Unit Test</a></li> <li><a href="#Memasang-Unit-Testing-di-Vue-dan-Nuxt">Memasang Unit Testing di Vue dan Nuxt</a> <ul><li><a href="#Memasang-Jest-menggunakan-Vue-CLI-3">Memasang Jest menggunakan Vue-CLI 3</a></li> <li><a href="#Memasang-Jest-tanpa-Vue-CLI">Memasang Jest tanpa Vue-CLI</a></li> <li><a href="#Memasang-Jest-pada-Nuxt-dengan-create-nuxt-app">Memasang Jest pada Nuxt dengan create-nuxt-app</a></li> <li><a href="#Memasang-Jest-pada-Nuxt-secara-manual">Memasang Jest pada Nuxt secara manual</a></li></ul></li> <li><a href="#Perbedaan-Dasar-Soal-Nuxt-dengan-Vue">Perbedaan Dasar Soal Nuxt dengan Vue</a></li> <li><a href="#Testing-JavaScript-File-Sederhana">Testing JavaScript File Sederhana</a></li> <li><a href="#Testing-Mounting-Komponen-Vue">Testing Mounting Komponen Vue</a></li> <li><a href="#Testing-Method-di-Komponen-Vue">Testing Method di Komponen Vue</a></li> <li><a href="#Mensimulasikan-Aksi-Klik-Elemen">Mensimulasikan Aksi Klik Elemen</a></li> <li><a href="#Testing-Props-di-Komponen-Vue">Testing Props di Komponen Vue</a></li> <li><a href="#Testing-Computed-dan-Watcher">Testing Computed dan Watcher</a></li> <li><a href="#Testing-Event-Emitter">Testing Event Emitter</a></li> <li><a href="#Testing-Perpindahan-Route">Testing Route</a> <ul><li><a href="#Testing-Perpindahan-Route">Testing Perpindahan Route</a></li> <li><a href="#Testing-Mounting-Route">Testing Mounting Route</a></li></ul></li> <li><a href="#Testing-Vuex">Testing Vuex</a> <ul><li><a href="#Testing-Getters">Testing Getters</a></li> <li><a href="#Testing-Mutations">Testing Mutations</a></li> <li><a href="#Testing-Actions">Testing Actions</a></li> <li><a href="#Testing-Vuex-di-Komponen">Testing Vuex di Komponen</a></li> <li><a href="#Testing-Vuex-dengan-Modules">Testing Vuex dengan Modules</a></li></ul></li> <li><a href="#Testing-dengan-Vue-i18n">Testing dengan Vue-i18n</a></li> <li><a href="#Testing-Pemanggilan-Rest-API">Testing Pemanggilan Rest API</a></li></ul> <h2 id="Mengenai-Unit-Testing">Mengenai Unit Testing</h2> <p>Unit testing (UT) merupakan bagian terkecil dari proses pengetesan sebuah aplikasi perangkat lunak. UT berfokus untuk mengetest bagian terkecil sebuah aplikasi yakni potongan-potongan kode yang dibuat oleh pengembangnya, itu mengapa UT paling ideal dibuat oleh pengembang itu sendiri. Dengan mengetest kode-kode kecil di dalam sebuah aplikasi diharapkan kita bisa menghasilkan aplikasi perangkat lunak dengan kualitas yang lebih bisa dijamin.</p> <img src="/images/placeholder-1x1.png" data-src="/content-images/unit-testing-guide-in-vuejs/commitstrip.jpg" alt="Unit Test Meme by commitstrip" height="200px" width="200px"> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Prinsip-Utama">Prinsip Utama</h2> <p>Ada beberapa prinsip utama dalam melakukan unit testing, beberapa diantaranya yang dikenal dengan <strong>FIRST</strong></p> <ol><li><strong>F - Fast</strong> (Cepat), unit test harus bisa dieksekusi dengan cepat, tidak memakan waktu yang lebih lama dibandingkan ketika harus menjalankan aplikasi secara utuh untuk melakukan test manual.</li> <li><strong>I - Isolated</strong> (Dapat Diisolasi), unit test harus bisa diisolasi antar satu dengan yang lain, ketika terjadi kegagalan maka harus bisa dipastikan tidak merembet ke berkas testing pada bagian lain.</li> <li><strong>R - Repeatable</strong> (Dapat Diulang), unit testing harus bisa dijalankan kapan saja dan menghasilkan hasil yang sama. Tidak terikat pada hari tertentu, waktu tertentu atau zona waktu tertentu.</li> <li><strong>S - Self-Validating</strong> (Validasi Diri Sendiri), setiap test harus bisa menentukan sendiri apakah gagal atau berhasil menjalankan test tanpa perlu dilakukan verifikasi secara manual.</li> <li><strong>T - Timely</strong> (Tepat Waktu), test ditulis pada waktu yang tepat segera setelah kodenya selesai dibuat atau dalam praktik TDD, test dibuat terlebih dahulu untuk bisa memberi arahan yang lebih baik pada saat menulis kode.</li></ol> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Beberapa-Siklus-Hidup-Umum-di-Unit-Test">Beberapa Siklus Hidup Umum di Unit Test</h2> <ol><li><strong>Setup</strong> adalah siklus dimana kita menyiapkan berbagai kebutuhan skenario test yang akan dijalankan, di Jest mungkin kita akan menggunakan sintaksis seperti <code>BeforeAll</code> atau <code>BeforeEach</code> untuk melakukan setup sebelum skenario test dijalankan.</li> <li><strong>Test Execution</strong> adalah siklus dimana test dijalankan dengan segala setup yang telah didefinisikan sebelumnya. Di Jest kita bisa menggunakan <code>test()</code> atau <code>it()</code> untuk mendefinisikan masing-masing skenario dan bisa dikelompokkan ke dalam satu grup menggunakan <code>describe()</code>.</li> <li><strong>Teardown</strong> adalah siklus dimana unit test selesai dijalankan, pada tahap ini biasanya dilakukan pembersihan dari segala macam hal yang mungkin akan mengganggu proses test selanjutnya. Hal ini dikarenakan seringkali kita akan melakukan berbagai macam trik seperti <em>mock</em>, <em>spy</em>, dan lainnya yang kalau tidak dibersihkan dikhawatirkan akan mengganggu ketika skenario selanjutnya dijalankan. Di Jest kita bisa menggunakan kait <code>afterEach</code> maupun <code>afterAll</code>.</li></ol> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Memasang-Unit-Testing-di-Vue-dan-Nuxt">Memasang Unit Testing di Vue dan Nuxt</h2> <p>Saya akan spesifik membahas bagaimana cara memasang Unit Test pada <em>framework</em> <a href="https://jestjs.io/en/">Jest ↗️</a> beberapa kode yang akan saya sertakan pun akan spesifik pada Jest, bila Anda menggunakan <em>framework</em> lain, bisa melihat pada referensi yang akan saya sertakan berikut:</p> <ul><li><a href="https://vue-test-utils.vuejs.org/guides/testing-single-file-components-with-mocha-webpack.html">Memasang unit test pada Mocha + Webpack ↗️</a></li> <li><a href="https://vue-test-utils.vuejs.org/guides/testing-single-file-components-with-karma.html">Memasang unit test pada Karma ↗️</a></li></ul> <p>Untuk Jest sendiri berikut cara memasang Unit Test pada beberapa projek:</p> <h3 id="Memasang-Jest-menggunakan-Vue-CLI-3">Memasang Jest menggunakan Vue-CLI 3</h3> <ul><li>Pasang Vue-CLI 3 dengan perintah</li></ul> <pre><code class="language-bash">$ yarn add @vue/cli
#atau
$ npm i -g @vue/cli
</code></pre> <ul><li><p>Buat projek baru dengan <code>vue create my-project-name</code>. Pilih <em>"Manually select features"</em> dan centang "Unit Testing" dan "Jest" untuk runner unit testnya, silakan lihat artikel resmi <a href="https://cli.vuejs.org/guide/creating-a-project.html">membuat project baru dengan Vue-CLI ↗️</a> untuk lebih jelasnya.</p></li> <li><p>Jalankan unit test dengan perintah <code>yarn test:unit</code> dan semua konfigurasi sudah dibuatkan oleh Vue-CLI tanpa kita harus melakukan secara manual.</p></li></ul> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h3 id="Memasang-Jest-tanpa-Vue-CLI">Memasang Jest tanpa Vue-CLI</h3> <p>Pasang beberapa dependency untuk menjalankan unit test dengan jest berikut:</p> <pre><code class="language-bash">$ yarn add jest babel-jest vue-jest @vue/test-utils -D
# atau
$ npm i jest babel-jest vue-jest @vue/test-utils --dev
</code></pre> <p>Perintah tersebut akan menambahkan dependency berikut pada projek kita:</p> <ul><li><code>jest</code></li> <li><code>babel-jest</code></li> <li><code>vue-jest</code></li> <li><code>@vue/test-utils</code></li></ul> <p>Buat file konfigurasi untuk Jest dengan nama file <code>jest.config.js</code> dengan isi konfigurasi sebagai berikut:</p> <pre><code class="language-javascript">module.exports = {
  moduleNameMapper: {
    '^~/(.*)$': '&lt;rootDir>/$1',
    '^@/(.*)$': '&lt;rootDir>/$1',
    '^vue$': 'vue/dist/vue.common.js'
  },
  moduleFileExtensions: ['js', 'vue', 'json'],
  transform: {
    '^.+.js$': '&lt;rootDir>/node_modules/babel-jest',
    '^.+.vue$': '&lt;rootDir>/node_modules/vue-jest'
  }
}
</code></pre> <p>Pada konfigurasi diatas, beberapa yang perlu kalian ketahui  seperti <code>moduleNameMapper</code> merupakan <code>alias</code> dari direktori kita seperti yang biasa kita lakukan di <code>webpack</code>. Sementara <code>transform</code> digunakan untuk men-transpile kode sebelum diproses oleh Jest, kita gunakan <code>babel-jest</code> dan <code>vue-jest</code> untuk membaca komponen berkas tunggal (<em>single file component</em> - <strong>SFC</strong>) pada Vue.</p> <p>Karena kita menggunakan <code>babel</code> juga pada unit test kita, maka jika belum ada konfigurasi babel pada projek kita, silakan tambahkan konfigurasi berikut:</p> <pre><code class="language-javascript">// babel.config.js
module.exports = {
  presets: [
    [
      '@vue/app'
    ],
  ],
};
</code></pre> <p>Selanjutnya kita bisa memasang kode tambahan pada <code>package.json</code> kita seperti berikut:</p> <pre><code class="language-javascript">{
  "scripts": {
    "test:unit": "jest"
  }
}
</code></pre> <p>Secara bawaan, Jest akan menganggap semua berkas yang berekstensi <code>.spec.js</code> atau <code>.test.js</code> sebagai berkas unit test yang akan dijalankan pada saat perintah <code>jest</code> diketikkan.</p> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h3 id="Memasang-Jest-pada-Nuxt-dengan-create-nuxt-app">Memasang Jest pada Nuxt dengan create-nuxt-app</h3> <p>Untuk memasang Jest pada Nuxt, bisa melalui <code>create-nuxt-app</code> yang bisa dilakukan dengan perintah:</p> <pre><code class="language-bash">$ yarn create nuxt-app my-project-name
# atau
$ npm init nuxt-app my-project-name
# atau
$ npx create-nuxt-app my-project-name
</code></pre> <p>Pada pilihan "Choose your favorite test framework:", silakan pilih "Jest" sebagai unit test yang akan digunakan.</p> <p>Jalankan unit test dengan perintah <code>yarn test</code>.</p> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h3 id="Memasang-Jest-pada-Nuxt-secara-manual">Memasang Jest pada Nuxt secara manual</h3> <p>Hampir tidak ada perbedaan dengan bagian <a href="#Memasang-Jest-tanpa-Vue-CLI">Memasang Jest tanpa Vue-CLI ↗️</a> pada projek Vue biasa tanpa Nuxt. Perbedaan mungkin hanya ada pada konfigurasi <code>babel</code>, karena pada Vue-CLI kita memanfaatkan babel presets dari Vue yang telah terpasang pada saat membuat projek Vue.</p> <p>Kita cukup melakukan konfigurasi babel untuk environment "test" karena projek Nuxt sudah memiliki konfigurasi babel bawaan, seperti berikut contohnya:</p> <pre><code class="language-javascript">{
  "env": {
    "test": {
      "presets": [
        ["@babel/preset-env", {
          "targets": {
            "node": "current"
          }
        }]
      ]
    }
  }
}
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Perbedaan-Dasar-Soal-Nuxt-dengan-Vue">Perbedaan Dasar Soal Nuxt dengan Vue</h2> <p>Pada saat ingin membuat unit test untuk projek Nuxt dengan Vue ada beberapa perbedaan yang mesti kalian tau sebelumnya. Seperti kita tau bahwa Nuxt dibangun diatas Vue namun dengan banyak fitur bawaan yang mungkin saja tidak akan kalian temui pada projek Vue yang tanpa Nuxt. Beberapa perbedaan adalah Nuxt punya beberapa tag spesial yang mirip dengan Vue namun tidak akan kalian temui disana, seperti beberapa tag berikut:</p> <pre><code class="language-html">&lt;nuxt>&lt;/nuxt>
&lt;nuxt-child>&lt;/nuxt-child>
&lt;nuxt-link>&lt;/nuxt-link>
&lt;no-ssr>&lt;/no-ssr>
</code></pre> <p>Selain itu Nuxt memiliki beberapa properti pada <strong>SFC</strong>-nya seperti berikut diantaranya:</p> <pre><code class="language-javascript">export default {
  head () { },
  asyncData () { },
  fetch () { },
  nuxtServerInit () { },
  validate () { },
}
</code></pre> <p>Projek Nuxt tidak memiliki <code>router.js</code> seperti yang biasanya kita buat di projek Vue, Nuxt akan menggunakan struktur folder untuk men-<em>generate</em> berkas router.js untuk projek kita yang letaknya ada di direktori <code>.nuxt</code>.</p> <p>Beberapa projek Nuxt juga tidak melakukan <em>instance</em> secara manual terhadap storenya, seperti biasa kita lakukan dengan kode seperti ini misalnya:</p> <pre><code class="language-javascript">import Vuex from 'vuex'

const createStore = () => {
  return new Vuex.Store({
    state: () => ({
      counter: 0
    }),
    mutations: {
      increment (state) {
        state.counter++
      }
    }
  })
}

export default createStore
</code></pre> <p>Dengan mengetahui beberapa perbedaan mendasar ini, nantinya akan berguna ketika kita menemui galat yang sebelumnya tidak kita temui pada projek Vue namun ternyata kita temui pada projek Nuxt.</p> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-JavaScript-File-Sederhana">Testing JavaScript File Sederhana</h2> <p>Untuk mengetes berkas JavaScript biasa tentu lebih mudah dibandingkan untuk melakukan test pada file <strong>SFC</strong> Vue. Misalnya saja kita punya berkas <code>helper</code> dengan nama berkas <code>math-util.js</code>, di dalamnya terdapat kode seperti berikut:</p> <pre><code class="language-javascript">export function add (a, b) {
  return a + b
}

export function min (a, b) {
  return a - b
}

export function increment (a) {
  return add(a, 1)
}

export function decrement (a) {
  return min(a, 1)
}
</code></pre> <p>Maka kita bisa membuatkan berkas untuk unit test dengan nama <code>math-util.spec.js</code> seperti berikut contohnya:</p> <pre><code class="language-javascript">import { add, min, increment, decrement } from '@/helpers/math-util'

describe('math-util.js', () => {
  it('`add` harus mengembalikan nilai yang benar', () => {
    expect(add(1, 2)).toBe(3)
    expect(add(2, 2)).toBe(4)
    expect(add(2, 3)).toBe(5)
    expect(add(3, 4)).toBe(7)
  })

  it('`min` harus mengembalikan nilai yang benar', () => {
    expect(min(7, 1)).toBe(6)
    expect(min(5, 2)).toBe(3)
    expect(min(4, 3)).toBe(1)
    expect(min(3, 1)).toBe(2)
  })

  it('`increment` harus mengembalikan nilai yang benar', () => {
    expect(increment(1)).toBe(2)
    expect(increment(5)).toBe(6)
    expect(increment(4)).toBe(5)
    expect(increment(8)).toBe(9)
  })

  it('`decrement` harus mengembalikan nilai yang benar', () => {
    expect(decrement(2)).toBe(1)
    expect(decrement(5)).toBe(4)
    expect(decrement(4)).toBe(3)
    expect(decrement(8)).toBe(7)
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-Mounting-Komponen-Vue">Testing Mounting Komponen Vue</h2> <p>Dalam melakukan unit testing pada <strong>SFC</strong>, hal pertama yang harus kita lakukan adalah memastikan kita berhasil memasang atau <em>mounting</em> komponen tersebut ke dalam Virtual DOM yang ada di unit test. Terdengar mudah memang, tapi seringkali justru ini menjadi hal yang tersulit untuk dikerjakan karena setelah berhasil melakukan bagian ini biasanya bagian selanjutnya akan terasa lebih mudah. Untuk bisa melakukan <em>mounting</em> kita diharuskan menyiapkan semua kebutuhan awal sebuah komponen tersebut agar bisa di-<em>mounting</em>. Cara paling bar-bar yang biasa saya lakukan adalah dengan mencoba sampai menemukan galat dan mencoba lagi sampai berhasil, tapi bila kita telah terbiasa nanti kita bisa lebih mendeteksi lebih awal kebutuhan apa saja yang harus kita siapkan untuk <em>mounting</em> komponen tersebut.</p> <p>Saya beri contoh misalkan ada komponen dengan templat seperti berikut:</p> <pre><code class="language-html">&lt;template>
  Hello world, {{ message }}
&lt;/template>
</code></pre> <p>Dari templat tersebut, kita mesti mencari tau darimana datangnya nilai <code>{{ message }}</code> karena ini dibutuhkan pada saat pertama kali komponen tersebut nantinya dipasang. Bila datang dari <code>data ()</code> bisa jadi aman karena data akan otomatis terbuat ketika komponen dipasang, bila datang dari <em>props</em> berarti kita perlu mengoper <em>props</em> tersebut juga pada unit test kita.</p> <p>Untuk contoh yang akan kita gunakan dalam melakukan <em>mounting</em> komponen di unit test akan mengikuti dari contoh yang dibuat oleh tim Vue melalui Vue-CLI yang dibuatkan pada saat awal kita membuat projek baru, berikut contoh melakukan <em>mounting</em> komponen di unit test:</p> <p>katakanlah kita mempunyai berkas dengan nama <code>HelloWorld.vue</code> yang berisi templat berikut:</p> <pre><code class="language-html">&lt;template>
  &lt;div class="hello">
    &lt;h1>{{ msg }}&lt;/h1>
    &lt;!-- banyak kode lain yang kita hilangkan karena dianggap tidak diperlukan -->
&lt;/template>
</code></pre> <p>Dengan bagian <code>script</code> berisi kode berikut:</p> <pre><code class="language-javascript">export default {
  name: 'HelloWorld',
  props: {
    msg: String
  }
}
</code></pre> <p>Maka pada berkas <code>hello-world.spec.js</code> kita bisa membuat unit test sebagai berikut:</p> <pre><code class="language-javascript">import { shallowMount } from '@vue/test-utils'
import HelloWorld from '@/components/HelloWorld.vue'

describe('HelloWorld.vue', () => {
  it('renders props.msg ketika dilempar', () => {
    const msg = 'new message'
    const wrapper = shallowMount(HelloWorld, {
      propsData: { msg }
    })
    expect(wrapper.text()).toMatch(msg)
  })
})
</code></pre> <p>Dari kode diatas kita belajar dasar-dasar memasang komponen pada unit test menggunakan <code>@vue/test-utils</code>, kita menggunakan API <code>shallowMount</code> dibandingkan <code>mount</code> karena kemampuan untuk memalsukan komponen anak sehingga kita tidak perlu mendefinisikan kebutuhan dari komponen anak dari komponen tersebut dan cukup fokus untuk mendefinisikan kebutuhan komponen terkait saja. Hal ini tentu selaras dengan prinsip <em>isolated</em> pada unit testing. Pada contoh diatas kita menambahkan opsi <code>propsData</code> untuk mengoper <em>props</em> yang nanti akan kita bahas di bagian terpisah dibawah nanti.</p> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-Method-di-Komponen-Vue">Testing Method di Komponen Vue</h2> <p>Setelah sebelumnya kita berhasil melakukan <em>mounting</em>, maka tugas berikutnya akan lebih mudah seperti yang sudah kita bahas sebelumnya. Pada bagian sebelumnya kita hanya melakukan <em>mounting</em> komponen tanpa memanggil <em>method</em> apapun, berikut contoh memanggil <em>method</em> dalam Vue <strong>SFC</strong> melalui unit test:</p> <p>Menggunkan berkas sebelumnya, kita akan menambahkan <em>method</em> pada <strong>SFC</strong>-nya dan melakukan sedikit perubahan seperti berikut:</p> <pre><code class="language-html">&lt;template>
  &lt;div class="hello">
    &lt;h1>{{ msg }}&lt;/h1>
&lt;/template>
</code></pre> <p>Dengan bagian <code>script</code> berisi kode berikut:</p> <pre><code class="language-javascript">export default {
  name: 'HelloWorld',
  data () {
    return {
      msg: 'Sebuah pesan'
    }
  },
  methods: {
    changeMessage (newMessage) {
      this.msg = newMessage
    }
  }
}
</code></pre> <p>Dari kode diatas, kita bisa membuatkan unit test seperti berikut:</p> <pre><code class="language-javascript">import { shallowMount } from '@vue/test-utils'
import HelloWorld from '@/components/HelloWorld.vue'

describe('HelloWorld.vue', () => {
  it('berhasil mounting komponen', () => {
    const msgExpected = 'Sebuah pesan'
    const wrapper = shallowMount(HelloWorld)
    expect(wrapper.vm.msg).toBe(msgExpected)
  })

  it('berhasil memanggil changeMessage', () => {
    const msgExpected = 'Sebuah pesan'
    const msgAfterChangeExpected = 'Sebuah pesan baru'
    const wrapper = shallowMount(HelloWorld)
    expect(wrapper.vm.msg).toBe(msgExpected)
    // memanggil method changeMessage
    wrapper.vm.changeMessage(msgAfterChangeExpected)
    expect(wrapper.vm.msg).toBe(msgExpected)
  })
})
</code></pre> <p>Dari kode unit test diatas kita bisa mengetahui bahwa kita bisa langsung mengakses berbagai fitur Vue komponen lewat <code>wrapper.vm</code>, ini sama saja seperti <code>this</code> pada <strong>SFC</strong> yang merujuk pada <em>instance</em> dari komponen tersebut. Kita bisa mengakses <em>data</em>, <code>method</code>, <em>props</em>, hasil dari <em>computed</em> dan lainnya menggunakan <code>wrapper.vm</code> yang merupakan fitur <code>@vue/test-utils</code>.</p> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Mensimulasikan-Aksi-Klik-Elemen">Mensimulasikan Aksi Klik Elemen</h2> <p>Beberapa programmer tidak senang melakukan akses langsung ke <em>method</em> tanpa melalui akses ke tampilan pengguna. Seperti pada contoh sebelumnya, unit test tersebut menjadi tidak masuk akal karena method <code>changeMessage</code> pada dasarnya tidak pernah digunakan oleh templat dan menjadi hal yang sia-sia karena kode tersebut tidak pernah mempengaruhi pengguna pada akhirnya.</p> <p>Untuk mengakomodir hal ini, beberapa programmer lebih senang melakukan unit test dengan mensimulasikan apa yang harus dilakukan pengguna akhir pada aplikasi mereka tanpa mengakses ke <em>method</em> secara langsung.</p> <p>Dari contoh kode sebelumnya kita akan melakukan perubahan agar <em>method</em> <code>changeMessage</code> menjadi berguna, seperti berikut:</p> <pre><code class="language-html">&lt;template>
  &lt;div class="hello">
    &lt;h1 class="message">{{ msg }}&lt;/h1>
    &lt;button
      class="btn"
      @click="changeMessage('Sebuah pesan baru')">
      Ubah pesan
    &lt;/button>
&lt;/template>
</code></pre> <p>Dengan bagian <code>script</code> seperti berikut ini:</p> <pre><code class="language-javascript">export default {
  name: 'HelloWorld',
  data () {
    return {
      msg: 'Sebuah pesan'
    }
  },
  methods: {
    changeMessage (newMessage) {
      this.msg = newMessage
    }
  }
}
</code></pre> <p>Dari kode diatas, kita bisa membuatkan unit test seperti berikut:</p> <pre><code class="language-javascript">import { shallowMount } from '@vue/test-utils'
import HelloWorld from '@/components/HelloWorld.vue'

describe('HelloWorld.vue', () => {
  it('berhasil mounting komponen', () => {
    const msgExpected = 'Sebuah pesan'
    const wrapper = shallowMount(HelloWorld)
    expect(wrapper.find('.message')).toBe(msgExpected)
  })

  it('berhasil memanggil changeMessage melalui aksi klik', () => {
    const msgExpected = 'Sebuah pesan'
    const msgAfterChangeExpected = 'Sebuah pesan baru'
    const wrapper = shallowMount(HelloWorld)
    expect(wrapper.find('.message')).toBe(msgExpected)

    // memanggil method changeMessage lewat aksi klik
    const buttonElemen = wrapper.find('.btn')
    buttonWrapper.trigger('click')

    // mengecek perubahan setelah klik
    expect(wrapper.find('.message')).toBe(msgAfterChangeExpected)
  })
})
</code></pre> <p>Bisa dilihat perbedaanya dari cara kita melakukan test pada bagian sebelumnya dengan cara kita melakukan test pada bagian ini, pada bagian ini kita benar-benar mensimulasikan bagaimana tampilan dari komponen ini nantinya akan digunakan oleh pengguna.</p> <p>Kedua cara yang kita contohkan benar dan boleh saja dilakukan. Kita bahkan bisa mengerjakan kedua cara tersebut dalam satu berkas unit test. Pilihan terserah pada Anda masing-masing. Cara pertama tentu lebih cepat apalagi kalau mengejar <code>coverage</code>, cara kedua lebih baik dan lebih berorientasi pada pengguna tapi seringkali menghabiskan lebih banyak waktu untuk dibuat.</p> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-Props-di-Komponen-Vue">Testing Props di Komponen Vue</h2> <p>Sebelum melakukan test pada <em>props</em>, kita mesti mengetahui terlebih dahulu bahwa <em>props</em> adalah sebuah nilai yang dioper oleh komponen lain, nilainya berupa satu arah yang artinya tidak bisa kita ubah secara langsung dari komponen yang menerima <em>props</em>, beberapa props sudah didefinisikan tipe data maupun struktur data yang diperbolehkan. Pada unit test kita bisa menggunakan fitur <code>propsData</code> untuk melempar <em>props</em> pada komponen tanpa perlu membuat komponen induk terlebih dahulu, berikut contoh membuat unit test pada <em>props</em>:</p> <pre><code class="language-html">&lt;template>
  &lt;div class="hello">
    &lt;h1>{{ msg }}&lt;/h1>
    &lt;h2>{{ num }}&lt;/h2>
    &lt;h3>{{ obj.name }}&lt;/h3>
    &lt;h4>{{ obj.desc }}&lt;/h4>
&lt;/template>
</code></pre> <p>Dengan kode bagian <code>script</code> sebagai berikut:</p> <pre><code class="language-javascript">export default {
  name: 'HelloWorld',
  props: {
    msg: String,
    num: {
      type: Number,
      default: 0
    },
    obj: {
      type: Object,
      default: () => ({
        name: '',
        desc: ''
      })
    },
  }
}
</code></pre> <p>Maka kita bisa membuat unit test dari kode diatas sebagai berikut:</p> <pre><code class="language-javascript">import { shallowMount } from '@vue/test-utils'
import HelloWorld from '@/components/HelloWorld.vue'

describe('HelloWorld.vue', () => {
  it('renders props.msg ketika dilempar', () => {
    const msgProp = 'sebuah pesan'
    const numProp = 12345
    const objProp = {
      name: 'sebuah nama',
      desc: 'sebuah deskripsi'
    }
    const wrapper = shallowMount(HelloWorld, {
      propsData: {
        msg: msgProp,
        num: numProp,
        obj: objProp,
      }
    })
    expect(wrapper.find('h1')).toBe(msgProp)
    expect(wrapper.find('h2')).toBe(numProp)
    expect(wrapper.find('h3')).toBe(objProp.name)
    expect(wrapper.find('h4')).toBe(objProp.desc)
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-Computed-dan-Watcher">Testing Computed dan Watcher</h2> <p>Untuk melakukan test pada <em>computed</em> dan <em>watch</em> kita perlu mengetahui apa yang sebenarnya dilakukan keduanya di dalam Vue <strong>SFC</strong>. Kita akan memahami mengenai dua hal ini lewat contoh kode berikut:</p> <pre><code class="language-javascript">export default {
  data () {
    return {
      firstName: 'Irfan',
      lastName: 'Maulana'
    }
  },
  computed: {
    fullName () {
      return `${this.firstName} ${this.lastName}`
    }
  }
}
</code></pre> <p>Kode yang sama bila kita selesaikan dengan <em>watch</em> akan menjadi:</p> <pre><code class="language-javascript">export default {
  data () {
    return {
      firstName: 'Irfan',
      lastName: 'Maulana',
      fullName: '',
    }
  },
  watch: {
    firstName (newValue) {
      this.fullName = `${newValue} ${this.lastName}`
    },
    lastName (newValue) {
      this.fullName = `${this.firstName} ${newValue}`
    }
  }
}
</code></pre> <p>Dari contoh kode diatas, kita bisa tau bahwa <em>computed</em> akan mengkalkulasikan ulang nilainya pada saat suatu variabel yang digunakan dibawah fungsi <em>computed</em> mengalami perubahan. Ciri khas dari <em>computed</em> sendiri adalah selalu mengambalikan nilai baru yang akan menjadi bagian dari <em>data</em>, meskipun begitu nilai dari <em>computed</em> tidak bisa kita ubah secara langsung. Nilainya hanya bisa diubah dengan melakukan perubahan pada variabel yang digunakan oleh <em>computed</em> tersebut. Sedangkan pada <em>watch</em> sama-sama akan dijalankan ketika terjadi perubahan pada variabel di dalamnya, hanya saja <em>watch</em> tidak akan mengembalikan nilai baru yang bisa kita gunakan.</p> <p>Berikut contoh kode untuk membuat unit test pada <em>computed</em>:</p> <pre><code class="language-html">&lt;template>
  &lt;h1>{{ fullName }}&lt;/h1>
&lt;/template>
</code></pre> <p>Dengan bagian <code>script</code> berisi kode berikut:</p> <pre><code class="language-javascript">export default {
  data () {
    return {
      firstName: 'Irfan',
      lastName: 'Maulana'
    }
  },
  computed: {
    fullName () {
      return `${this.firstName} ${this.lastName}`
    }
  }
}
</code></pre> <p>Dari kode tersebut kita membuat unit test berikut:</p> <pre><code class="language-javascript">import { shallowMount } from '@vue/test-utils'
import HelloWorld from '@/components/HelloWorld.vue'

describe('HelloWorld.vue', () => {
  it('computed seharusnya ter-trigger', () => {
    const wrapper = shallowMount(HelloWorld)
    expect(wrapper.find('h1')).toBe('Irfan Maulana')

    // nilai firstName dan lastName akan kita ubah
    wrapper.vm.firstName = 'Syamil'
    wrapper.vm.lastName = 'Al-Khawarizmi'

    // mengecek perubahan
    expect(wrapper.find('h1')).toBe('Syamil Al-Khawarizmi')
  })
})
</code></pre> <p>Pada kasus menggunakan <em>watch</em> bisa dilihat perubahan kodenya menjadi pada contoh kasus berikut:</p> <pre><code class="language-html">&lt;template>
  &lt;h1>{{ fullName }}&lt;/h1>
&lt;/template>
</code></pre> <p>Dengan bagian <code>script</code> berisikan kode:</p> <pre><code class="language-javascript">export default {
  data () {
    return {
      firstName: 'Irfan',
      lastName: 'Maulana',
      fullName: '',
    }
  },
  watch: {
    firstName (newValue) {
      this.fullName = `${newValue} ${this.lastName}`
    },
    lastName (newValue) {
      this.fullName = `${this.firstName} ${newValue}`
    }
  }
}
</code></pre> <p>Dari kode tersebut kita membuat unit test berikut:</p> <pre><code class="language-javascript">import { shallowMount } from '@vue/test-utils'
import HelloWorld from '@/components/HelloWorld.vue'

describe('HelloWorld.vue', () => {
  it('watch seharusnya ter-trigger', () => {
    const wrapper = shallowMount(HelloWorld)
    expect(wrapper.find('h1')).toBe('Irfan Maulana')

    // nilai firstName dan lastName akan kita ubah
    wrapper.vm.firstName = 'Syamil'
    wrapper.vm.lastName = 'Al-Khawarizmi'

    // mengecek perubahan
    expect(wrapper.find('h1')).toBe('Syamil Al-Khawarizmi')
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-Event-Emitter">Testing Event Emitter</h2> <p>Seringkali pada sebuah komponen kita harus melakukan <code>$emit</code> terhadap <em>event</em> yang dilempar oleh komponen induknya. Masalahnya adalah ketika kita mengetest komponen anak yang seperti ini, kita sebenarnya tidak pernah tau <em>event</em> seperti apa yang akan dilempar oleh komponen induknya. Ketidakpunyaan penglihatan kita terhadap aksi sejenis ini membuat kita tidak bisa melakukan test yang bisa kita pastikan hasilnya, karenanya kita biasanya cuma akan melakukan <code>Spy</code> terhadap fungsi seperti ini. Untungnya dari <code>@vue/test-utils</code> sudah menyediakan API yang memudahkan kita melakukan ini yakni <a href="https://vue-test-utils.vuejs.org/api/wrapper/emitted.html">emitted ↗️</a>.</p> <p>Contoh menggunakan <code>emitted</code> sebagai berikut, misalkan kita memiliki kode:</p> <pre><code class="language-javascript">export default {
  methods: {
    emitSomething () {
      this.$emit('foo', 123)
    }
  }
}
</code></pre> <p>Maka kita bisa membuatkan unit test sebagai berikut:</p> <pre><code class="language-javascript">import { shallowMount } from '@vue/test-utils'
import HelloWorld from '@/components/HelloWorld.vue'

describe('HelloWorld.vue', () => {
  it('memanggil $emit', () => {
    const wrapper = shallowMount(HelloWorld)
    wrapper.vm.emitSomething()
    expect(wrapper.emitted().foo).toBeTruthy()
    expect(wrapper.emitted('foo')).toBeTruthy()
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-Perpindahan-Route">Testing Perpindahan Route</h2> <p>Terkadang pada sebuah projek kita diharuskan melakukan manipulasi <em>route</em> pada sebuah seperti menggunakan <code>router.push</code>, <code>router.go</code> atau lainnya. Sebelum kita melakukan test pada kode seperti ini, kita paling tidak mesti tau apa yang terjadi ketika kita melakukan manipulasi <em>router</em> di Vue. Vue memanfaatkan pustaka tambahan yakni <strong>Vue Router</strong> untuk melakukan manipulasi <em>router</em> yang mana diurus secara resmi oleh tim yang sama dengan yang membuat Vue inti.</p> <p>Ada dua objek yang harus kita tau ketika menggunakan <strong>Vue Router</strong> yakni, <em>route</em> yang bisa diakses lewat <strong>SFC</strong> melalui <code>this.$route</code> dan juga <em>router</em> yang bisa diakses melalui <code>this.$router</code>. <em>Route</em> adalah representasi posisi halaman saat ini, berupa objek yang berisi <code>path</code>, <code>name</code>, <code>query</code> dan sebagainya. Sementara <em>router</em> merupakan objek yang bisa memanipulasi posisi <em>route</em> tersebut. Jadi kita akan mengakses <em>router</em> untuk mengubah <em>route</em> dan akan mengecek <em>route</em> untuk mengetahui apakah manipulasi tersebut berhasil ataukah tidak.</p> <p>Contoh kode berikut akan memberikan gambaran mengenai dua hal tersebut:</p> <pre><code class="language-javascript">export default {
  methods: {
    changeRoute () {
      this.$router.push('/')
      // console.log(this.$route.path)
      // akan mencetak nilai /
    },
    changeRouteFoo () {
      this.$router.push('/foo')
      // console.log(this.$route.path)
      // akan mencetak nilai /foo
    },
    changeRouteBar () {
      this.$router.push('/bar')
      // console.log(this.$route.path)
      // akan mencetak nilai /bar
    }
  }
}
</code></pre> <p>Dari kode diatas kita bisa membuat beberapa alternatif untuk unit test kita, antara lain sebagai berikut:</p> <pre><code class="language-javascript">import { shallowMount, createLocalVue } from '@vue/test-utils'
import VueRouter from 'vue-router'
import HelloWorld from '@/components/HelloWorld.vue'

const localVue = createLocalVue()
localVue.use(VueRouter)

const Foo = { template: '&lt;div>foo&lt;/div>' }
const Bar = { template: '&lt;div>bar&lt;/div>' }
const dummyRoutes = [
  { path: '/foo', component: Foo },
  { path: '/bar', component: Bar }
]

describe('HelloWorld.vue', () => {
  it('mengubah $route pada komponen', () => {
    const router = new VueRouter({
      routes: dummyRoutes
    })

    const wrapper = shallowMount(HelloWorld, {
      localVue,
      router
    })

    // ubah $route ke /
    wrapper.vm.changeRoute()
    expect(wrapper.vm.$route.path).toBe('/')
    // ubah $route ke /foo
    wrapper.vm.changeRouteFoo()
    expect(wrapper.vm.$route.path).toBe('/foo')
    // ubah $route ke /bar
    wrapper.vm.changeRouteBar()
    expect(wrapper.vm.$route.path).toBe('/bar')
  })
})
</code></pre> <p>Dari contoh kode unit test diatas, kita belajar untuk menggunakan <code>localVue</code> dari <code>@vue/test-utils</code>. API ini digunakan untuk menamabahkan plugin ke dalam unit test kita, seperti dijelaskan sebelumnya bahwa Vue Router merupakan pustaka luar yang harus digunakan lewat <code>Vue.use</code> ke dalam <em>instance</em> utama dari Vue. Maka pada unit test kita memanfaatkan <code>localVue</code> untuk melakukan hal yang sama namun dalam lingkungan unit test. Selain mengoper opsi <code>localVue</code>, kita juga diharuskan melempar opsi <em>router</em> seperti saat kita melakukan <em>instance</em>  Vue ketika menggunakan <strong>Vue Router</strong> seperti contoh potongan kode berikut:</p> <pre><code class="language-javascript">const Foo = { template: '&lt;div>foo&lt;/div>' }
const Bar = { template: '&lt;div>bar&lt;/div>' }

const routes = [
  { path: '/foo', component: Foo },
  { path: '/bar', component: Bar }
]

const router = new VueRouter({
  routes // short for `routes: routes`
})

const app = new Vue({
  router
}).$mount('#app')
</code></pre> <p>Pada contoh kode unit test yang kita buat sebelumnya kita memalsukan <code>routes</code> yang ada, pada projek Vue mungkin hal ini tidak diperlukan karena kita bisa langsung impor dari berkas <code>router.js</code> yang kita buat sebelumnya tapi pada projek Nuxt yang tidak memiliki <code>router.js</code> hal ini menjadi dibutuhkan. Namun tidak menutup kemungkinan juga kita melakukan hal seperti ini pada projek Vue, kembali pada preferensi masing-masing lebih memilih kode yang mana.</p> <p>Sebagai catatan, <strong>Vue Router</strong> mungkin tidak akan memberikan error ketika kita memindahkan sebuah <em>route</em> ke alamat yang tidak dikenal atau belum didefinisikan sebelumnya, namun kita bisa mengetahui apakah proses pemindahan itu berhasil atau tidak dari posisi <em>route</em> setelah pemindahan tersebut. Bila gagal, maka posisi <em>route</em> akan tetap sama seperti sebelumnya atau dalam kata lain tidak terjadi apa-apa pada objek <em>route</em> tersebut.</p> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-Mounting-Route">Testing Mounting Route</h2> <p>Pada beberapa kasus kalian akan memanggil <code>this.$route</code> pada siklus hidup mounted atau pada computed yang mana juga akan dikalkulasi secepatnya setelah komponen tersebut dibuat. Dengan contoh kasus seperti ini, cara yang kita gunakan seperti diatas bisa jadi akan memberikan galat pada saat melakukan render di kode unit test kita.</p> <p>Untuk menyelesaikan masalah ini, kita bisa memanfaatkan fitur <code>mock</code> dari Vue Test util dengan contoh seperti kode berikut:</p> <pre><code class="language-javascript">const $route = {
  path: 'http://www.example-path.com',
  params: '',
  query: {},
  fullPath: ''
  // see https://router.vuejs.org/api/#route-object-properties for complete properties
}
const wrapper = shallowMount(Component, {
  mocks: {
    $route
  }
})
expect(wrapper.vm.$route.path).toBe($route.path)
</code></pre> <p>Hal yang perlu diperhatikan adalah bahwa kita tidak perlu lagi melempar route <em>bohongan</em> pada saat membuat Vue Instance seperti yang sebelumnya kita kerjakan, jadi bisa cukup dengan kode berikut:</p> <pre><code class="language-javascript">const wrapper = shallowMount(HelloWorld, {
  localVue,
  // router // -- bagian ini tidak diperlukan lagi
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-Vuex">Testing Vuex</h2> <p><a href="https://vuex.vuejs.org/">Vuex ↗️</a> merupakan salah satu pustaka yang sering sekali kita gunakan dalam suatu projek. Vuex menjadi satu-satunya pilihan yang paling mumpuni sebagai manajemen state pada Vue untuk saat ini. Berikut beberapa hal yang akan sering kita jumpai saat melakukan test pada aplikasi Vue yang menggunakan Vuex di dalamnya:</p> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h3 id="Testing-Getters">Testing Getters</h3> <p><em>Getters</em> biasanya digunakan ketika kita ingin melakukan manipulasi pada state sebelum digunakan di sebuah komponen tanpa mengubah nilai asli dari state tersebut.</p> <p>Contoh kode <em>getters</em> seperti berikut:</p> <pre><code class="language-javascript">export default {
  state: {
    messages: []
  },
  getters: {
    unreadMessages(state) {
      return state.messages.filter(item => item.read === 0)
    },
    readMessages(state) {
      return state.messages.filter(item => item.read === 1)
    }
  },
  mutations: {
    setMessageList: (state, data) => {
      state.messages = data
    }
  }
}
</code></pre> <p>Dari kode diatas kita mempunyai dua <em>getters</em> yakni <code>unreadMessages</code> dan <code>readMessages</code>. Keduanya digunakan untuk mengambil spesifik nilai dari sebuah daftar di state <code>messages</code>. Getters bisa di test seperti kode JavaScript biasa tanpa perlu melakukan <em>instance</em> Vuex Store terlebih dahulu, namun bisa juga kita test lewat <em>instance</em> Vuex Store bila memang dibutuhkan.</p> <p>Berikut contoh unit test untuk kode <em>getters</em> diatas:</p> <pre><code class="language-javascript">import store from '@/store/messages'

const messages = [{
  id: 'pesan-1',
  text: 'sebuah pesan',
  read: 0
}, {
  id: 'pesan-2',
  text: 'sebuah pesan 2',
  read: 1
}, {
  id: 'pesan-3',
  text: 'sebuah pesan 3',
  read: 1
}]

describe('Vuex Store: Messages', () => {
  it('unreadMessages harus mengembalikan nilai yang benar', () => {
    const result = store.getters.unreadMessages({
      messages
    })
    const expectedResult = [{
      id: 'pesan-1',
      text: 'sebuah pesan',
      read: 0
    }]

    expect(result).toEqual(expectedResult)
  })

  it('readMessages harus mengembalikan nilai yang benar', () => {
    const result = store.getters.readMessages({
      messages
    })
    const expectedResult = [{
      id: 'pesan-2',
      text: 'sebuah pesan 2',
      read: 1
    }, {
      id: 'pesan-3',
      text: 'sebuah pesan 3',
      read: 1
    }]

    expect(result).toEqual(expectedResult)
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h3 id="Testing-Mutations">Testing Mutations</h3> <p><em>Mutations</em> digunakan untuk mengubah nilai state, seperti kita tau bersama bahwa di Vuex terlarang untuk mengubah nilai state secara langsung. Semua perubahan state diharuskan untuk lewat <em>mutations</em>.</p> <p>Contoh kode <em>mutations</em> sebagai berikut:</p> <pre><code class="language-javascript">export default {
  state: {
    messages: []
  },
  mutations: {
    setMessageList: (state, data) => {
      state.messages = data
    }
  }
}
</code></pre> <p>Dari kode diatas kita bisa membuatkan unit test seperti berikut:</p> <pre><code class="language-javascript">import store from '@/store/messages'

const messages = [{
  id: 'pesan-1',
  text: 'sebuah pesan',
  read: 0
}, {
  id: 'pesan-2',
  text: 'sebuah pesan 2',
  read: 1
}, {
  id: 'pesan-3',
  text: 'sebuah pesan 3',
  read: 1
}]

describe('Vuex Store: Messages', () => {
  it('setMessageList harus mengubah nilai state messages', () => {
    let dummyState = {
      messages: []
    }
    store.mutations.setMessageList(dummyState, messages)
    expect(dummyState.messages).toEqual(messages)
  })
})
</code></pre> <p>Kita bisa juga melakukan test dengan menggunakan <em>instance</em> Vuex Store untuk mengakses <em>mutations</em> seperti berikut:</p> <pre><code class="language-javascript">import Vuex from 'vuex';
import store from '@/store/messages'

const $storeInstance = new Vuex.Store(store)

const messages = [{
  id: 'pesan-1',
  text: 'sebuah pesan',
  read: 0
}, {
  id: 'pesan-2',
  text: 'sebuah pesan 2',
  read: 1
}, {
  id: 'pesan-3',
  text: 'sebuah pesan 3',
  read: 1
}]

describe('Vuex Store: Messages', () => {
  it('setMessageList harus mengubah nilai state messages', () => {
    // memanggil mutations lewat Vuex Instance
    $storeInstance.commit('setMessageList', messages)
    // mengecek perubahan state
    expect($storeInstance.state.messages).toEqual(messages)
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h3 id="Testing-Actions">Testing Actions</h3> <p><em>Actions</em> digunakan untuk mengeksekusi berbagai fungsi yang tidak berjalan sinkron (<em>asynchronous</em>), berikut contoh kode Actions:</p> <pre><code class="language-javascript">import axios from 'axios'

export default {
  state: {
    messages: []
  },
  mutations: {
    setMessageList: (state, data) => {
      state.messages = data
    }
  },
  actions: {
    async fetchMessages({ commit }, { username }) {
      const response = await axios.get("/api/messages", {
        username
      })
      commit('setMessageList', response.data)
    }
  }
}
</code></pre> <p>Dari kode diatas kita bisa membuatkan unit test sebagai berikut:</p> <pre><code class="language-javascript">import axios from 'axios'
import store from '@/store/messages'

const messages = [{
  id: 'pesan-1',
  text: 'sebuah pesan',
  read: 0
}, {
  id: 'pesan-2',
  text: 'sebuah pesan 2',
  read: 1
}, {
  id: 'pesan-3',
  text: 'sebuah pesan 3',
  read: 1
}]

describe('Vuex Store: Messages', () => {
  it('fetchMessages harus mendapatkan semua data messages', () => {
    const commit = jest.fn()
    const mockFetchPromise = Promise.resolve({
      data: messages,
    })
    axios.get = jest.fn().mockResolvedValue(mockFetchPromise)

    store.actions.fetchMessages({ commit }, { username: 'dummy-username' })
    expect(commit).toHaveBeenCalledWith('setMessageList', messages)
  })
})
</code></pre> <p>Dengan cara diatas, kita tidak bisa mengecek perubahan <em>state</em> karena fungsi <code>commit</code> sudah di-<em>mock</em> sehingga tidak lagi memanggil fungsi yang sesungguhnya. Untuk mengatasi kekurangan diatas kita bisa meng-<em>instance</em> Vuex Store agar fungsi commit yang sesungguhnya bisa dipakai di unit test. Berikut contoh kodenya:</p> <pre><code class="language-javascript">import Vuex from 'vuex'
import axios from 'axios'
import store from '@/store/messages'

const $storeInstance = new Vuex.Store(store)

const messages = [{
  id: 'pesan-1',
  text: 'sebuah pesan',
  read: 0
}, {
  id: 'pesan-2',
  text: 'sebuah pesan 2',
  read: 1
}, {
  id: 'pesan-3',
  text: 'sebuah pesan 3',
  read: 1
}]

describe('Vuex Store: Messages', () => {
  it('fetchMessages harus mendapatkan semua data messages', () => {
    const mockFetchPromise = Promise.resolve({
      data: messages,
    })
    axios.get = jest.fn().mockResolvedValueOnce(mockFetchPromise)
    // mengeksekusi actions lewat Vuex Instance
    $storeInstance.dispatch('fetchMessages', { username: 'dummy-username' })
    // mengecek perubahan state
    expect($storeInstance.state.messages).toEqual(messages)
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h3 id="Testing-Vuex-di-Komponen">Testing Vuex di Komponen</h3> <p>Bila sebelumnya kita melakukan test langsung pada berkas Vuex itu sendiri, berikutnya kita akan memberikan contoh ketika kita menggunakan Vuex di komponen. Pada dasarnya sama saja, kita hanya perlu melakukan <em>instance</em> Vuex Store agar bisa menggunakan berbagai fitur Vuex di komponen. Bedanya hanya kita harus menambahkan <code>localVue</code> dari <code>@vue/test-utils</code> untuk memasangkan Vuex ke dalam komponen yang akan kita test. Berikut contoh kodenya:</p> <p>Misalkan kita memiliki berkas Vuex seperti berikut:</p> <pre><code class="language-javascript">import axios from 'axios'

export default {
  state: {
    messages: []
  },
  mutations: {
    setMessageList: (state, data) => {
      state.messages = data
    }
  },
  actions: {
    async fetchMessages({ commit }, { username }) {
      const response = await axios.get("/api/messages", {
        username
      })
      commit('setMessageList', response.data)
    }
  }
}
</code></pre> <p>Dan akan digunakan di komponen <code>HelloWorld.vue</code> pada bagian templat seperti berikut:</p> <pre><code class="language-html">&lt;template>
  &lt;div>
    &lt;h1>Contoh Vuex di Komponen&lt;/h1>
    &lt;ul
      v-for="message in messages"
      :key="message.id">
      {{ message.text }}
    &lt;/ul>
  &lt;/div>
&lt;/template>
</code></pre> <p>Sedangkan pada bagian <code>script</code> berisi kode berikut:</p> <pre><code class="language-javascript">import { mapState, mapActions } from "vuex"

export default {
  data () {
    return {
      username: 'dummy-username'
    }
  },
  computed: {
    ...mapState([
      'messages'
    ])
  },
  methods: {
    ...mapState([
      'fetchMessages'
    ]),
    fireFetchMessage() {
      this.fetchMessages({
        username: this.username
      })
    }
  }
}
</code></pre> <p>Dari kode di atas kita bisa membuat unit test seperti berikut:</p> <pre><code class="language-javascript">import { shallowMount, localVue } from '@vue/test-utils'
import Vuex from 'vuex'
import HelloWorld from '@/components/HelloWorld.vue'

const localVue = createLocalVue()
localVue.use(Vuex)

const mockFetchMessages = jest.fn()
const store = new Vuex.Store({
  state: {
    messages: []
  },
  actions: {
    fetchMessages: mockFetchMessages
  }
})

describe('HelloWorld.vue', () => {
  // reset semua pemalsuan (mock) setiap selesai test
  afterEach(() => {
    jest.clearAllMocks()
  })

  it('memanggil methods fireFetchMessage', async (done) => {
    // mengoper localVue dan store
    const wrapper = shallowMount(HelloWorld, {
      store,
      localVue
    })
    await wrapper.vm.fireFetchMessage()

    expect(mockFetchMessages).toHaveBeenCalledTimes(1)
    expect(mockFetchMessages).toHaveBeenCalledWith({
      username: 'dummy-username'
    })
    done()
  })
})
</code></pre> <p>Pada unit test di atas saya memilih untuk melakukan <em>mock</em> pada actions <code>fetchMessages</code> yang akan ikut terpanggil ketika kita memanggil method <code>fireFetchMessage</code>. Tujuannya agar tidak perlu berulang melakukan <em>mock</em> pada pemanggilan Rest API yang sebenarnya sudah dikerjakan ketika membuat unit test untuk file <em>store</em> itu sendiri. Sebenarnya kita bisa juga memilih untuk memanggil store tanpa melakukan <em>mock</em> sehingga kodenya akan memanggil store yang sesungguhnya. berikut contoh kodenya:</p> <pre><code class="language-javascript">import { shallowMount, localVue } from '@vue/test-utils'
import Vuex from 'vuex'
import axios from 'axios'
import storeMessages from '@/store/messages'
import HelloWorld from '@/components/HelloWorld.vue'

const localVue = createLocalVue()
localVue.use(Vuex)

const store =  new Vuex.Store(storeMessages)

const messages = [{
  id: 'pesan-1',
  text: 'sebuah pesan',
  read: 0
}, {
  id: 'pesan-2',
  text: 'sebuah pesan 2',
  read: 1
}, {
  id: 'pesan-3',
  text: 'sebuah pesan 3',
  read: 1
}]

describe('HelloWorld.vue', () => {
  // reset semua pemalsuan (mock) setiap selesai test
  afterEach(() => {
    jest.clearAllMocks()
  })

  it('memanggil methods fireFetchMessage', async (done) => {
    const mockFetchPromise = Promise.resolve({
      data: messages,
    })
    axios.get = jest.fn().mockResolvedValueOnce(mockFetchPromise)
    // mengoper localVue dan store
    const wrapper = shallowMount(HelloWorld, {
      store,
      localVue
    })
    await wrapper.vm.fireFetchMessage()
    process.nextTick(() => {
      expect(wrapper.vm.messages).toEqual(messages)
      done()
    })
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-Vuex-dengan-Modules">Testing Vuex dengan Modules</h2> <p>Pada projek Vue dengan skala besar dan kompleks seringkali kita melakukan scoping pada kode Vuex dengan menggunakan fitur <a href="https://vuex.vuejs.org/guide/modules.html">Vuex Modules ↗️</a>. Ketika kita menggunakan fitur Modules ini, maka cara kita memalsukan Vuex pada unit testing pun menjadi berbeda dengan cara kita ketika tidak menggunakan Module.</p> <p>Katakanlah kita membuat Vuex Module dengan cara berikut:</p> <pre><code class="language-javascript">const moduleA = {
  namespace: true,
  state: { ... },
  mutations: { ... },
  actions: { ... },
  getters: { ... }
}

const moduleB = {
  namespace: true,
  state: { ... },
  mutations: { ... },
  actions: { ... }
}

const store = new Vuex.Store({
  modules: {
    a: moduleA,
    b: moduleB
  }
})
</code></pre> <p>Maka pada unit test kita bisa memalsukan dengan cara seperti berikut:</p> <pre><code class="language-javascript">import { shallowMount, localVue } from '@vue/test-utils'
import Vuex from 'vuex'
import HelloWorld from '@/components/HelloWorld.vue'

const localVue = createLocalVue()
localVue.use(Vuex)

const moduleA = {
  namespace: true,
  state: { ... },
  mutations: { ... },
  actions: { ... },
  getters: { ... }
}

const moduleB = {
  namespace: true,
  state: { ... },
  mutations: { ... },
  actions: { ... }
}

const store = new Vuex.Store({
  modules: {
    a: moduleA,
    b: moduleB
  },
  state: { ... }, //  state di luar modules
  mutations: { ... }, //  mutations di luar modules
  actions: { ... } //  actions di luar modules
})

describe('HelloWorld.vue', () => {
  it('memanggil state modules dengan namespace', (done) => {
    // mengoper localVue dan store dalam shallowRender
    const wrapper = shallowMount(HelloWorld, {
      store,
      localVue
    })
    done()
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-dengan-Vue-i18n">Testing dengan Vue-i18n</h2> <p><a href="http://kazupon.github.io/vue-i18n/">Vue-i18n ↗️</a> menjadi salah satu pilihan terbaik bila kita ingin mendukung beberapa bahasa dalam sebuah projek Vue kita. Dengan Menggunakan Vue-i18n akan membuat cara kita melakukan unit test sedikit berbeda dibandingkan ketika tidak menggunakannya.</p> <p>Contoh kode tamplat ketika menggunakan Vue-i18n adalah seperti berikut:</p> <pre><code class="language-html">&lt;template>
  &lt;div class="hello">
    {{ $t("message") }}
  &lt;/div>
&lt;/template>
</code></pre> <p>Cara paling gampang melakukan test ketika melakukan test dengan Vue-i18n adalah dengan memalsukan fungsi <code>$t</code> yang biasa digunakan untuk mengambil suatu kata dari penyimpanan bahasa yang kita kerjakan.</p> <pre><code class="language-javascript">import { shallowMount } from '@vue/test-utils'
import HelloWorld from '@/components/HelloWorld.vue'

describe("HelloWorld", () => {
  it("renders successfully with i18n", () => {
    const wrapper = shallowMount(HelloWorld, {
      mocks: {
        $t: (msg) => msg
      }
    })
  })
})
</code></pre> <p>Bisa juga kita membuatnya menjadi konfigurasi global dengan menambahkan konfigurasi pada <code>jest.config.js</code> seperti:</p> <pre><code class="language-javascript">// untuk jest v24x
setupFilesAfterEnv: ['&lt;rootDir>/test/setup-test.js'],
// `setupFiles` atau `setupTestFrameworkScriptFile` untuk jest 23
</code></pre> <p>Pada file <code>setup-test.js</code>, kita bisa menambahkan <code>config</code> seperti kode berikut:</p> <pre><code class="language-javascript">import { config } from '@vue/test-utils'
import langEN from '@/locales/en'

const defaultLocale = 'en'

config.mocks['$t'] = (msg) => langEN[defaultLocale][msg]
</code></pre> <p>Kedua cara ini sebenarnya bukanlah cara yang sering saya gunakan, saya lebih senang memanfaastkan <code>localVue</code> untuk memasang i18n ke dalam unit test. Berikut contoh kodenya:</p> <pre><code class="language-javascript">import { shallowMount, localVue } from '@vue/test-utils'
import VueI18n from 'vue-i18n'
import langEN from '@/locales/en'
import HelloWorld from '@/components/HelloWorld.vue'

localVue.use(VueI18n)

const i18n = new VueI18n({
  locale: 'en', // set locale
  messages: {
    en: langEN
  }
})

describe("HelloWorld", () => {
  it("renders successfully with i18n", () => {
    const wrapper = shallowMount(HelloWorld, {
      i18n,
      localVue
    })
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Testing-Pemanggilan-Rest-API">Testing Pemanggilan Rest API</h2> <p>Memanggil sebuah Rest API menjadi tulang punggung yang banyak digunakan saat ini sebagai media komunikasi frontend-backend. Semakin kompleks aplikasi biasanya semakin banyak pula pemanggilan ini tersebar di berbagai tempat pada projek kita.</p> <p>Secara bawaan, berbagai peramban teranyar sudah mendukung Fetch API sebagai alat untuk melakukan komunikasi lewat Rest API. Namun masih populernya pustaka seperti Axios membuat kita juga perlu memberikan contoh bagaimana melakukan test pada projek yang memilih menggunakan Axios untuk melakukan komunikasi dengan Rest API.</p> <p>Beberapa hal yang mesti kalian tau mengenai Fetch API dan pustaka Axios berkaitan dengan unit test yang akan dibuat nantinya antara lain:</p> <ul><li>Fetch API akan mengembalikan dua level <code>Promise</code> yang bersarang, kalian perlu memanggil <code>response.json()</code> untuk mendapatkan Promise yang kedua, barulah di dalam Promise kedua ini kalian bisa mendapati nilai yang diinginkan.</li> <li>Fetch API merupakan API bawaan dari peramban, bisa diakses lewat objek <code>window</code> yang direfreksikan lewat objek <code>global</code> di dalam Jest.</li> <li>Menggunakan Axios kita tidak perlu menggunakan Promise dua kali.</li> <li>Response dari Axios terletak di properti <em>data</em> dari objek <code>response</code>.</li> <li>Dalam unit test sebisa mungkin kita tidak melakukan pemanggilan Rest API yang sesungguhnya, kita cukup melakukan simulasi terjadinya pemanggilan Rest API.</li></ul> <p>Berikut contoh kode ketika kita melakukan pemanggilan Rest API menggunakan Fetch API:</p> <pre><code class="language-javascript">const URL = 'https://ghibliapi.herokuapp.com/films/'

export default {
  data () {
    return {
      dataResponse: []
    }
  },
  methods: {
    async fetchData () {
      try {
        const response = await fetch(URL)
        const data = await response.json()
        this.dataResponse = data
      } catch (error) {
        this.dataResponse = []
      }
    }
  }
}
</code></pre> <p>Dari kode diatas, kita bisa membuatkan unit test seperti berikut:</p> <pre><code class="language-javascript">import { shallowMount } from '@vue/test-utils'
import HelloWorld from '@/components/HelloWorld.vue'

describe('HelloWorld.vue', () => {
  // reset semua pemalsuan (mock) setiap selesai test
  afterEach(() => {
    jest.clearAllMocks()
  })

  it('memanggil Rest API dengan Fetch API', async (done) => {
    const mockSuccessResponse = [
      'a', 'b', 'c'
    ];
    const mockFetchPromise = Promise.resolve({
      json: () => Promise.resolve(mockSuccessResponse),
    });
    // memalsukan fungsi fetch API
    // selalu mengembalikan nilai sesuai yang diinginkan
    global.fetch = jest.fn().mockResolvedValue(mockFetchPromise)

    const wrapper = shallowMount(HelloWorld)
    await wrapper.vm.fetchData()

    // memastikan fungsi fetch dipanggil sekali
    expect(global.fetch).toHaveBeenCalledTimes(1)
    // memastikan fungsi dipanggil dengan URL yang benar
    expect(global.fetch).toHaveBeenCalledWith('https://ghibliapi.herokuapp.com/films/')
    expect(wrapper.vm.dataResponse).toEqual(mockSuccessResponse)
    done()
  })
})
</code></pre> <p>Sedangkan kode berikut ini adalah contoh kode untuk melakukan pemanggilan Rest API menggunakan pustaka Axios:</p> <pre><code class="language-javascript">import axios from 'axios'
const URL = 'https://ghibliapi.herokuapp.com/films/'

export default {
  data () {
    return {
      dataResponse: []
    }
  },
  methods: {
    async fetchDataAxios () {
      try {
        const response = await axios.get(URL)
        this.dataResponse = response.data
      } catch (error) {
        this.dataResponse = []
      }
    }
  }
}
</code></pre> <p>Dengan kode diatas kita bisa membuatkan unit test sebagai berikut:</p> <pre><code class="language-javascript">import { shallowMount } from '@vue/test-utils'
import axios from 'axios'
import HelloWorld from '@/components/HelloWorld.vue'

describe('HelloWorld.vue', () => {
  // reset semua pemalsuan (mock) setiap selesai test
  afterEach(() => {
    jest.clearAllMocks()
  })

  it('memanggil Rest API dengan Axios', async (done) => {
    const mockSuccessResponse = [
      'a', 'b', 'c'
    ];
    const mockFetchPromise = Promise.resolve({
      data: mockSuccessResponse,
    });
    // memalsukan fungsi fetch API
    // selalu mengembalikan nilai sesuai yang diinginkan
    axios.get = jest.fn().mockResolvedValue(mockFetchPromise)

    const wrapper = shallowMount(HelloWorld)
    await wrapper.vm.fetchDataAxios()

    // memastikan fungsi fetch dipanggil sekali
    expect(axios.get).toHaveBeenCalledTimes(1)
    // memastikan fungsi dipanggil dengan URL yang benar
    expect(axios.get).toHaveBeenCalledWith('https://ghibliapi.herokuapp.com/films/')
    expect(wrapper.vm.dataResponse).toEqual(mockSuccessResponse)
    done()
  })
})
</code></pre> <p><a href="#navigasi">🔼 Kembali ke navigasi</a></p> <h2 id="Referensi">Referensi</h2> <ol><li><a href="https://www.guru99.com/unit-testing-guide.html">https://www.guru99.com/unit-testing-guide.html ↗️</a></li> <li><a href="https://howtodoinjava.com/best-practices/first-principles-for-good-tests/">https://howtodoinjava.com/best-practices/first-principles-for-good-tests/ ↗️</a></li> <li><a href="https://lmiller1990.github.io/vue-testing-handbook/">https://lmiller1990.github.io/vue-testing-handbook/ ↗️</a></li> <li><a href="https://vue-test-utils.vuejs.org/">https://vue-test-utils.vuejs.org/ ↗️</a></li></ol></div> <div><a href="/" class="nuxt-link-active">
    🏠 Back to Home
  </a> <span class="dot"> • </span> <a target="_blank" rel="noopener" title="Edit in Github" href="https://github.com/mazipan/blog-2.0/edit/master/contents/published/unit-testing-guide-in-vuejs/index.md">
    📝 Edit in Github
  </a></div></div> <hr> <div class="pages__footer">
    🚨Do you like this article? help me to click ❤️ button, share to your followers and subscribe the newsletter.
    <div class="block-wrap"><div class="share"><a title="Share to facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.mazipan.xyz%2Funit-testing-guide-in-vuejs%3Futm_source%3Dsosial-share&title=Unit%20Testing%20Guide%20in%20Vue.js&description=Steps%20to%20install%20and%20test%20the%20code%20Vue.js%20and%20Nuxt.js%20by%20learning%20from%20various%20cases%20that%20occur%20in%20real%20world%20projects&quote=Steps%20to%20install%20and%20test%20the%20code%20Vue.js%20and%20Nuxt.js%20by%20learning%20from%20various%20cases%20that%20occur%20in%20real%20world%20projects" target="_blank" rel="noopener" class="share-btn"><div title="Logo Facebook Icon" name="logo-facebook-icon" class="ion"><svg width="24px" height="24px" viewBox="0 0 512 512" class="ion__svg"><path d="M426.8 64H85.2C73.5 64 64 73.5 64 85.2v341.6c0 11.7 9.5 21.2 21.2 21.2H256V296h-45.9v-56H256v-41.4c0-49.6 34.4-76.6 78.7-76.6 21.2 0 44 1.6 49.3 2.3v51.8h-35.3c-24.1 0-28.7 11.4-28.7 28.2V240h57.4l-7.5 56H320v152h106.8c11.7 0 21.2-9.5 21.2-21.2V85.2c0-11.7-9.5-21.2-21.2-21.2z"></path></svg></div></a> <a title="Share to twitter" href="https://twitter.com/intent/tweet?text=Unit%20Testing%20Guide%20in%20Vue.js-Steps%20to%20install%20and%20test%20the%20code%20Vue.js%20and%20Nuxt.js%20by%20learning%20from%20various%20cases%20that%20occur%20in%20real%20world%20projects&url=https%3A%2F%2Fwww.mazipan.xyz%2Funit-testing-guide-in-vuejs%3Futm_source%3Dsosial-share&via=maz_ipan" target="_blank" rel="noopener" class="share-btn"><div title="Logo Twitter Icon" name="logo-twitter-icon" class="ion"><svg viewBox="0 0 512 512" width="24px" height="24px" class="ion__svg"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z"></path></svg></div></a> <a title="Discuss on twitter" href="https://mobile.twitter.com/search?q=https%3A%2F%2Fwww.mazipan.xyz%2Funit-testing-guide-in-vuejs%3Futm_source%3Dsosial-share" target="_blank" rel="noopener" class="share-btn"><div title="Md Chatboxes Icon" name="md-chatboxes-icon" class="ion"><svg viewBox="0 0 512 512" width="24px" height="24px" class="ion__svg"><path d="M391.553 64H57.607C53.131 64 48 67.745 48 72.159v214.217c0 4.413 5.131 8.624 9.607 8.624H115v88.894L205.128 295h186.425c4.477 0 7.447-4.211 7.447-8.624V72.159c0-4.414-2.971-8.159-7.447-8.159z"></path><path d="M456.396 127H424v166.57c0 15.987-6.915 26.43-25.152 26.43H218.096l-38.905 39h129.688L399 448v-89h57.396c4.478 0 7.604-4.262 7.604-8.682V136.103c0-4.414-3.126-9.103-7.604-9.103z"></path></svg></div></a> <a title="Like this article" class="like-btn"><div title="Md Heart Icon" name="md-heart-icon" class="ion"><svg viewBox="0 0 512 512" width="24px" height="24px" class="ion__svg"><path d="M256 448l-30.164-27.211C118.718 322.442 48 258.61 48 179.095 48 114.221 97.918 64 162.4 64c36.399 0 70.717 16.742 93.6 43.947C278.882 80.742 313.199 64 349.6 64 414.082 64 464 114.221 464 179.095c0 79.516-70.719 143.348-177.836 241.694L256 448z"></path></svg></div>
            0
        </a></div></div></div> <inarticleadsense data-ad-client="ca-pub-5442972248172818" data-ad-slot="7974047383"></inarticleadsense> <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://www.mazipan.xyz"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "javascript",
      "item": "https://www.mazipan.xyz/category/javascript"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Unit Testing Guide in Vue.js",
      "item": "https://www.mazipan.xyz/unit-testing-guide-in-vuejs"
    }
  ]
}</script> <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.mazipan.xyz/unit-testing-guide-in-vuejs"
  },
  "headline": "Unit Testing Guide in Vue.js",
  "image": [
    "https://www.mazipan.xyz/content-images/unit-testing-guide-in-vuejs/commitstrip.jpg"
  ],
  "datePublished": "2019-03-19T00:00:00.000Z",
  "dateModified": "2019-03-19T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "Irfan Maulana"
  },
  "publisher": {
    "@type": "Organization",
    "name": "mazipan",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.mazipan.xyz/favicon-192x192.png"
    }
  },
  "description": "Steps to install and test the code Vue.js and Nuxt.js by learning from various cases that occur in real world projects"
}</script></section></section> <hr> <div class="clearfix" style="margin-bottom:2em"><div><h3>📧 Get the newsletter</h3> <form name="contact" method="POST" data-netlify="true" action="/success-subscribed" class="form"><input type="hidden" name="form-name" value="contact"> <label for="form-email">Subscribe here to get the latest article by email.</label> <div class="control"><input id="form-email" type="email" name="email" required placeholder="Your email address" class="input"> <button type="submit" class="btn">
        Submit
      </button></div></form></div></div> <footer class="footer clearfix"><span>Copyright © 2019 by</span> <a href="http://github.com/mazipan" title="Github" target="_blank" rel="noopener">Irfan Maulana</a> <br> <br> <div class="profile__social"><a href="https://github.com/mazipan" title="Github" target="_blank" rel="noopener"><svg viewBox="0 0 512 512" width="24px" height="24px" class="ion__svg"><path d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9 1.4.3 2.6.4 3.8.4 8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1-8.4 1.9-15.9 2.7-22.6 2.7-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1 10.5 0 20-3.4 25.6-6 2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8 0 0 1.6-.5 5-.5 8.1 0 26.4 3.1 56.6 24.1 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 30.2-21 48.5-24.1 56.6-24.1 3.4 0 5 .5 5 .5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5 1.2 0 2.6-.1 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"></path></svg></a> <a href="https://twitter.com/Maz_Ipan" title="Twitter" target="_blank" rel="noopener"><svg viewBox="0 0 512 512" width="24px" height="24px" class="ion__svg"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z"></path></svg></a> <a href="https://www.facebook.com/mazipanneh" title="Facebook" target="_blank" rel="noopener"><svg width="24px" height="24px" viewBox="0 0 512 512" class="ion__svg"><path d="M426.8 64H85.2C73.5 64 64 73.5 64 85.2v341.6c0 11.7 9.5 21.2 21.2 21.2H256V296h-45.9v-56H256v-41.4c0-49.6 34.4-76.6 78.7-76.6 21.2 0 44 1.6 49.3 2.3v51.8h-35.3c-24.1 0-28.7 11.4-28.7 28.2V240h57.4l-7.5 56H320v152h106.8c11.7 0 21.2-9.5 21.2-21.2V85.2c0-11.7-9.5-21.2-21.2-21.2z"></path></svg></a></div></footer></div></div></div><script>window.__NUXT__={layout:"default",data:[{lang:"EN",meta:{title:"Unit Testing Guide in Vue.js",slug:"unit-testing-guide-in-vuejs",date:"2019-03-19",minute2read:20,description:"Steps to install and test the code Vue.js and Nuxt.js by learning from various cases that occur in real world projects",categories:["javascript","testing"],cover:"https://www.mazipan.xyz/content-images/unit-testing-guide-in-vuejs/commitstrip.jpg",_meta:{resourcePath:"/home/travis/build/mazipan/blog-2.0/contents/published/unit-testing-guide-in-vuejs/en.md"}},renderFn:'return function render() { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"content-markdown"},[_c(\'h2\',{attrs:{"id":"navigasi"}},[_vm._v("Navigasi")]),_vm._v(" "),_vm._m(0),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Mengenai-Unit-Testing"}},[_vm._v("Mengenai Unit Testing")]),_vm._v(" "),_c(\'p\',[_vm._v("Unit testing (UT) merupakan bagian terkecil dari proses pengetesan sebuah aplikasi perangkat lunak. UT berfokus untuk mengetest bagian terkecil sebuah aplikasi yakni potongan-potongan kode yang dibuat oleh pengembangnya, itu mengapa UT paling ideal dibuat oleh pengembang itu sendiri. Dengan mengetest kode-kode kecil di dalam sebuah aplikasi diharapkan kita bisa menghasilkan aplikasi perangkat lunak dengan kualitas yang lebih bisa dijamin.")]),_vm._v(" "),_c(\'img\',{directives:[{name:"lazyload",rawName:"v-lazyload"}],attrs:{"src":"/images/placeholder-1x1.png","data-src":"/content-images/unit-testing-guide-in-vuejs/commitstrip.jpg","alt":"Unit Test Meme by commitstrip","height":"200px","width":"200px"}}),_vm._v(" "),_vm._m(1),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Prinsip-Utama"}},[_vm._v("Prinsip Utama")]),_vm._v(" "),_vm._m(2),_vm._v(" "),_vm._m(3),_vm._v(" "),_vm._m(4),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Beberapa-Siklus-Hidup-Umum-di-Unit-Test"}},[_vm._v("Beberapa Siklus Hidup Umum di Unit Test")]),_vm._v(" "),_vm._m(5),_vm._v(" "),_vm._m(6),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Memasang-Unit-Testing-di-Vue-dan-Nuxt"}},[_vm._v("Memasang Unit Testing di Vue dan Nuxt")]),_vm._v(" "),_vm._m(7),_vm._v(" "),_vm._m(8),_vm._v(" "),_c(\'p\',[_vm._v("Untuk Jest sendiri berikut cara memasang Unit Test pada beberapa projek:")]),_vm._v(" "),_c(\'h3\',{attrs:{"id":"Memasang-Jest-menggunakan-Vue-CLI-3"}},[_vm._v("Memasang Jest menggunakan Vue-CLI 3")]),_vm._v(" "),_vm._m(9),_vm._v(" "),_vm._m(10),_vm._v(" "),_vm._m(11),_vm._v(" "),_vm._m(12),_vm._v(" "),_c(\'h3\',{attrs:{"id":"Memasang-Jest-tanpa-Vue-CLI"}},[_vm._v("Memasang Jest tanpa Vue-CLI")]),_vm._v(" "),_c(\'p\',[_vm._v("Pasang beberapa dependency untuk menjalankan unit test dengan jest berikut:")]),_vm._v(" "),_vm._m(13),_vm._v(" "),_c(\'p\',[_vm._v("Perintah tersebut akan menambahkan dependency berikut pada projek kita:")]),_vm._v(" "),_vm._m(14),_vm._v(" "),_vm._m(15),_vm._v(" "),_vm._m(16),_vm._v(" "),_vm._m(17),_vm._v(" "),_vm._m(18),_vm._v(" "),_vm._m(19),_vm._v(" "),_vm._m(20),_vm._v(" "),_vm._m(21),_vm._v(" "),_vm._m(22),_vm._v(" "),_vm._m(23),_vm._v(" "),_c(\'h3\',{attrs:{"id":"Memasang-Jest-pada-Nuxt-dengan-create-nuxt-app"}},[_vm._v("Memasang Jest pada Nuxt dengan create-nuxt-app")]),_vm._v(" "),_vm._m(24),_vm._v(" "),_vm._m(25),_vm._v(" "),_c(\'p\',[_vm._v("Pada pilihan \\"Choose your favorite test framework:\\", silakan pilih \\"Jest\\" sebagai unit test yang akan digunakan.")]),_vm._v(" "),_vm._m(26),_vm._v(" "),_vm._m(27),_vm._v(" "),_c(\'h3\',{attrs:{"id":"Memasang-Jest-pada-Nuxt-secara-manual"}},[_vm._v("Memasang Jest pada Nuxt secara manual")]),_vm._v(" "),_vm._m(28),_vm._v(" "),_c(\'p\',[_vm._v("Kita cukup melakukan konfigurasi babel untuk environment \\"test\\" karena projek Nuxt sudah memiliki konfigurasi babel bawaan, seperti berikut contohnya:")]),_vm._v(" "),_vm._m(29),_vm._v(" "),_vm._m(30),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Perbedaan-Dasar-Soal-Nuxt-dengan-Vue"}},[_vm._v("Perbedaan Dasar Soal Nuxt dengan Vue")]),_vm._v(" "),_c(\'p\',[_vm._v("Pada saat ingin membuat unit test untuk projek Nuxt dengan Vue ada beberapa perbedaan yang mesti kalian tau sebelumnya. Seperti kita tau bahwa Nuxt dibangun diatas Vue namun dengan banyak fitur bawaan yang mungkin saja tidak akan kalian temui pada projek Vue yang tanpa Nuxt. Beberapa perbedaan adalah Nuxt punya beberapa tag spesial yang mirip dengan Vue namun tidak akan kalian temui disana, seperti beberapa tag berikut:")]),_vm._v(" "),_vm._m(31),_vm._v(" "),_vm._m(32),_vm._v(" "),_vm._m(33),_vm._v(" "),_vm._m(34),_vm._v(" "),_vm._m(35),_vm._v(" "),_vm._m(36),_vm._v(" "),_c(\'p\',[_vm._v("Dengan mengetahui beberapa perbedaan mendasar ini, nantinya akan berguna ketika kita menemui galat yang sebelumnya tidak kita temui pada projek Vue namun ternyata kita temui pada projek Nuxt.")]),_vm._v(" "),_vm._m(37),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-JavaScript-File-Sederhana"}},[_vm._v("Testing JavaScript File Sederhana")]),_vm._v(" "),_vm._m(38),_vm._v(" "),_vm._m(39),_vm._v(" "),_vm._m(40),_vm._v(" "),_vm._m(41),_vm._v(" "),_vm._m(42),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-Mounting-Komponen-Vue"}},[_vm._v("Testing Mounting Komponen Vue")]),_vm._v(" "),_vm._m(43),_vm._v(" "),_c(\'p\',[_vm._v("Saya beri contoh misalkan ada komponen dengan templat seperti berikut:")]),_vm._v(" "),_vm._m(44),_vm._v(" "),_vm._m(45),_vm._v(" "),_vm._m(46),_vm._v(" "),_vm._m(47),_vm._v(" "),_vm._m(48),_vm._v(" "),_vm._m(49),_vm._v(" "),_vm._m(50),_vm._v(" "),_vm._m(51),_vm._v(" "),_vm._m(52),_vm._v(" "),_vm._m(53),_vm._v(" "),_vm._m(54),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-Method-di-Komponen-Vue"}},[_vm._v("Testing Method di Komponen Vue")]),_vm._v(" "),_vm._m(55),_vm._v(" "),_vm._m(56),_vm._v(" "),_vm._m(57),_vm._v(" "),_vm._m(58),_vm._v(" "),_vm._m(59),_vm._v(" "),_c(\'p\',[_vm._v("Dari kode diatas, kita bisa membuatkan unit test seperti berikut:")]),_vm._v(" "),_vm._m(60),_vm._v(" "),_vm._m(61),_vm._v(" "),_vm._m(62),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Mensimulasikan-Aksi-Klik-Elemen"}},[_vm._v("Mensimulasikan Aksi Klik Elemen")]),_vm._v(" "),_vm._m(63),_vm._v(" "),_vm._m(64),_vm._v(" "),_vm._m(65),_vm._v(" "),_vm._m(66),_vm._v(" "),_vm._m(67),_vm._v(" "),_vm._m(68),_vm._v(" "),_c(\'p\',[_vm._v("Dari kode diatas, kita bisa membuatkan unit test seperti berikut:")]),_vm._v(" "),_vm._m(69),_vm._v(" "),_c(\'p\',[_vm._v("Bisa dilihat perbedaanya dari cara kita melakukan test pada bagian sebelumnya dengan cara kita melakukan test pada bagian ini, pada bagian ini kita benar-benar mensimulasikan bagaimana tampilan dari komponen ini nantinya akan digunakan oleh pengguna.")]),_vm._v(" "),_vm._m(70),_vm._v(" "),_vm._m(71),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-Props-di-Komponen-Vue"}},[_vm._v("Testing Props di Komponen Vue")]),_vm._v(" "),_vm._m(72),_vm._v(" "),_vm._m(73),_vm._v(" "),_vm._m(74),_vm._v(" "),_vm._m(75),_vm._v(" "),_c(\'p\',[_vm._v("Maka kita bisa membuat unit test dari kode diatas sebagai berikut:")]),_vm._v(" "),_vm._m(76),_vm._v(" "),_vm._m(77),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-Computed-dan-Watcher"}},[_vm._v("Testing Computed dan Watcher")]),_vm._v(" "),_vm._m(78),_vm._v(" "),_vm._m(79),_vm._v(" "),_vm._m(80),_vm._v(" "),_vm._m(81),_vm._v(" "),_vm._m(82),_vm._v(" "),_vm._m(83),_vm._v(" "),_vm._m(84),_vm._v(" "),_vm._m(85),_vm._v(" "),_vm._m(86),_vm._v(" "),_c(\'p\',[_vm._v("Dari kode tersebut kita membuat unit test berikut:")]),_vm._v(" "),_vm._m(87),_vm._v(" "),_vm._m(88),_vm._v(" "),_vm._m(89),_vm._v(" "),_vm._m(90),_vm._v(" "),_vm._m(91),_vm._v(" "),_c(\'p\',[_vm._v("Dari kode tersebut kita membuat unit test berikut:")]),_vm._v(" "),_vm._m(92),_vm._v(" "),_vm._m(93),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-Event-Emitter"}},[_vm._v("Testing Event Emitter")]),_vm._v(" "),_vm._m(94),_vm._v(" "),_vm._m(95),_vm._v(" "),_vm._m(96),_vm._v(" "),_c(\'p\',[_vm._v("Maka kita bisa membuatkan unit test sebagai berikut:")]),_vm._v(" "),_vm._m(97),_vm._v(" "),_vm._m(98),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-Perpindahan-Route"}},[_vm._v("Testing Perpindahan Route")]),_vm._v(" "),_vm._m(99),_vm._v(" "),_vm._m(100),_vm._v(" "),_c(\'p\',[_vm._v("Contoh kode berikut akan memberikan gambaran mengenai dua hal tersebut:")]),_vm._v(" "),_vm._m(101),_vm._v(" "),_c(\'p\',[_vm._v("Dari kode diatas kita bisa membuat beberapa alternatif untuk unit test kita, antara lain sebagai berikut:")]),_vm._v(" "),_vm._m(102),_vm._v(" "),_vm._m(103),_vm._v(" "),_vm._m(104),_vm._v(" "),_vm._m(105),_vm._v(" "),_vm._m(106),_vm._v(" "),_vm._m(107),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-Mounting-Route"}},[_vm._v("Testing Mounting Route")]),_vm._v(" "),_vm._m(108),_vm._v(" "),_vm._m(109),_vm._v(" "),_vm._m(110),_vm._v(" "),_vm._m(111),_vm._v(" "),_vm._m(112),_vm._v(" "),_vm._m(113),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-Vuex"}},[_vm._v("Testing Vuex")]),_vm._v(" "),_vm._m(114),_vm._v(" "),_vm._m(115),_vm._v(" "),_c(\'h3\',{attrs:{"id":"Testing-Getters"}},[_vm._v("Testing Getters")]),_vm._v(" "),_vm._m(116),_vm._v(" "),_vm._m(117),_vm._v(" "),_vm._m(118),_vm._v(" "),_vm._m(119),_vm._v(" "),_vm._m(120),_vm._v(" "),_vm._m(121),_vm._v(" "),_vm._m(122),_vm._v(" "),_c(\'h3\',{attrs:{"id":"Testing-Mutations"}},[_vm._v("Testing Mutations")]),_vm._v(" "),_vm._m(123),_vm._v(" "),_vm._m(124),_vm._v(" "),_vm._m(125),_vm._v(" "),_c(\'p\',[_vm._v("Dari kode diatas kita bisa membuatkan unit test seperti berikut:")]),_vm._v(" "),_vm._m(126),_vm._v(" "),_vm._m(127),_vm._v(" "),_vm._m(128),_vm._v(" "),_vm._m(129),_vm._v(" "),_c(\'h3\',{attrs:{"id":"Testing-Actions"}},[_vm._v("Testing Actions")]),_vm._v(" "),_vm._m(130),_vm._v(" "),_vm._m(131),_vm._v(" "),_c(\'p\',[_vm._v("Dari kode diatas kita bisa membuatkan unit test sebagai berikut:")]),_vm._v(" "),_vm._m(132),_vm._v(" "),_vm._m(133),_vm._v(" "),_vm._m(134),_vm._v(" "),_vm._m(135),_vm._v(" "),_c(\'h3\',{attrs:{"id":"Testing-Vuex-di-Komponen"}},[_vm._v("Testing Vuex di Komponen")]),_vm._v(" "),_vm._m(136),_vm._v(" "),_c(\'p\',[_vm._v("Misalkan kita memiliki berkas Vuex seperti berikut:")]),_vm._v(" "),_vm._m(137),_vm._v(" "),_vm._m(138),_vm._v(" "),_vm._m(139),_vm._v(" "),_vm._m(140),_vm._v(" "),_vm._m(141),_vm._v(" "),_c(\'p\',[_vm._v("Dari kode di atas kita bisa membuat unit test seperti berikut:")]),_vm._v(" "),_vm._m(142),_vm._v(" "),_vm._m(143),_vm._v(" "),_vm._m(144),_vm._v(" "),_vm._m(145),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-Vuex-dengan-Modules"}},[_vm._v("Testing Vuex dengan Modules")]),_vm._v(" "),_vm._m(146),_vm._v(" "),_c(\'p\',[_vm._v("Katakanlah kita membuat Vuex Module dengan cara berikut:")]),_vm._v(" "),_vm._m(147),_vm._v(" "),_c(\'p\',[_vm._v("Maka pada unit test kita bisa memalsukan dengan cara seperti berikut:")]),_vm._v(" "),_vm._m(148),_vm._v(" "),_vm._m(149),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-dengan-Vue-i18n"}},[_vm._v("Testing dengan Vue-i18n")]),_vm._v(" "),_vm._m(150),_vm._v(" "),_c(\'p\',[_vm._v("Contoh kode tamplat ketika menggunakan Vue-i18n adalah seperti berikut:")]),_vm._v(" "),_vm._m(151),_vm._v(" "),_vm._m(152),_vm._v(" "),_vm._m(153),_vm._v(" "),_vm._m(154),_vm._v(" "),_vm._m(155),_vm._v(" "),_vm._m(156),_vm._v(" "),_vm._m(157),_vm._v(" "),_vm._m(158),_vm._v(" "),_vm._m(159),_vm._v(" "),_vm._m(160),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Testing-Pemanggilan-Rest-API"}},[_vm._v("Testing Pemanggilan Rest API")]),_vm._v(" "),_c(\'p\',[_vm._v("Memanggil sebuah Rest API menjadi tulang punggung yang banyak digunakan saat ini sebagai media komunikasi frontend-backend. Semakin kompleks aplikasi biasanya semakin banyak pula pemanggilan ini tersebar di berbagai tempat pada projek kita.")]),_vm._v(" "),_c(\'p\',[_vm._v("Secara bawaan, berbagai peramban teranyar sudah mendukung Fetch API sebagai alat untuk melakukan komunikasi lewat Rest API. Namun masih populernya pustaka seperti Axios membuat kita juga perlu memberikan contoh bagaimana melakukan test pada projek yang memilih menggunakan Axios untuk melakukan komunikasi dengan Rest API.")]),_vm._v(" "),_c(\'p\',[_vm._v("Beberapa hal yang mesti kalian tau mengenai Fetch API dan pustaka Axios berkaitan dengan unit test yang akan dibuat nantinya antara lain:")]),_vm._v(" "),_vm._m(161),_vm._v(" "),_c(\'p\',[_vm._v("Berikut contoh kode ketika kita melakukan pemanggilan Rest API menggunakan Fetch API:")]),_vm._v(" "),_vm._m(162),_vm._v(" "),_c(\'p\',[_vm._v("Dari kode diatas, kita bisa membuatkan unit test seperti berikut:")]),_vm._v(" "),_vm._m(163),_vm._v(" "),_c(\'p\',[_vm._v("Sedangkan kode berikut ini adalah contoh kode untuk melakukan pemanggilan Rest API menggunakan pustaka Axios:")]),_vm._v(" "),_vm._m(164),_vm._v(" "),_c(\'p\',[_vm._v("Dengan kode diatas kita bisa membuatkan unit test sebagai berikut:")]),_vm._v(" "),_vm._m(165),_vm._v(" "),_vm._m(166),_vm._v(" "),_c(\'h2\',{attrs:{"id":"Referensi"}},[_vm._v("Referensi")]),_vm._v(" "),_vm._m(167)]) }',staticRenderFn:'return [function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_c(\'a\',{attrs:{"href":"#Mengenai-Unit-Testing"}},[_vm._v("Mengenai Unit Testing")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Prinsip-Utama"}},[_vm._v("Prinsip Utama")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Beberapa-Siklus-Hidup-Umum-di-Unit-Test"}},[_vm._v("Beberapa Siklus Hidup Umum di Unit Test")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Memasang-Unit-Testing-di-Vue-dan-Nuxt"}},[_vm._v("Memasang Unit Testing di Vue dan Nuxt")]),_vm._v(" "),_c(\'ul\',[_c(\'li\',[_c(\'a\',{attrs:{"href":"#Memasang-Jest-menggunakan-Vue-CLI-3"}},[_vm._v("Memasang Jest menggunakan Vue-CLI 3")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Memasang-Jest-tanpa-Vue-CLI"}},[_vm._v("Memasang Jest tanpa Vue-CLI")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Memasang-Jest-pada-Nuxt-dengan-create-nuxt-app"}},[_vm._v("Memasang Jest pada Nuxt dengan create-nuxt-app")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Memasang-Jest-pada-Nuxt-secara-manual"}},[_vm._v("Memasang Jest pada Nuxt secara manual")])])])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Perbedaan-Dasar-Soal-Nuxt-dengan-Vue"}},[_vm._v("Perbedaan Dasar Soal Nuxt dengan Vue")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-JavaScript-File-Sederhana"}},[_vm._v("Testing JavaScript File Sederhana")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Mounting-Komponen-Vue"}},[_vm._v("Testing Mounting Komponen Vue")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Method-di-Komponen-Vue"}},[_vm._v("Testing Method di Komponen Vue")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Mensimulasikan-Aksi-Klik-Elemen"}},[_vm._v("Mensimulasikan Aksi Klik Elemen")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Props-di-Komponen-Vue"}},[_vm._v("Testing Props di Komponen Vue")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Computed-dan-Watcher"}},[_vm._v("Testing Computed dan Watcher")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Event-Emitter"}},[_vm._v("Testing Event Emitter")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Perpindahan-Route"}},[_vm._v("Testing Route")]),_vm._v(" "),_c(\'ul\',[_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Perpindahan-Route"}},[_vm._v("Testing Perpindahan Route")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Mounting-Route"}},[_vm._v("Testing Mounting Route")])])])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Vuex"}},[_vm._v("Testing Vuex")]),_vm._v(" "),_c(\'ul\',[_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Getters"}},[_vm._v("Testing Getters")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Mutations"}},[_vm._v("Testing Mutations")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Actions"}},[_vm._v("Testing Actions")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Vuex-di-Komponen"}},[_vm._v("Testing Vuex di Komponen")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Vuex-dengan-Modules"}},[_vm._v("Testing Vuex dengan Modules")])])])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-dengan-Vue-i18n"}},[_vm._v("Testing dengan Vue-i18n")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"#Testing-Pemanggilan-Rest-API"}},[_vm._v("Testing Pemanggilan Rest API")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Ada beberapa prinsip utama dalam melakukan unit testing, beberapa diantaranya yang dikenal dengan "),_c(\'strong\',[_vm._v("FIRST")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ol\',[_c(\'li\',[_c(\'strong\',[_vm._v("F - Fast")]),_vm._v(" (Cepat), unit test harus bisa dieksekusi dengan cepat, tidak memakan waktu yang lebih lama dibandingkan ketika harus menjalankan aplikasi secara utuh untuk melakukan test manual.")]),_vm._v(" "),_c(\'li\',[_c(\'strong\',[_vm._v("I - Isolated")]),_vm._v(" (Dapat Diisolasi), unit test harus bisa diisolasi antar satu dengan yang lain, ketika terjadi kegagalan maka harus bisa dipastikan tidak merembet ke berkas testing pada bagian lain.")]),_vm._v(" "),_c(\'li\',[_c(\'strong\',[_vm._v("R - Repeatable")]),_vm._v(" (Dapat Diulang), unit testing harus bisa dijalankan kapan saja dan menghasilkan hasil yang sama. Tidak terikat pada hari tertentu, waktu tertentu atau zona waktu tertentu.")]),_vm._v(" "),_c(\'li\',[_c(\'strong\',[_vm._v("S - Self-Validating")]),_vm._v(" (Validasi Diri Sendiri), setiap test harus bisa menentukan sendiri apakah gagal atau berhasil menjalankan test tanpa perlu dilakukan verifikasi secara manual.")]),_vm._v(" "),_c(\'li\',[_c(\'strong\',[_vm._v("T - Timely")]),_vm._v(" (Tepat Waktu), test ditulis pada waktu yang tepat segera setelah kodenya selesai dibuat atau dalam praktik TDD, test dibuat terlebih dahulu untuk bisa memberi arahan yang lebih baik pada saat menulis kode.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ol\',[_c(\'li\',[_c(\'strong\',[_vm._v("Setup")]),_vm._v(" adalah siklus dimana kita menyiapkan berbagai kebutuhan skenario test yang akan dijalankan, di Jest mungkin kita akan menggunakan sintaksis seperti "),_c(\'code\',{pre:true},[_vm._v("BeforeAll")]),_vm._v(" atau "),_c(\'code\',{pre:true},[_vm._v("BeforeEach")]),_vm._v(" untuk melakukan setup sebelum skenario test dijalankan.")]),_vm._v(" "),_c(\'li\',[_c(\'strong\',[_vm._v("Test Execution")]),_vm._v(" adalah siklus dimana test dijalankan dengan segala setup yang telah didefinisikan sebelumnya. Di Jest kita bisa menggunakan "),_c(\'code\',{pre:true},[_vm._v("test()")]),_vm._v(" atau "),_c(\'code\',{pre:true},[_vm._v("it()")]),_vm._v(" untuk mendefinisikan masing-masing skenario dan bisa dikelompokkan ke dalam satu grup menggunakan "),_c(\'code\',{pre:true},[_vm._v("describe()")]),_vm._v(".")]),_vm._v(" "),_c(\'li\',[_c(\'strong\',[_vm._v("Teardown")]),_vm._v(" adalah siklus dimana unit test selesai dijalankan, pada tahap ini biasanya dilakukan pembersihan dari segala macam hal yang mungkin akan mengganggu proses test selanjutnya. Hal ini dikarenakan seringkali kita akan melakukan berbagai macam trik seperti "),_c(\'em\',[_vm._v("mock")]),_vm._v(", "),_c(\'em\',[_vm._v("spy")]),_vm._v(", dan lainnya yang kalau tidak dibersihkan dikhawatirkan akan mengganggu ketika skenario selanjutnya dijalankan. Di Jest kita bisa menggunakan kait "),_c(\'code\',{pre:true},[_vm._v("afterEach")]),_vm._v(" maupun "),_c(\'code\',{pre:true},[_vm._v("afterAll")]),_vm._v(".")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Saya akan spesifik membahas bagaimana cara memasang Unit Test pada "),_c(\'em\',[_vm._v("framework")]),_vm._v(" "),_c(\'a\',{attrs:{"href":"https://jestjs.io/en/"}},[_vm._v("Jest ↗️")]),_vm._v(" beberapa kode yang akan saya sertakan pun akan spesifik pada Jest, bila Anda menggunakan "),_c(\'em\',[_vm._v("framework")]),_vm._v(" lain, bisa melihat pada referensi yang akan saya sertakan berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_c(\'a\',{attrs:{"href":"https://vue-test-utils.vuejs.org/guides/testing-single-file-components-with-mocha-webpack.html"}},[_vm._v("Memasang unit test pada Mocha + Webpack ↗️")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"https://vue-test-utils.vuejs.org/guides/testing-single-file-components-with-karma.html"}},[_vm._v("Memasang unit test pada Karma ↗️")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_vm._v("Pasang Vue-CLI 3 dengan perintah")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-bash"}},[_vm._v("$ yarn add @vue/cli\\n#atau\\n$ npm i -g @vue/cli\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_c(\'p\',[_vm._v("Buat projek baru dengan "),_c(\'code\',{pre:true},[_vm._v("vue create my-project-name")]),_vm._v(". Pilih "),_c(\'em\',[_vm._v("\\"Manually select features\\"")]),_vm._v(" dan centang \\"Unit Testing\\" dan \\"Jest\\" untuk runner unit testnya, silakan lihat artikel resmi "),_c(\'a\',{attrs:{"href":"https://cli.vuejs.org/guide/creating-a-project.html"}},[_vm._v("membuat project baru dengan Vue-CLI ↗️")]),_vm._v(" untuk lebih jelasnya.")])]),_vm._v(" "),_c(\'li\',[_c(\'p\',[_vm._v("Jalankan unit test dengan perintah "),_c(\'code\',{pre:true},[_vm._v("yarn test:unit")]),_vm._v(" dan semua konfigurasi sudah dibuatkan oleh Vue-CLI tanpa kita harus melakukan secara manual.")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-bash"}},[_vm._v("$ yarn add jest babel-jest vue-jest @vue/test-utils -D\\n# atau\\n$ npm i jest babel-jest vue-jest @vue/test-utils --dev\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_c(\'code\',{pre:true},[_vm._v("jest")])]),_vm._v(" "),_c(\'li\',[_c(\'code\',{pre:true},[_vm._v("babel-jest")])]),_vm._v(" "),_c(\'li\',[_c(\'code\',{pre:true},[_vm._v("vue-jest")])]),_vm._v(" "),_c(\'li\',[_c(\'code\',{pre:true},[_vm._v("@vue/test-utils")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Buat file konfigurasi untuk Jest dengan nama file "),_c(\'code\',{pre:true},[_vm._v("jest.config.js")]),_vm._v(" dengan isi konfigurasi sebagai berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("module.exports = {\\n  moduleNameMapper: {\\n    \'^~/(.*)$\': \'<rootDir>/$1\',\\n    \'^@/(.*)$\': \'<rootDir>/$1\',\\n    \'^vue$\': \'vue/dist/vue.common.js\'\\n  },\\n  moduleFileExtensions: [\'js\', \'vue\', \'json\'],\\n  transform: {\\n    \'^.+.js$\': \'<rootDir>/node_modules/babel-jest\',\\n    \'^.+.vue$\': \'<rootDir>/node_modules/vue-jest\'\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Pada konfigurasi diatas, beberapa yang perlu kalian ketahui  seperti "),_c(\'code\',{pre:true},[_vm._v("moduleNameMapper")]),_vm._v(" merupakan "),_c(\'code\',{pre:true},[_vm._v("alias")]),_vm._v(" dari direktori kita seperti yang biasa kita lakukan di "),_c(\'code\',{pre:true},[_vm._v("webpack")]),_vm._v(". Sementara "),_c(\'code\',{pre:true},[_vm._v("transform")]),_vm._v(" digunakan untuk men-transpile kode sebelum diproses oleh Jest, kita gunakan "),_c(\'code\',{pre:true},[_vm._v("babel-jest")]),_vm._v(" dan "),_c(\'code\',{pre:true},[_vm._v("vue-jest")]),_vm._v(" untuk membaca komponen berkas tunggal ("),_c(\'em\',[_vm._v("single file component")]),_vm._v(" - "),_c(\'strong\',[_vm._v("SFC")]),_vm._v(") pada Vue.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Karena kita menggunakan "),_c(\'code\',{pre:true},[_vm._v("babel")]),_vm._v(" juga pada unit test kita, maka jika belum ada konfigurasi babel pada projek kita, silakan tambahkan konfigurasi berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("// babel.config.js\\nmodule.exports = {\\n  presets: [\\n    [\\n      \'@vue/app\'\\n    ],\\n  ],\\n};\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Selanjutnya kita bisa memasang kode tambahan pada "),_c(\'code\',{pre:true},[_vm._v("package.json")]),_vm._v(" kita seperti berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("{\\n  \\"scripts\\": {\\n    \\"test:unit\\": \\"jest\\"\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Secara bawaan, Jest akan menganggap semua berkas yang berekstensi "),_c(\'code\',{pre:true},[_vm._v(".spec.js")]),_vm._v(" atau "),_c(\'code\',{pre:true},[_vm._v(".test.js")]),_vm._v(" sebagai berkas unit test yang akan dijalankan pada saat perintah "),_c(\'code\',{pre:true},[_vm._v("jest")]),_vm._v(" diketikkan.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Untuk memasang Jest pada Nuxt, bisa melalui "),_c(\'code\',{pre:true},[_vm._v("create-nuxt-app")]),_vm._v(" yang bisa dilakukan dengan perintah:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-bash"}},[_vm._v("$ yarn create nuxt-app my-project-name\\n# atau\\n$ npm init nuxt-app my-project-name\\n# atau\\n$ npx create-nuxt-app my-project-name\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Jalankan unit test dengan perintah "),_c(\'code\',{pre:true},[_vm._v("yarn test")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Hampir tidak ada perbedaan dengan bagian "),_c(\'a\',{attrs:{"href":"#Memasang-Jest-tanpa-Vue-CLI"}},[_vm._v("Memasang Jest tanpa Vue-CLI ↗️")]),_vm._v(" pada projek Vue biasa tanpa Nuxt. Perbedaan mungkin hanya ada pada konfigurasi "),_c(\'code\',{pre:true},[_vm._v("babel")]),_vm._v(", karena pada Vue-CLI kita memanfaatkan babel presets dari Vue yang telah terpasang pada saat membuat projek Vue.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("{\\n  \\"env\\": {\\n    \\"test\\": {\\n      \\"presets\\": [\\n        [\\"@babel/preset-env\\", {\\n          \\"targets\\": {\\n            \\"node\\": \\"current\\"\\n          }\\n        }]\\n      ]\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<nuxt></nuxt>\\n<nuxt-child></nuxt-child>\\n<nuxt-link></nuxt-link>\\n<no-ssr></no-ssr>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Selain itu Nuxt memiliki beberapa properti pada "),_c(\'strong\',[_vm._v("SFC")]),_vm._v("-nya seperti berikut diantaranya:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  head () { },\\n  asyncData () { },\\n  fetch () { },\\n  nuxtServerInit () { },\\n  validate () { },\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Projek Nuxt tidak memiliki "),_c(\'code\',{pre:true},[_vm._v("router.js")]),_vm._v(" seperti yang biasanya kita buat di projek Vue, Nuxt akan menggunakan struktur folder untuk men-"),_c(\'em\',[_vm._v("generate")]),_vm._v(" berkas router.js untuk projek kita yang letaknya ada di direktori "),_c(\'code\',{pre:true},[_vm._v(".nuxt")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Beberapa projek Nuxt juga tidak melakukan "),_c(\'em\',[_vm._v("instance")]),_vm._v(" secara manual terhadap storenya, seperti biasa kita lakukan dengan kode seperti ini misalnya:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import Vuex from \'vuex\'\\n\\nconst createStore = () => {\\n  return new Vuex.Store({\\n    state: () => ({\\n      counter: 0\\n    }),\\n    mutations: {\\n      increment (state) {\\n        state.counter++\\n      }\\n    }\\n  })\\n}\\n\\nexport default createStore\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Untuk mengetes berkas JavaScript biasa tentu lebih mudah dibandingkan untuk melakukan test pada file "),_c(\'strong\',[_vm._v("SFC")]),_vm._v(" Vue. Misalnya saja kita punya berkas "),_c(\'code\',{pre:true},[_vm._v("helper")]),_vm._v(" dengan nama berkas "),_c(\'code\',{pre:true},[_vm._v("math-util.js")]),_vm._v(", di dalamnya terdapat kode seperti berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export function add (a, b) {\\n  return a + b\\n}\\n\\nexport function min (a, b) {\\n  return a - b\\n}\\n\\nexport function increment (a) {\\n  return add(a, 1)\\n}\\n\\nexport function decrement (a) {\\n  return min(a, 1)\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Maka kita bisa membuatkan berkas untuk unit test dengan nama "),_c(\'code\',{pre:true},[_vm._v("math-util.spec.js")]),_vm._v(" seperti berikut contohnya:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { add, min, increment, decrement } from \'@/helpers/math-util\'\\n\\ndescribe(\'math-util.js\', () => {\\n  it(\'`add` harus mengembalikan nilai yang benar\', () => {\\n    expect(add(1, 2)).toBe(3)\\n    expect(add(2, 2)).toBe(4)\\n    expect(add(2, 3)).toBe(5)\\n    expect(add(3, 4)).toBe(7)\\n  })\\n\\n  it(\'`min` harus mengembalikan nilai yang benar\', () => {\\n    expect(min(7, 1)).toBe(6)\\n    expect(min(5, 2)).toBe(3)\\n    expect(min(4, 3)).toBe(1)\\n    expect(min(3, 1)).toBe(2)\\n  })\\n\\n  it(\'`increment` harus mengembalikan nilai yang benar\', () => {\\n    expect(increment(1)).toBe(2)\\n    expect(increment(5)).toBe(6)\\n    expect(increment(4)).toBe(5)\\n    expect(increment(8)).toBe(9)\\n  })\\n\\n  it(\'`decrement` harus mengembalikan nilai yang benar\', () => {\\n    expect(decrement(2)).toBe(1)\\n    expect(decrement(5)).toBe(4)\\n    expect(decrement(4)).toBe(3)\\n    expect(decrement(8)).toBe(7)\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dalam melakukan unit testing pada "),_c(\'strong\',[_vm._v("SFC")]),_vm._v(", hal pertama yang harus kita lakukan adalah memastikan kita berhasil memasang atau "),_c(\'em\',[_vm._v("mounting")]),_vm._v(" komponen tersebut ke dalam Virtual DOM yang ada di unit test. Terdengar mudah memang, tapi seringkali justru ini menjadi hal yang tersulit untuk dikerjakan karena setelah berhasil melakukan bagian ini biasanya bagian selanjutnya akan terasa lebih mudah. Untuk bisa melakukan "),_c(\'em\',[_vm._v("mounting")]),_vm._v(" kita diharuskan menyiapkan semua kebutuhan awal sebuah komponen tersebut agar bisa di-"),_c(\'em\',[_vm._v("mounting")]),_vm._v(". Cara paling bar-bar yang biasa saya lakukan adalah dengan mencoba sampai menemukan galat dan mencoba lagi sampai berhasil, tapi bila kita telah terbiasa nanti kita bisa lebih mendeteksi lebih awal kebutuhan apa saja yang harus kita siapkan untuk "),_c(\'em\',[_vm._v("mounting")]),_vm._v(" komponen tersebut.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<template>\\n  Hello world, {{ message }}\\n</template>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dari templat tersebut, kita mesti mencari tau darimana datangnya nilai "),_c(\'code\',{pre:true},[_vm._v("{{ message }}")]),_vm._v(" karena ini dibutuhkan pada saat pertama kali komponen tersebut nantinya dipasang. Bila datang dari "),_c(\'code\',{pre:true},[_vm._v("data ()")]),_vm._v(" bisa jadi aman karena data akan otomatis terbuat ketika komponen dipasang, bila datang dari "),_c(\'em\',[_vm._v("props")]),_vm._v(" berarti kita perlu mengoper "),_c(\'em\',[_vm._v("props")]),_vm._v(" tersebut juga pada unit test kita.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Untuk contoh yang akan kita gunakan dalam melakukan "),_c(\'em\',[_vm._v("mounting")]),_vm._v(" komponen di unit test akan mengikuti dari contoh yang dibuat oleh tim Vue melalui Vue-CLI yang dibuatkan pada saat awal kita membuat projek baru, berikut contoh melakukan "),_c(\'em\',[_vm._v("mounting")]),_vm._v(" komponen di unit test:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("katakanlah kita mempunyai berkas dengan nama "),_c(\'code\',{pre:true},[_vm._v("HelloWorld.vue")]),_vm._v(" yang berisi templat berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<template>\\n  <div class=\\"hello\\">\\n    <h1>{{ msg }}</h1>\\n    \x3c!-- banyak kode lain yang kita hilangkan karena dianggap tidak diperlukan --\x3e\\n</template>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dengan bagian "),_c(\'code\',{pre:true},[_vm._v("script")]),_vm._v(" berisi kode berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  name: \'HelloWorld\',\\n  props: {\\n    msg: String\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Maka pada berkas "),_c(\'code\',{pre:true},[_vm._v("hello-world.spec.js")]),_vm._v(" kita bisa membuat unit test sebagai berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount } from \'@vue/test-utils\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  it(\'renders props.msg ketika dilempar\', () => {\\n    const msg = \'new message\'\\n    const wrapper = shallowMount(HelloWorld, {\\n      propsData: { msg }\\n    })\\n    expect(wrapper.text()).toMatch(msg)\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dari kode diatas kita belajar dasar-dasar memasang komponen pada unit test menggunakan "),_c(\'code\',{pre:true},[_vm._v("@vue/test-utils")]),_vm._v(", kita menggunakan API "),_c(\'code\',{pre:true},[_vm._v("shallowMount")]),_vm._v(" dibandingkan "),_c(\'code\',{pre:true},[_vm._v("mount")]),_vm._v(" karena kemampuan untuk memalsukan komponen anak sehingga kita tidak perlu mendefinisikan kebutuhan dari komponen anak dari komponen tersebut dan cukup fokus untuk mendefinisikan kebutuhan komponen terkait saja. Hal ini tentu selaras dengan prinsip "),_c(\'em\',[_vm._v("isolated")]),_vm._v(" pada unit testing. Pada contoh diatas kita menambahkan opsi "),_c(\'code\',{pre:true},[_vm._v("propsData")]),_vm._v(" untuk mengoper "),_c(\'em\',[_vm._v("props")]),_vm._v(" yang nanti akan kita bahas di bagian terpisah dibawah nanti.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Setelah sebelumnya kita berhasil melakukan "),_c(\'em\',[_vm._v("mounting")]),_vm._v(", maka tugas berikutnya akan lebih mudah seperti yang sudah kita bahas sebelumnya. Pada bagian sebelumnya kita hanya melakukan "),_c(\'em\',[_vm._v("mounting")]),_vm._v(" komponen tanpa memanggil "),_c(\'em\',[_vm._v("method")]),_vm._v(" apapun, berikut contoh memanggil "),_c(\'em\',[_vm._v("method")]),_vm._v(" dalam Vue "),_c(\'strong\',[_vm._v("SFC")]),_vm._v(" melalui unit test:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Menggunkan berkas sebelumnya, kita akan menambahkan "),_c(\'em\',[_vm._v("method")]),_vm._v(" pada "),_c(\'strong\',[_vm._v("SFC")]),_vm._v("-nya dan melakukan sedikit perubahan seperti berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<template>\\n  <div class=\\"hello\\">\\n    <h1>{{ msg }}</h1>\\n</template>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dengan bagian "),_c(\'code\',{pre:true},[_vm._v("script")]),_vm._v(" berisi kode berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  name: \'HelloWorld\',\\n  data () {\\n    return {\\n      msg: \'Sebuah pesan\'\\n    }\\n  },\\n  methods: {\\n    changeMessage (newMessage) {\\n      this.msg = newMessage\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount } from \'@vue/test-utils\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  it(\'berhasil mounting komponen\', () => {\\n    const msgExpected = \'Sebuah pesan\'\\n    const wrapper = shallowMount(HelloWorld)\\n    expect(wrapper.vm.msg).toBe(msgExpected)\\n  })\\n\\n  it(\'berhasil memanggil changeMessage\', () => {\\n    const msgExpected = \'Sebuah pesan\'\\n    const msgAfterChangeExpected = \'Sebuah pesan baru\'\\n    const wrapper = shallowMount(HelloWorld)\\n    expect(wrapper.vm.msg).toBe(msgExpected)\\n    // memanggil method changeMessage\\n    wrapper.vm.changeMessage(msgAfterChangeExpected)\\n    expect(wrapper.vm.msg).toBe(msgExpected)\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dari kode unit test diatas kita bisa mengetahui bahwa kita bisa langsung mengakses berbagai fitur Vue komponen lewat "),_c(\'code\',{pre:true},[_vm._v("wrapper.vm")]),_vm._v(", ini sama saja seperti "),_c(\'code\',{pre:true},[_vm._v("this")]),_vm._v(" pada "),_c(\'strong\',[_vm._v("SFC")]),_vm._v(" yang merujuk pada "),_c(\'em\',[_vm._v("instance")]),_vm._v(" dari komponen tersebut. Kita bisa mengakses "),_c(\'em\',[_vm._v("data")]),_vm._v(", "),_c(\'code\',{pre:true},[_vm._v("method")]),_vm._v(", "),_c(\'em\',[_vm._v("props")]),_vm._v(", hasil dari "),_c(\'em\',[_vm._v("computed")]),_vm._v(" dan lainnya menggunakan "),_c(\'code\',{pre:true},[_vm._v("wrapper.vm")]),_vm._v(" yang merupakan fitur "),_c(\'code\',{pre:true},[_vm._v("@vue/test-utils")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Beberapa programmer tidak senang melakukan akses langsung ke "),_c(\'em\',[_vm._v("method")]),_vm._v(" tanpa melalui akses ke tampilan pengguna. Seperti pada contoh sebelumnya, unit test tersebut menjadi tidak masuk akal karena method "),_c(\'code\',{pre:true},[_vm._v("changeMessage")]),_vm._v(" pada dasarnya tidak pernah digunakan oleh templat dan menjadi hal yang sia-sia karena kode tersebut tidak pernah mempengaruhi pengguna pada akhirnya.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Untuk mengakomodir hal ini, beberapa programmer lebih senang melakukan unit test dengan mensimulasikan apa yang harus dilakukan pengguna akhir pada aplikasi mereka tanpa mengakses ke "),_c(\'em\',[_vm._v("method")]),_vm._v(" secara langsung.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dari contoh kode sebelumnya kita akan melakukan perubahan agar "),_c(\'em\',[_vm._v("method")]),_vm._v(" "),_c(\'code\',{pre:true},[_vm._v("changeMessage")]),_vm._v(" menjadi berguna, seperti berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<template>\\n  <div class=\\"hello\\">\\n    <h1 class=\\"message\\">{{ msg }}</h1>\\n    <button\\n      class=\\"btn\\"\\n      @click=\\"changeMessage(\'Sebuah pesan baru\')\\">\\n      Ubah pesan\\n    </button>\\n</template>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dengan bagian "),_c(\'code\',{pre:true},[_vm._v("script")]),_vm._v(" seperti berikut ini:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  name: \'HelloWorld\',\\n  data () {\\n    return {\\n      msg: \'Sebuah pesan\'\\n    }\\n  },\\n  methods: {\\n    changeMessage (newMessage) {\\n      this.msg = newMessage\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount } from \'@vue/test-utils\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  it(\'berhasil mounting komponen\', () => {\\n    const msgExpected = \'Sebuah pesan\'\\n    const wrapper = shallowMount(HelloWorld)\\n    expect(wrapper.find(\'.message\')).toBe(msgExpected)\\n  })\\n\\n  it(\'berhasil memanggil changeMessage melalui aksi klik\', () => {\\n    const msgExpected = \'Sebuah pesan\'\\n    const msgAfterChangeExpected = \'Sebuah pesan baru\'\\n    const wrapper = shallowMount(HelloWorld)\\n    expect(wrapper.find(\'.message\')).toBe(msgExpected)\\n\\n    // memanggil method changeMessage lewat aksi klik\\n    const buttonElemen = wrapper.find(\'.btn\')\\n    buttonWrapper.trigger(\'click\')\\n\\n    // mengecek perubahan setelah klik\\n    expect(wrapper.find(\'.message\')).toBe(msgAfterChangeExpected)\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Kedua cara yang kita contohkan benar dan boleh saja dilakukan. Kita bahkan bisa mengerjakan kedua cara tersebut dalam satu berkas unit test. Pilihan terserah pada Anda masing-masing. Cara pertama tentu lebih cepat apalagi kalau mengejar "),_c(\'code\',{pre:true},[_vm._v("coverage")]),_vm._v(", cara kedua lebih baik dan lebih berorientasi pada pengguna tapi seringkali menghabiskan lebih banyak waktu untuk dibuat.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Sebelum melakukan test pada "),_c(\'em\',[_vm._v("props")]),_vm._v(", kita mesti mengetahui terlebih dahulu bahwa "),_c(\'em\',[_vm._v("props")]),_vm._v(" adalah sebuah nilai yang dioper oleh komponen lain, nilainya berupa satu arah yang artinya tidak bisa kita ubah secara langsung dari komponen yang menerima "),_c(\'em\',[_vm._v("props")]),_vm._v(", beberapa props sudah didefinisikan tipe data maupun struktur data yang diperbolehkan. Pada unit test kita bisa menggunakan fitur "),_c(\'code\',{pre:true},[_vm._v("propsData")]),_vm._v(" untuk melempar "),_c(\'em\',[_vm._v("props")]),_vm._v(" pada komponen tanpa perlu membuat komponen induk terlebih dahulu, berikut contoh membuat unit test pada "),_c(\'em\',[_vm._v("props")]),_vm._v(":")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<template>\\n  <div class=\\"hello\\">\\n    <h1>{{ msg }}</h1>\\n    <h2>{{ num }}</h2>\\n    <h3>{{ obj.name }}</h3>\\n    <h4>{{ obj.desc }}</h4>\\n</template>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dengan kode bagian "),_c(\'code\',{pre:true},[_vm._v("script")]),_vm._v(" sebagai berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  name: \'HelloWorld\',\\n  props: {\\n    msg: String,\\n    num: {\\n      type: Number,\\n      default: 0\\n    },\\n    obj: {\\n      type: Object,\\n      default: () => ({\\n        name: \'\',\\n        desc: \'\'\\n      })\\n    },\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount } from \'@vue/test-utils\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  it(\'renders props.msg ketika dilempar\', () => {\\n    const msgProp = \'sebuah pesan\'\\n    const numProp = 12345\\n    const objProp = {\\n      name: \'sebuah nama\',\\n      desc: \'sebuah deskripsi\'\\n    }\\n    const wrapper = shallowMount(HelloWorld, {\\n      propsData: {\\n        msg: msgProp,\\n        num: numProp,\\n        obj: objProp,\\n      }\\n    })\\n    expect(wrapper.find(\'h1\')).toBe(msgProp)\\n    expect(wrapper.find(\'h2\')).toBe(numProp)\\n    expect(wrapper.find(\'h3\')).toBe(objProp.name)\\n    expect(wrapper.find(\'h4\')).toBe(objProp.desc)\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Untuk melakukan test pada "),_c(\'em\',[_vm._v("computed")]),_vm._v(" dan "),_c(\'em\',[_vm._v("watch")]),_vm._v(" kita perlu mengetahui apa yang sebenarnya dilakukan keduanya di dalam Vue "),_c(\'strong\',[_vm._v("SFC")]),_vm._v(". Kita akan memahami mengenai dua hal ini lewat contoh kode berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  data () {\\n    return {\\n      firstName: \'Irfan\',\\n      lastName: \'Maulana\'\\n    }\\n  },\\n  computed: {\\n    fullName () {\\n      return `${this.firstName} ${this.lastName}`\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Kode yang sama bila kita selesaikan dengan "),_c(\'em\',[_vm._v("watch")]),_vm._v(" akan menjadi:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  data () {\\n    return {\\n      firstName: \'Irfan\',\\n      lastName: \'Maulana\',\\n      fullName: \'\',\\n    }\\n  },\\n  watch: {\\n    firstName (newValue) {\\n      this.fullName = `${newValue} ${this.lastName}`\\n    },\\n    lastName (newValue) {\\n      this.fullName = `${this.firstName} ${newValue}`\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dari contoh kode diatas, kita bisa tau bahwa "),_c(\'em\',[_vm._v("computed")]),_vm._v(" akan mengkalkulasikan ulang nilainya pada saat suatu variabel yang digunakan dibawah fungsi "),_c(\'em\',[_vm._v("computed")]),_vm._v(" mengalami perubahan. Ciri khas dari "),_c(\'em\',[_vm._v("computed")]),_vm._v(" sendiri adalah selalu mengambalikan nilai baru yang akan menjadi bagian dari "),_c(\'em\',[_vm._v("data")]),_vm._v(", meskipun begitu nilai dari "),_c(\'em\',[_vm._v("computed")]),_vm._v(" tidak bisa kita ubah secara langsung. Nilainya hanya bisa diubah dengan melakukan perubahan pada variabel yang digunakan oleh "),_c(\'em\',[_vm._v("computed")]),_vm._v(" tersebut. Sedangkan pada "),_c(\'em\',[_vm._v("watch")]),_vm._v(" sama-sama akan dijalankan ketika terjadi perubahan pada variabel di dalamnya, hanya saja "),_c(\'em\',[_vm._v("watch")]),_vm._v(" tidak akan mengembalikan nilai baru yang bisa kita gunakan.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Berikut contoh kode untuk membuat unit test pada "),_c(\'em\',[_vm._v("computed")]),_vm._v(":")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<template>\\n  <h1>{{ fullName }}</h1>\\n</template>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dengan bagian "),_c(\'code\',{pre:true},[_vm._v("script")]),_vm._v(" berisi kode berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  data () {\\n    return {\\n      firstName: \'Irfan\',\\n      lastName: \'Maulana\'\\n    }\\n  },\\n  computed: {\\n    fullName () {\\n      return `${this.firstName} ${this.lastName}`\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount } from \'@vue/test-utils\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  it(\'computed seharusnya ter-trigger\', () => {\\n    const wrapper = shallowMount(HelloWorld)\\n    expect(wrapper.find(\'h1\')).toBe(\'Irfan Maulana\')\\n\\n    // nilai firstName dan lastName akan kita ubah\\n    wrapper.vm.firstName = \'Syamil\'\\n    wrapper.vm.lastName = \'Al-Khawarizmi\'\\n\\n    // mengecek perubahan\\n    expect(wrapper.find(\'h1\')).toBe(\'Syamil Al-Khawarizmi\')\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Pada kasus menggunakan "),_c(\'em\',[_vm._v("watch")]),_vm._v(" bisa dilihat perubahan kodenya menjadi pada contoh kasus berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<template>\\n  <h1>{{ fullName }}</h1>\\n</template>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dengan bagian "),_c(\'code\',{pre:true},[_vm._v("script")]),_vm._v(" berisikan kode:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  data () {\\n    return {\\n      firstName: \'Irfan\',\\n      lastName: \'Maulana\',\\n      fullName: \'\',\\n    }\\n  },\\n  watch: {\\n    firstName (newValue) {\\n      this.fullName = `${newValue} ${this.lastName}`\\n    },\\n    lastName (newValue) {\\n      this.fullName = `${this.firstName} ${newValue}`\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount } from \'@vue/test-utils\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  it(\'watch seharusnya ter-trigger\', () => {\\n    const wrapper = shallowMount(HelloWorld)\\n    expect(wrapper.find(\'h1\')).toBe(\'Irfan Maulana\')\\n\\n    // nilai firstName dan lastName akan kita ubah\\n    wrapper.vm.firstName = \'Syamil\'\\n    wrapper.vm.lastName = \'Al-Khawarizmi\'\\n\\n    // mengecek perubahan\\n    expect(wrapper.find(\'h1\')).toBe(\'Syamil Al-Khawarizmi\')\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Seringkali pada sebuah komponen kita harus melakukan "),_c(\'code\',{pre:true},[_vm._v("$emit")]),_vm._v(" terhadap "),_c(\'em\',[_vm._v("event")]),_vm._v(" yang dilempar oleh komponen induknya. Masalahnya adalah ketika kita mengetest komponen anak yang seperti ini, kita sebenarnya tidak pernah tau "),_c(\'em\',[_vm._v("event")]),_vm._v(" seperti apa yang akan dilempar oleh komponen induknya. Ketidakpunyaan penglihatan kita terhadap aksi sejenis ini membuat kita tidak bisa melakukan test yang bisa kita pastikan hasilnya, karenanya kita biasanya cuma akan melakukan "),_c(\'code\',{pre:true},[_vm._v("Spy")]),_vm._v(" terhadap fungsi seperti ini. Untungnya dari "),_c(\'code\',{pre:true},[_vm._v("@vue/test-utils")]),_vm._v(" sudah menyediakan API yang memudahkan kita melakukan ini yakni "),_c(\'a\',{attrs:{"href":"https://vue-test-utils.vuejs.org/api/wrapper/emitted.html"}},[_vm._v("emitted ↗️")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Contoh menggunakan "),_c(\'code\',{pre:true},[_vm._v("emitted")]),_vm._v(" sebagai berikut, misalkan kita memiliki kode:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  methods: {\\n    emitSomething () {\\n      this.$emit(\'foo\', 123)\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount } from \'@vue/test-utils\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  it(\'memanggil $emit\', () => {\\n    const wrapper = shallowMount(HelloWorld)\\n    wrapper.vm.emitSomething()\\n    expect(wrapper.emitted().foo).toBeTruthy()\\n    expect(wrapper.emitted(\'foo\')).toBeTruthy()\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Terkadang pada sebuah projek kita diharuskan melakukan manipulasi "),_c(\'em\',[_vm._v("route")]),_vm._v(" pada sebuah seperti menggunakan "),_c(\'code\',{pre:true},[_vm._v("router.push")]),_vm._v(", "),_c(\'code\',{pre:true},[_vm._v("router.go")]),_vm._v(" atau lainnya. Sebelum kita melakukan test pada kode seperti ini, kita paling tidak mesti tau apa yang terjadi ketika kita melakukan manipulasi "),_c(\'em\',[_vm._v("router")]),_vm._v(" di Vue. Vue memanfaatkan pustaka tambahan yakni "),_c(\'strong\',[_vm._v("Vue Router")]),_vm._v(" untuk melakukan manipulasi "),_c(\'em\',[_vm._v("router")]),_vm._v(" yang mana diurus secara resmi oleh tim yang sama dengan yang membuat Vue inti.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Ada dua objek yang harus kita tau ketika menggunakan "),_c(\'strong\',[_vm._v("Vue Router")]),_vm._v(" yakni, "),_c(\'em\',[_vm._v("route")]),_vm._v(" yang bisa diakses lewat "),_c(\'strong\',[_vm._v("SFC")]),_vm._v(" melalui "),_c(\'code\',{pre:true},[_vm._v("this.$route")]),_vm._v(" dan juga "),_c(\'em\',[_vm._v("router")]),_vm._v(" yang bisa diakses melalui "),_c(\'code\',{pre:true},[_vm._v("this.$router")]),_vm._v(". "),_c(\'em\',[_vm._v("Route")]),_vm._v(" adalah representasi posisi halaman saat ini, berupa objek yang berisi "),_c(\'code\',{pre:true},[_vm._v("path")]),_vm._v(", "),_c(\'code\',{pre:true},[_vm._v("name")]),_vm._v(", "),_c(\'code\',{pre:true},[_vm._v("query")]),_vm._v(" dan sebagainya. Sementara "),_c(\'em\',[_vm._v("router")]),_vm._v(" merupakan objek yang bisa memanipulasi posisi "),_c(\'em\',[_vm._v("route")]),_vm._v(" tersebut. Jadi kita akan mengakses "),_c(\'em\',[_vm._v("router")]),_vm._v(" untuk mengubah "),_c(\'em\',[_vm._v("route")]),_vm._v(" dan akan mengecek "),_c(\'em\',[_vm._v("route")]),_vm._v(" untuk mengetahui apakah manipulasi tersebut berhasil ataukah tidak.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  methods: {\\n    changeRoute () {\\n      this.$router.push(\'/\')\\n      // console.log(this.$route.path)\\n      // akan mencetak nilai /\\n    },\\n    changeRouteFoo () {\\n      this.$router.push(\'/foo\')\\n      // console.log(this.$route.path)\\n      // akan mencetak nilai /foo\\n    },\\n    changeRouteBar () {\\n      this.$router.push(\'/bar\')\\n      // console.log(this.$route.path)\\n      // akan mencetak nilai /bar\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount, createLocalVue } from \'@vue/test-utils\'\\nimport VueRouter from \'vue-router\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\nconst localVue = createLocalVue()\\nlocalVue.use(VueRouter)\\n\\nconst Foo = { template: \'<div>foo</div>\' }\\nconst Bar = { template: \'<div>bar</div>\' }\\nconst dummyRoutes = [\\n  { path: \'/foo\', component: Foo },\\n  { path: \'/bar\', component: Bar }\\n]\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  it(\'mengubah $route pada komponen\', () => {\\n    const router = new VueRouter({\\n      routes: dummyRoutes\\n    })\\n\\n    const wrapper = shallowMount(HelloWorld, {\\n      localVue,\\n      router\\n    })\\n\\n    // ubah $route ke /\\n    wrapper.vm.changeRoute()\\n    expect(wrapper.vm.$route.path).toBe(\'/\')\\n    // ubah $route ke /foo\\n    wrapper.vm.changeRouteFoo()\\n    expect(wrapper.vm.$route.path).toBe(\'/foo\')\\n    // ubah $route ke /bar\\n    wrapper.vm.changeRouteBar()\\n    expect(wrapper.vm.$route.path).toBe(\'/bar\')\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dari contoh kode unit test diatas, kita belajar untuk menggunakan "),_c(\'code\',{pre:true},[_vm._v("localVue")]),_vm._v(" dari "),_c(\'code\',{pre:true},[_vm._v("@vue/test-utils")]),_vm._v(". API ini digunakan untuk menamabahkan plugin ke dalam unit test kita, seperti dijelaskan sebelumnya bahwa Vue Router merupakan pustaka luar yang harus digunakan lewat "),_c(\'code\',{pre:true},[_vm._v("Vue.use")]),_vm._v(" ke dalam "),_c(\'em\',[_vm._v("instance")]),_vm._v(" utama dari Vue. Maka pada unit test kita memanfaatkan "),_c(\'code\',{pre:true},[_vm._v("localVue")]),_vm._v(" untuk melakukan hal yang sama namun dalam lingkungan unit test. Selain mengoper opsi "),_c(\'code\',{pre:true},[_vm._v("localVue")]),_vm._v(", kita juga diharuskan melempar opsi "),_c(\'em\',[_vm._v("router")]),_vm._v(" seperti saat kita melakukan "),_c(\'em\',[_vm._v("instance")]),_vm._v("  Vue ketika menggunakan "),_c(\'strong\',[_vm._v("Vue Router")]),_vm._v(" seperti contoh potongan kode berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("const Foo = { template: \'<div>foo</div>\' }\\nconst Bar = { template: \'<div>bar</div>\' }\\n\\nconst routes = [\\n  { path: \'/foo\', component: Foo },\\n  { path: \'/bar\', component: Bar }\\n]\\n\\nconst router = new VueRouter({\\n  routes // short for `routes: routes`\\n})\\n\\nconst app = new Vue({\\n  router\\n}).$mount(\'#app\')\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Pada contoh kode unit test yang kita buat sebelumnya kita memalsukan "),_c(\'code\',{pre:true},[_vm._v("routes")]),_vm._v(" yang ada, pada projek Vue mungkin hal ini tidak diperlukan karena kita bisa langsung impor dari berkas "),_c(\'code\',{pre:true},[_vm._v("router.js")]),_vm._v(" yang kita buat sebelumnya tapi pada projek Nuxt yang tidak memiliki "),_c(\'code\',{pre:true},[_vm._v("router.js")]),_vm._v(" hal ini menjadi dibutuhkan. Namun tidak menutup kemungkinan juga kita melakukan hal seperti ini pada projek Vue, kembali pada preferensi masing-masing lebih memilih kode yang mana.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Sebagai catatan, "),_c(\'strong\',[_vm._v("Vue Router")]),_vm._v(" mungkin tidak akan memberikan error ketika kita memindahkan sebuah "),_c(\'em\',[_vm._v("route")]),_vm._v(" ke alamat yang tidak dikenal atau belum didefinisikan sebelumnya, namun kita bisa mengetahui apakah proses pemindahan itu berhasil atau tidak dari posisi "),_c(\'em\',[_vm._v("route")]),_vm._v(" setelah pemindahan tersebut. Bila gagal, maka posisi "),_c(\'em\',[_vm._v("route")]),_vm._v(" akan tetap sama seperti sebelumnya atau dalam kata lain tidak terjadi apa-apa pada objek "),_c(\'em\',[_vm._v("route")]),_vm._v(" tersebut.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Pada beberapa kasus kalian akan memanggil "),_c(\'code\',{pre:true},[_vm._v("this.$route")]),_vm._v(" pada siklus hidup mounted atau pada computed yang mana juga akan dikalkulasi secepatnya setelah komponen tersebut dibuat. Dengan contoh kasus seperti ini, cara yang kita gunakan seperti diatas bisa jadi akan memberikan galat pada saat melakukan render di kode unit test kita.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Untuk menyelesaikan masalah ini, kita bisa memanfaatkan fitur "),_c(\'code\',{pre:true},[_vm._v("mock")]),_vm._v(" dari Vue Test util dengan contoh seperti kode berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("const $route = {\\n  path: \'http://www.example-path.com\',\\n  params: \'\',\\n  query: {},\\n  fullPath: \'\'\\n  // see https://router.vuejs.org/api/#route-object-properties for complete properties\\n}\\nconst wrapper = shallowMount(Component, {\\n  mocks: {\\n    $route\\n  }\\n})\\nexpect(wrapper.vm.$route.path).toBe($route.path)\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Hal yang perlu diperhatikan adalah bahwa kita tidak perlu lagi melempar route "),_c(\'em\',[_vm._v("bohongan")]),_vm._v(" pada saat membuat Vue Instance seperti yang sebelumnya kita kerjakan, jadi bisa cukup dengan kode berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("const wrapper = shallowMount(HelloWorld, {\\n  localVue,\\n  // router // -- bagian ini tidak diperlukan lagi\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"https://vuex.vuejs.org/"}},[_vm._v("Vuex ↗️")]),_vm._v(" merupakan salah satu pustaka yang sering sekali kita gunakan dalam suatu projek. Vuex menjadi satu-satunya pilihan yang paling mumpuni sebagai manajemen state pada Vue untuk saat ini. Berikut beberapa hal yang akan sering kita jumpai saat melakukan test pada aplikasi Vue yang menggunakan Vuex di dalamnya:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'em\',[_vm._v("Getters")]),_vm._v(" biasanya digunakan ketika kita ingin melakukan manipulasi pada state sebelum digunakan di sebuah komponen tanpa mengubah nilai asli dari state tersebut.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Contoh kode "),_c(\'em\',[_vm._v("getters")]),_vm._v(" seperti berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  state: {\\n    messages: []\\n  },\\n  getters: {\\n    unreadMessages(state) {\\n      return state.messages.filter(item => item.read === 0)\\n    },\\n    readMessages(state) {\\n      return state.messages.filter(item => item.read === 1)\\n    }\\n  },\\n  mutations: {\\n    setMessageList: (state, data) => {\\n      state.messages = data\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dari kode diatas kita mempunyai dua "),_c(\'em\',[_vm._v("getters")]),_vm._v(" yakni "),_c(\'code\',{pre:true},[_vm._v("unreadMessages")]),_vm._v(" dan "),_c(\'code\',{pre:true},[_vm._v("readMessages")]),_vm._v(". Keduanya digunakan untuk mengambil spesifik nilai dari sebuah daftar di state "),_c(\'code\',{pre:true},[_vm._v("messages")]),_vm._v(". Getters bisa di test seperti kode JavaScript biasa tanpa perlu melakukan "),_c(\'em\',[_vm._v("instance")]),_vm._v(" Vuex Store terlebih dahulu, namun bisa juga kita test lewat "),_c(\'em\',[_vm._v("instance")]),_vm._v(" Vuex Store bila memang dibutuhkan.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Berikut contoh unit test untuk kode "),_c(\'em\',[_vm._v("getters")]),_vm._v(" diatas:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import store from \'@/store/messages\'\\n\\nconst messages = [{\\n  id: \'pesan-1\',\\n  text: \'sebuah pesan\',\\n  read: 0\\n}, {\\n  id: \'pesan-2\',\\n  text: \'sebuah pesan 2\',\\n  read: 1\\n}, {\\n  id: \'pesan-3\',\\n  text: \'sebuah pesan 3\',\\n  read: 1\\n}]\\n\\ndescribe(\'Vuex Store: Messages\', () => {\\n  it(\'unreadMessages harus mengembalikan nilai yang benar\', () => {\\n    const result = store.getters.unreadMessages({\\n      messages\\n    })\\n    const expectedResult = [{\\n      id: \'pesan-1\',\\n      text: \'sebuah pesan\',\\n      read: 0\\n    }]\\n\\n    expect(result).toEqual(expectedResult)\\n  })\\n\\n  it(\'readMessages harus mengembalikan nilai yang benar\', () => {\\n    const result = store.getters.readMessages({\\n      messages\\n    })\\n    const expectedResult = [{\\n      id: \'pesan-2\',\\n      text: \'sebuah pesan 2\',\\n      read: 1\\n    }, {\\n      id: \'pesan-3\',\\n      text: \'sebuah pesan 3\',\\n      read: 1\\n    }]\\n\\n    expect(result).toEqual(expectedResult)\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'em\',[_vm._v("Mutations")]),_vm._v(" digunakan untuk mengubah nilai state, seperti kita tau bersama bahwa di Vuex terlarang untuk mengubah nilai state secara langsung. Semua perubahan state diharuskan untuk lewat "),_c(\'em\',[_vm._v("mutations")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Contoh kode "),_c(\'em\',[_vm._v("mutations")]),_vm._v(" sebagai berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("export default {\\n  state: {\\n    messages: []\\n  },\\n  mutations: {\\n    setMessageList: (state, data) => {\\n      state.messages = data\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import store from \'@/store/messages\'\\n\\nconst messages = [{\\n  id: \'pesan-1\',\\n  text: \'sebuah pesan\',\\n  read: 0\\n}, {\\n  id: \'pesan-2\',\\n  text: \'sebuah pesan 2\',\\n  read: 1\\n}, {\\n  id: \'pesan-3\',\\n  text: \'sebuah pesan 3\',\\n  read: 1\\n}]\\n\\ndescribe(\'Vuex Store: Messages\', () => {\\n  it(\'setMessageList harus mengubah nilai state messages\', () => {\\n    let dummyState = {\\n      messages: []\\n    }\\n    store.mutations.setMessageList(dummyState, messages)\\n    expect(dummyState.messages).toEqual(messages)\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Kita bisa juga melakukan test dengan menggunakan "),_c(\'em\',[_vm._v("instance")]),_vm._v(" Vuex Store untuk mengakses "),_c(\'em\',[_vm._v("mutations")]),_vm._v(" seperti berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import Vuex from \'vuex\';\\nimport store from \'@/store/messages\'\\n\\nconst $storeInstance = new Vuex.Store(store)\\n\\nconst messages = [{\\n  id: \'pesan-1\',\\n  text: \'sebuah pesan\',\\n  read: 0\\n}, {\\n  id: \'pesan-2\',\\n  text: \'sebuah pesan 2\',\\n  read: 1\\n}, {\\n  id: \'pesan-3\',\\n  text: \'sebuah pesan 3\',\\n  read: 1\\n}]\\n\\ndescribe(\'Vuex Store: Messages\', () => {\\n  it(\'setMessageList harus mengubah nilai state messages\', () => {\\n    // memanggil mutations lewat Vuex Instance\\n    $storeInstance.commit(\'setMessageList\', messages)\\n    // mengecek perubahan state\\n    expect($storeInstance.state.messages).toEqual(messages)\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'em\',[_vm._v("Actions")]),_vm._v(" digunakan untuk mengeksekusi berbagai fungsi yang tidak berjalan sinkron ("),_c(\'em\',[_vm._v("asynchronous")]),_vm._v("), berikut contoh kode Actions:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import axios from \'axios\'\\n\\nexport default {\\n  state: {\\n    messages: []\\n  },\\n  mutations: {\\n    setMessageList: (state, data) => {\\n      state.messages = data\\n    }\\n  },\\n  actions: {\\n    async fetchMessages({ commit }, { username }) {\\n      const response = await axios.get(\\"/api/messages\\", {\\n        username\\n      })\\n      commit(\'setMessageList\', response.data)\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import axios from \'axios\'\\nimport store from \'@/store/messages\'\\n\\nconst messages = [{\\n  id: \'pesan-1\',\\n  text: \'sebuah pesan\',\\n  read: 0\\n}, {\\n  id: \'pesan-2\',\\n  text: \'sebuah pesan 2\',\\n  read: 1\\n}, {\\n  id: \'pesan-3\',\\n  text: \'sebuah pesan 3\',\\n  read: 1\\n}]\\n\\ndescribe(\'Vuex Store: Messages\', () => {\\n  it(\'fetchMessages harus mendapatkan semua data messages\', () => {\\n    const commit = jest.fn()\\n    const mockFetchPromise = Promise.resolve({\\n      data: messages,\\n    })\\n    axios.get = jest.fn().mockResolvedValue(mockFetchPromise)\\n\\n    store.actions.fetchMessages({ commit }, { username: \'dummy-username\' })\\n    expect(commit).toHaveBeenCalledWith(\'setMessageList\', messages)\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dengan cara diatas, kita tidak bisa mengecek perubahan "),_c(\'em\',[_vm._v("state")]),_vm._v(" karena fungsi "),_c(\'code\',{pre:true},[_vm._v("commit")]),_vm._v(" sudah di-"),_c(\'em\',[_vm._v("mock")]),_vm._v(" sehingga tidak lagi memanggil fungsi yang sesungguhnya. Untuk mengatasi kekurangan diatas kita bisa meng-"),_c(\'em\',[_vm._v("instance")]),_vm._v(" Vuex Store agar fungsi commit yang sesungguhnya bisa dipakai di unit test. Berikut contoh kodenya:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import Vuex from \'vuex\'\\nimport axios from \'axios\'\\nimport store from \'@/store/messages\'\\n\\nconst $storeInstance = new Vuex.Store(store)\\n\\nconst messages = [{\\n  id: \'pesan-1\',\\n  text: \'sebuah pesan\',\\n  read: 0\\n}, {\\n  id: \'pesan-2\',\\n  text: \'sebuah pesan 2\',\\n  read: 1\\n}, {\\n  id: \'pesan-3\',\\n  text: \'sebuah pesan 3\',\\n  read: 1\\n}]\\n\\ndescribe(\'Vuex Store: Messages\', () => {\\n  it(\'fetchMessages harus mendapatkan semua data messages\', () => {\\n    const mockFetchPromise = Promise.resolve({\\n      data: messages,\\n    })\\n    axios.get = jest.fn().mockResolvedValueOnce(mockFetchPromise)\\n    // mengeksekusi actions lewat Vuex Instance\\n    $storeInstance.dispatch(\'fetchMessages\', { username: \'dummy-username\' })\\n    // mengecek perubahan state\\n    expect($storeInstance.state.messages).toEqual(messages)\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Bila sebelumnya kita melakukan test langsung pada berkas Vuex itu sendiri, berikutnya kita akan memberikan contoh ketika kita menggunakan Vuex di komponen. Pada dasarnya sama saja, kita hanya perlu melakukan "),_c(\'em\',[_vm._v("instance")]),_vm._v(" Vuex Store agar bisa menggunakan berbagai fitur Vuex di komponen. Bedanya hanya kita harus menambahkan "),_c(\'code\',{pre:true},[_vm._v("localVue")]),_vm._v(" dari "),_c(\'code\',{pre:true},[_vm._v("@vue/test-utils")]),_vm._v(" untuk memasangkan Vuex ke dalam komponen yang akan kita test. Berikut contoh kodenya:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import axios from \'axios\'\\n\\nexport default {\\n  state: {\\n    messages: []\\n  },\\n  mutations: {\\n    setMessageList: (state, data) => {\\n      state.messages = data\\n    }\\n  },\\n  actions: {\\n    async fetchMessages({ commit }, { username }) {\\n      const response = await axios.get(\\"/api/messages\\", {\\n        username\\n      })\\n      commit(\'setMessageList\', response.data)\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dan akan digunakan di komponen "),_c(\'code\',{pre:true},[_vm._v("HelloWorld.vue")]),_vm._v(" pada bagian templat seperti berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<template>\\n  <div>\\n    <h1>Contoh Vuex di Komponen</h1>\\n    <ul\\n      v-for=\\"message in messages\\"\\n      :key=\\"message.id\\">\\n      {{ message.text }}\\n    </ul>\\n  </div>\\n</template>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Sedangkan pada bagian "),_c(\'code\',{pre:true},[_vm._v("script")]),_vm._v(" berisi kode berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { mapState, mapActions } from \\"vuex\\"\\n\\nexport default {\\n  data () {\\n    return {\\n      username: \'dummy-username\'\\n    }\\n  },\\n  computed: {\\n    ...mapState([\\n      \'messages\'\\n    ])\\n  },\\n  methods: {\\n    ...mapState([\\n      \'fetchMessages\'\\n    ]),\\n    fireFetchMessage() {\\n      this.fetchMessages({\\n        username: this.username\\n      })\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount, localVue } from \'@vue/test-utils\'\\nimport Vuex from \'vuex\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\nconst localVue = createLocalVue()\\nlocalVue.use(Vuex)\\n\\nconst mockFetchMessages = jest.fn()\\nconst store = new Vuex.Store({\\n  state: {\\n    messages: []\\n  },\\n  actions: {\\n    fetchMessages: mockFetchMessages\\n  }\\n})\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  // reset semua pemalsuan (mock) setiap selesai test\\n  afterEach(() => {\\n    jest.clearAllMocks()\\n  })\\n\\n  it(\'memanggil methods fireFetchMessage\', async (done) => {\\n    // mengoper localVue dan store\\n    const wrapper = shallowMount(HelloWorld, {\\n      store,\\n      localVue\\n    })\\n    await wrapper.vm.fireFetchMessage()\\n\\n    expect(mockFetchMessages).toHaveBeenCalledTimes(1)\\n    expect(mockFetchMessages).toHaveBeenCalledWith({\\n      username: \'dummy-username\'\\n    })\\n    done()\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Pada unit test di atas saya memilih untuk melakukan "),_c(\'em\',[_vm._v("mock")]),_vm._v(" pada actions "),_c(\'code\',{pre:true},[_vm._v("fetchMessages")]),_vm._v(" yang akan ikut terpanggil ketika kita memanggil method "),_c(\'code\',{pre:true},[_vm._v("fireFetchMessage")]),_vm._v(". Tujuannya agar tidak perlu berulang melakukan "),_c(\'em\',[_vm._v("mock")]),_vm._v(" pada pemanggilan Rest API yang sebenarnya sudah dikerjakan ketika membuat unit test untuk file "),_c(\'em\',[_vm._v("store")]),_vm._v(" itu sendiri. Sebenarnya kita bisa juga memilih untuk memanggil store tanpa melakukan "),_c(\'em\',[_vm._v("mock")]),_vm._v(" sehingga kodenya akan memanggil store yang sesungguhnya. berikut contoh kodenya:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount, localVue } from \'@vue/test-utils\'\\nimport Vuex from \'vuex\'\\nimport axios from \'axios\'\\nimport storeMessages from \'@/store/messages\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\nconst localVue = createLocalVue()\\nlocalVue.use(Vuex)\\n\\nconst store =  new Vuex.Store(storeMessages)\\n\\nconst messages = [{\\n  id: \'pesan-1\',\\n  text: \'sebuah pesan\',\\n  read: 0\\n}, {\\n  id: \'pesan-2\',\\n  text: \'sebuah pesan 2\',\\n  read: 1\\n}, {\\n  id: \'pesan-3\',\\n  text: \'sebuah pesan 3\',\\n  read: 1\\n}]\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  // reset semua pemalsuan (mock) setiap selesai test\\n  afterEach(() => {\\n    jest.clearAllMocks()\\n  })\\n\\n  it(\'memanggil methods fireFetchMessage\', async (done) => {\\n    const mockFetchPromise = Promise.resolve({\\n      data: messages,\\n    })\\n    axios.get = jest.fn().mockResolvedValueOnce(mockFetchPromise)\\n    // mengoper localVue dan store\\n    const wrapper = shallowMount(HelloWorld, {\\n      store,\\n      localVue\\n    })\\n    await wrapper.vm.fireFetchMessage()\\n    process.nextTick(() => {\\n      expect(wrapper.vm.messages).toEqual(messages)\\n      done()\\n    })\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Pada projek Vue dengan skala besar dan kompleks seringkali kita melakukan scoping pada kode Vuex dengan menggunakan fitur "),_c(\'a\',{attrs:{"href":"https://vuex.vuejs.org/guide/modules.html"}},[_vm._v("Vuex Modules ↗️")]),_vm._v(". Ketika kita menggunakan fitur Modules ini, maka cara kita memalsukan Vuex pada unit testing pun menjadi berbeda dengan cara kita ketika tidak menggunakan Module.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("const moduleA = {\\n  namespace: true,\\n  state: { ... },\\n  mutations: { ... },\\n  actions: { ... },\\n  getters: { ... }\\n}\\n\\nconst moduleB = {\\n  namespace: true,\\n  state: { ... },\\n  mutations: { ... },\\n  actions: { ... }\\n}\\n\\nconst store = new Vuex.Store({\\n  modules: {\\n    a: moduleA,\\n    b: moduleB\\n  }\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount, localVue } from \'@vue/test-utils\'\\nimport Vuex from \'vuex\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\nconst localVue = createLocalVue()\\nlocalVue.use(Vuex)\\n\\nconst moduleA = {\\n  namespace: true,\\n  state: { ... },\\n  mutations: { ... },\\n  actions: { ... },\\n  getters: { ... }\\n}\\n\\nconst moduleB = {\\n  namespace: true,\\n  state: { ... },\\n  mutations: { ... },\\n  actions: { ... }\\n}\\n\\nconst store = new Vuex.Store({\\n  modules: {\\n    a: moduleA,\\n    b: moduleB\\n  },\\n  state: { ... }, //  state di luar modules\\n  mutations: { ... }, //  mutations di luar modules\\n  actions: { ... } //  actions di luar modules\\n})\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  it(\'memanggil state modules dengan namespace\', (done) => {\\n    // mengoper localVue dan store dalam shallowRender\\n    const wrapper = shallowMount(HelloWorld, {\\n      store,\\n      localVue\\n    })\\n    done()\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"http://kazupon.github.io/vue-i18n/"}},[_vm._v("Vue-i18n ↗️")]),_vm._v(" menjadi salah satu pilihan terbaik bila kita ingin mendukung beberapa bahasa dalam sebuah projek Vue kita. Dengan Menggunakan Vue-i18n akan membuat cara kita melakukan unit test sedikit berbeda dibandingkan ketika tidak menggunakannya.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-html"}},[_vm._v("<template>\\n  <div class=\\"hello\\">\\n    {{ $t(\\"message\\") }}\\n  </div>\\n</template>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Cara paling gampang melakukan test ketika melakukan test dengan Vue-i18n adalah dengan memalsukan fungsi "),_c(\'code\',{pre:true},[_vm._v("$t")]),_vm._v(" yang biasa digunakan untuk mengambil suatu kata dari penyimpanan bahasa yang kita kerjakan.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount } from \'@vue/test-utils\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\ndescribe(\\"HelloWorld\\", () => {\\n  it(\\"renders successfully with i18n\\", () => {\\n    const wrapper = shallowMount(HelloWorld, {\\n      mocks: {\\n        $t: (msg) => msg\\n      }\\n    })\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Bisa juga kita membuatnya menjadi konfigurasi global dengan menambahkan konfigurasi pada "),_c(\'code\',{pre:true},[_vm._v("jest.config.js")]),_vm._v(" seperti:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("// untuk jest v24x\\nsetupFilesAfterEnv: [\'<rootDir>/test/setup-test.js\'],\\n// `setupFiles` atau `setupTestFrameworkScriptFile` untuk jest 23\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Pada file "),_c(\'code\',{pre:true},[_vm._v("setup-test.js")]),_vm._v(", kita bisa menambahkan "),_c(\'code\',{pre:true},[_vm._v("config")]),_vm._v(" seperti kode berikut:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { config } from \'@vue/test-utils\'\\nimport langEN from \'@/locales/en\'\\n\\nconst defaultLocale = \'en\'\\n\\nconfig.mocks[\'$t\'] = (msg) => langEN[defaultLocale][msg]\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Kedua cara ini sebenarnya bukanlah cara yang sering saya gunakan, saya lebih senang memanfaastkan "),_c(\'code\',{pre:true},[_vm._v("localVue")]),_vm._v(" untuk memasang i18n ke dalam unit test. Berikut contoh kodenya:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount, localVue } from \'@vue/test-utils\'\\nimport VueI18n from \'vue-i18n\'\\nimport langEN from \'@/locales/en\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\nlocalVue.use(VueI18n)\\n\\nconst i18n = new VueI18n({\\n  locale: \'en\', // set locale\\n  messages: {\\n    en: langEN\\n  }\\n})\\n\\ndescribe(\\"HelloWorld\\", () => {\\n  it(\\"renders successfully with i18n\\", () => {\\n    const wrapper = shallowMount(HelloWorld, {\\n      i18n,\\n      localVue\\n    })\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_vm._v("Fetch API akan mengembalikan dua level "),_c(\'code\',{pre:true},[_vm._v("Promise")]),_vm._v(" yang bersarang, kalian perlu memanggil "),_c(\'code\',{pre:true},[_vm._v("response.json()")]),_vm._v(" untuk mendapatkan Promise yang kedua, barulah di dalam Promise kedua ini kalian bisa mendapati nilai yang diinginkan.")]),_vm._v(" "),_c(\'li\',[_vm._v("Fetch API merupakan API bawaan dari peramban, bisa diakses lewat objek "),_c(\'code\',{pre:true},[_vm._v("window")]),_vm._v(" yang direfreksikan lewat objek "),_c(\'code\',{pre:true},[_vm._v("global")]),_vm._v(" di dalam Jest.")]),_vm._v(" "),_c(\'li\',[_vm._v("Menggunakan Axios kita tidak perlu menggunakan Promise dua kali.")]),_vm._v(" "),_c(\'li\',[_vm._v("Response dari Axios terletak di properti "),_c(\'em\',[_vm._v("data")]),_vm._v(" dari objek "),_c(\'code\',{pre:true},[_vm._v("response")]),_vm._v(".")]),_vm._v(" "),_c(\'li\',[_vm._v("Dalam unit test sebisa mungkin kita tidak melakukan pemanggilan Rest API yang sesungguhnya, kita cukup melakukan simulasi terjadinya pemanggilan Rest API.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("const URL = \'https://ghibliapi.herokuapp.com/films/\'\\n\\nexport default {\\n  data () {\\n    return {\\n      dataResponse: []\\n    }\\n  },\\n  methods: {\\n    async fetchData () {\\n      try {\\n        const response = await fetch(URL)\\n        const data = await response.json()\\n        this.dataResponse = data\\n      } catch (error) {\\n        this.dataResponse = []\\n      }\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount } from \'@vue/test-utils\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  // reset semua pemalsuan (mock) setiap selesai test\\n  afterEach(() => {\\n    jest.clearAllMocks()\\n  })\\n\\n  it(\'memanggil Rest API dengan Fetch API\', async (done) => {\\n    const mockSuccessResponse = [\\n      \'a\', \'b\', \'c\'\\n    ];\\n    const mockFetchPromise = Promise.resolve({\\n      json: () => Promise.resolve(mockSuccessResponse),\\n    });\\n    // memalsukan fungsi fetch API\\n    // selalu mengembalikan nilai sesuai yang diinginkan\\n    global.fetch = jest.fn().mockResolvedValue(mockFetchPromise)\\n\\n    const wrapper = shallowMount(HelloWorld)\\n    await wrapper.vm.fetchData()\\n\\n    // memastikan fungsi fetch dipanggil sekali\\n    expect(global.fetch).toHaveBeenCalledTimes(1)\\n    // memastikan fungsi dipanggil dengan URL yang benar\\n    expect(global.fetch).toHaveBeenCalledWith(\'https://ghibliapi.herokuapp.com/films/\')\\n    expect(wrapper.vm.dataResponse).toEqual(mockSuccessResponse)\\n    done()\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import axios from \'axios\'\\nconst URL = \'https://ghibliapi.herokuapp.com/films/\'\\n\\nexport default {\\n  data () {\\n    return {\\n      dataResponse: []\\n    }\\n  },\\n  methods: {\\n    async fetchDataAxios () {\\n      try {\\n        const response = await axios.get(URL)\\n        this.dataResponse = response.data\\n      } catch (error) {\\n        this.dataResponse = []\\n      }\\n    }\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import { shallowMount } from \'@vue/test-utils\'\\nimport axios from \'axios\'\\nimport HelloWorld from \'@/components/HelloWorld.vue\'\\n\\ndescribe(\'HelloWorld.vue\', () => {\\n  // reset semua pemalsuan (mock) setiap selesai test\\n  afterEach(() => {\\n    jest.clearAllMocks()\\n  })\\n\\n  it(\'memanggil Rest API dengan Axios\', async (done) => {\\n    const mockSuccessResponse = [\\n      \'a\', \'b\', \'c\'\\n    ];\\n    const mockFetchPromise = Promise.resolve({\\n      data: mockSuccessResponse,\\n    });\\n    // memalsukan fungsi fetch API\\n    // selalu mengembalikan nilai sesuai yang diinginkan\\n    axios.get = jest.fn().mockResolvedValue(mockFetchPromise)\\n\\n    const wrapper = shallowMount(HelloWorld)\\n    await wrapper.vm.fetchDataAxios()\\n\\n    // memastikan fungsi fetch dipanggil sekali\\n    expect(axios.get).toHaveBeenCalledTimes(1)\\n    // memastikan fungsi dipanggil dengan URL yang benar\\n    expect(axios.get).toHaveBeenCalledWith(\'https://ghibliapi.herokuapp.com/films/\')\\n    expect(wrapper.vm.dataResponse).toEqual(mockSuccessResponse)\\n    done()\\n  })\\n})\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'a\',{attrs:{"href":"#navigasi"}},[_vm._v("🔼 Kembali ke navigasi")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ol\',[_c(\'li\',[_c(\'a\',{attrs:{"href":"https://www.guru99.com/unit-testing-guide.html"}},[_vm._v("https://www.guru99.com/unit-testing-guide.html ↗️")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"https://howtodoinjava.com/best-practices/first-principles-for-good-tests/"}},[_vm._v("https://howtodoinjava.com/best-practices/first-principles-for-good-tests/ ↗️")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"https://lmiller1990.github.io/vue-testing-handbook/"}},[_vm._v("https://lmiller1990.github.io/vue-testing-handbook/ ↗️")])]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"https://vue-test-utils.vuejs.org/"}},[_vm._v("https://vue-test-utils.vuejs.org/ ↗️")])])]) }]'}],error:null,serverRendered:!0}</script><script src="/_nuxt/e3ec835fcc37fca6ab98.js" defer></script><script src="/_nuxt/83083bdec49fbd5ef603.js" defer></script><script src="/_nuxt/ef9105dcb580444c6064.js" defer></script><script src="/_nuxt/56ca50a1cde6cc1a7bb5.js" defer></script><script src="/_nuxt/fc701639c58c8661387d.js" defer></script><script src="/_nuxt/d4b090cfdd68a91f3fb6.js" defer></script><noscript data-n-head="ssr" data-body="true">This website requires JavaScript.</noscript>
    <script type="application/ld+json">{"@context": "http://schema.org","@type": "WebSite","url": "https://www.mazipan.xyz", "name": "Irfan Maulana", "author": "Irfan Maulana", "image": "https://www.mazipan.xyz/icon.png", "description": "@mazipan | A personal blog by Irfan Maulana", "sameAs": [ "https://www.facebook.com/mazipanneh", "https://instagram.com/maz_ipan", "https://twitter.com/Maz_Ipan", "https://id.linkedin.com/in/mazipan", "https://www.slideshare.net/IrfanMaulana21", "https://github.com/mazipan"]}</script>
  </body>
</html>
